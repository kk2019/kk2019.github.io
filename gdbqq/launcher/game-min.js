var egret; (function(c) {
    c.egret_string_code = {};
    c.egret_string_code[ - 1] = "\u4e0d\u5b58\u5728\u7684stringId:{0}";
    c.egret_string_code[1E3] = "Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE";
    c.egret_string_code[1001] = "\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7";
    c.egret_string_code[1002] = "egret.Ticker\u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\u5355\u4f8b\uff0c\u4e0d\u5141\u8bb8\u5728\u5916\u90e8\u5b9e\u4f8b\u5316\uff0c\u8ba1\u65f6\u5668\u8bf7\u4f7f\u7528egret.Timer\u7c7b\uff01";
    c.egret_string_code[1003] = "Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout";
    c.egret_string_code[1004] = "ExternalInterface\u8c03\u7528\u4e86js\u6ca1\u6709\u6ce8\u518c\u7684\u65b9\u6cd5: {0}";
    c.egret_string_code[1005] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684blendMode: {0}";
    c.egret_string_code[1006] = "child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185";
    c.egret_string_code[1007] = "\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4";
    c.egret_string_code[1008] = "child\u672a\u88abaddChild\u5230\u8be5parent";
    c.egret_string_code[1009] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684\u9002\u914d\u6a21\u5f0f:{0}";
    c.egret_string_code[1010] = "addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a";
    c.egret_string_code[1011] = 'BitmapText\u627e\u4e0d\u5230\u6587\u5b57\u6240\u5bf9\u5e94\u7684\u7eb9\u7406:"{0}"';
    c.egret_string_code[1012] = "egret.BitmapTextSpriteSheet\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528egret.BitmapFont\u4ee3\u66ff\u3002";
    c.egret_string_code[1013] = "TextField.setFocus \u6ca1\u6709\u5b9e\u73b0";
    c.egret_string_code[1014] = "Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316";
    c.egret_string_code[1015] = "xml not found!";
    c.egret_string_code[1016] = "{0}\u5df2\u7ecf\u5e9f\u5f03";
    c.egret_string_code[1017] = "JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: {0}\ndata: {1}";
    c.egret_string_code[1018] = "egret_html5_localStorage.setItem\u4fdd\u5b58\u5931\u8d25,key={0}&value={1}";
    c.egret_string_code[1019] = "\u7f51\u7edc\u5f02\u5e38:{0}";
    c.egret_string_code[1020] = "\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668";
    c.egret_string_code[1021] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl";
    c.egret_string_code[1022] = "{0} ArgumentError";
    c.egret_string_code[1023] = "\u6b64\u65b9\u6cd5\u5728ScrollView\u5185\u4e0d\u53ef\u7528!";
    c.egret_string_code[1024] = "\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode";
    c.egret_string_code[1025] = "\u9047\u5230\u6587\u4ef6\u5c3e";
    c.egret_string_code[1026] = "EncodingError! The code point {0} could not be encoded.";
    c.egret_string_code[1027] = "DecodingError";
    c.egret_string_code[1028] = "\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:{0}\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002";
    c.egret_string_code[1029] = "Function.prototype.bind - what is trying to be bound is not callable";
    c.egret_string_code[1030] = "\u8be5API\u5df2\u5e9f\u5f03";
    c.egret_string_code[1031] = "setVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume = value\u4ee3\u66ff";
    c.egret_string_code[1032] = "getVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume\u4ee3\u66ff";
    c.egret_string_code[2E3] = "RES.createGroup()\u4f20\u5165\u4e86\u914d\u7f6e\u4e2d\u4e0d\u5b58\u5728\u7684\u952e\u503c: {0}";
    c.egret_string_code[2001] = 'RES\u52a0\u8f7d\u4e86\u4e0d\u5b58\u5728\u6216\u7a7a\u7684\u8d44\u6e90\u7ec4:"{0}"';
    c.egret_string_code[3E3] = "\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25: {0}";
    c.egret_string_code[3001] = "\u627e\u4e0d\u5230\u4e3b\u9898\u4e2d\u6240\u914d\u7f6e\u7684\u76ae\u80a4\u7c7b\u540d: {0}";
    c.egret_string_code[3002] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    c.egret_string_code[3003] = "\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";
    c.egret_string_code[3004] = "addChild(){0}addElement()\u4ee3\u66ff";
    c.egret_string_code[3005] = "addChildAt(){0}addElementAt()\u4ee3\u66ff";
    c.egret_string_code[3006] = "removeChild(){0}removeElement()\u4ee3\u66ff";
    c.egret_string_code[3007] = "removeChildAt(){0}removeElementAt()\u4ee3\u66ff";
    c.egret_string_code[3008] = "setChildIndex(){0}setElementIndex()\u4ee3\u66ff";
    c.egret_string_code[3009] = "swapChildren(){0}swapElements()\u4ee3\u66ff";
    c.egret_string_code[3010] = "swapChildrenAt(){0}swapElementsAt()\u4ee3\u66ff";
    c.egret_string_code[3011] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    c.egret_string_code[3012] = "\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!";
    c.egret_string_code[3013] = "UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01";
    c.egret_string_code[3014] = "propNotPropOrStyle";
    c.egret_string_code[4E3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)";
    c.egret_string_code[4001] = "Abstract class can not be instantiated!";
    c.egret_string_code[4002] = "Unnamed data!";
    c.egret_string_code[4003] = "Nonsupport version!";
    c.egret_string_code[4004] = "Abstract method needs to be implemented in subclass!";
    c.egret_string_code[3100] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WebSocket";
    c.egret_string_code[3101] = "\u8bf7\u5148\u8fde\u63a5WebSocket";
    c.egret_string_code[3102] = "\u8bf7\u5148\u8bbe\u7f6etype\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b"
})(egret || (egret = {})); (function(c) {
    c.egret_string_code = {};
    c.egret_string_code[ - 1] = "\u4e0d\u5b58\u5728\u7684stringId:{0}";
    c.egret_string_code[1E3] = "Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE";
    c.egret_string_code[1001] = "\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7";
    c.egret_string_code[1002] = "egret.Ticker\u662f\u6846\u67b6\u5185\u90e8\u4f7f\u7528\u7684\u5355\u4f8b\uff0c\u4e0d\u5141\u8bb8\u5728\u5916\u90e8\u5b9e\u4f8b\u5316\uff0c\u8ba1\u65f6\u5668\u8bf7\u4f7f\u7528egret.Timer\u7c7b\uff01";
    c.egret_string_code[1003] = "Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout";
    c.egret_string_code[1004] = "ExternalInterface\u8c03\u7528\u4e86js\u6ca1\u6709\u6ce8\u518c\u7684\u65b9\u6cd5: {0}";
    c.egret_string_code[1005] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684blendMode: {0}";
    c.egret_string_code[1006] = "child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185";
    c.egret_string_code[1007] = "\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4";
    c.egret_string_code[1008] = "child\u672a\u88abaddChild\u5230\u8be5parent";
    c.egret_string_code[1009] = "\u8bbe\u7f6e\u4e86\u5df2\u7ecf\u5b58\u5728\u7684\u9002\u914d\u6a21\u5f0f:{0}";
    c.egret_string_code[1010] = "addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a";
    c.egret_string_code[1011] = 'BitmapText\u627e\u4e0d\u5230\u6587\u5b57\u6240\u5bf9\u5e94\u7684\u7eb9\u7406:"{0}"';
    c.egret_string_code[1012] = "egret.BitmapTextSpriteSheet\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528egret.BitmapFont\u4ee3\u66ff\u3002";
    c.egret_string_code[1013] = "TextField.setFocus \u6ca1\u6709\u5b9e\u73b0";
    c.egret_string_code[1014] = "Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316";
    c.egret_string_code[1015] = "xml not found!";
    c.egret_string_code[1016] = "{0}\u5df2\u7ecf\u5e9f\u5f03";
    c.egret_string_code[1017] = "JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: {0}\ndata: {1}";
    c.egret_string_code[1018] = "egret_html5_localStorage.setItem\u4fdd\u5b58\u5931\u8d25,key={0}&value={1}";
    c.egret_string_code[1019] = "\u7f51\u7edc\u5f02\u5e38:{0}";
    c.egret_string_code[1020] = "\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668";
    c.egret_string_code[1021] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl";
    c.egret_string_code[1022] = "{0} ArgumentError";
    c.egret_string_code[1023] = "\u6b64\u65b9\u6cd5\u5728ScrollView\u5185\u4e0d\u53ef\u7528!";
    c.egret_string_code[1024] = "\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode";
    c.egret_string_code[1025] = "\u9047\u5230\u6587\u4ef6\u5c3e";
    c.egret_string_code[1026] = "EncodingError! The code point {0} could not be encoded.";
    c.egret_string_code[1027] = "DecodingError";
    c.egret_string_code[1028] = "\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:{0}\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002";
    c.egret_string_code[1029] = "Function.prototype.bind - what is trying to be bound is not callable";
    c.egret_string_code[1030] = "\u8be5API\u5df2\u5e9f\u5f03";
    c.egret_string_code[1031] = "setVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume = value\u4ee3\u66ff";
    c.egret_string_code[1032] = "getVolume\u5df2\u5e9f\u5f03\uff0c\u8bf7\u4f7f\u7528this.volume\u4ee3\u66ff";
    c.egret_string_code[2E3] = "RES.createGroup()\u4f20\u5165\u4e86\u914d\u7f6e\u4e2d\u4e0d\u5b58\u5728\u7684\u952e\u503c: {0}";
    c.egret_string_code[2001] = 'RES\u52a0\u8f7d\u4e86\u4e0d\u5b58\u5728\u6216\u7a7a\u7684\u8d44\u6e90\u7ec4:"{0}"';
    c.egret_string_code[3E3] = "\u4e3b\u9898\u914d\u7f6e\u6587\u4ef6\u52a0\u8f7d\u5931\u8d25: {0}";
    c.egret_string_code[3001] = "\u627e\u4e0d\u5230\u4e3b\u9898\u4e2d\u6240\u914d\u7f6e\u7684\u76ae\u80a4\u7c7b\u540d: {0}";
    c.egret_string_code[3002] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    c.egret_string_code[3003] = "\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";
    c.egret_string_code[3004] = "addChild(){0}addElement()\u4ee3\u66ff";
    c.egret_string_code[3005] = "addChildAt(){0}addElementAt()\u4ee3\u66ff";
    c.egret_string_code[3006] = "removeChild(){0}removeElement()\u4ee3\u66ff";
    c.egret_string_code[3007] = "removeChildAt(){0}removeElementAt()\u4ee3\u66ff";
    c.egret_string_code[3008] = "setChildIndex(){0}setElementIndex()\u4ee3\u66ff";
    c.egret_string_code[3009] = "swapChildren(){0}swapElements()\u4ee3\u66ff";
    c.egret_string_code[3010] = "swapChildrenAt(){0}swapElementsAt()\u4ee3\u66ff";
    c.egret_string_code[3011] = '\u7d22\u5f15:"{0}"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4';
    c.egret_string_code[3012] = "\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!";
    c.egret_string_code[3013] = "UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01";
    c.egret_string_code[3014] = "propNotPropOrStyle";
    c.egret_string_code[4E3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)";
    c.egret_string_code[4001] = "Abstract class can not be instantiated!";
    c.egret_string_code[4002] = "Unnamed data!";
    c.egret_string_code[4003] = "Nonsupport version!";
    c.egret_string_code[4004] = "Abstract method needs to be implemented in subclass!";
    c.egret_string_code[3100] = "\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301WebSocket";
    c.egret_string_code[3101] = "\u8bf7\u5148\u8fde\u63a5WebSocket";
    c.egret_string_code[3102] = "\u8bf7\u5148\u8bbe\u7f6etype\u4e3a\u4e8c\u8fdb\u5236\u7c7b\u578b"
})(egret || (egret = {}));
var __extends = this.__extends ||
function(c, g) {
    function f() {
        this.constructor = c
    }
    for (var d in g) g.hasOwnProperty(d) && (c[d] = g[d]);
    f.prototype = g.prototype;
    c.prototype = new f
}; (function(c) {
    function g(d) {
        for (var b = [], a = 1; a < arguments.length; a++) b[a - 1] = arguments[a];
        if (a = c.egret_string_code[d]) for (var e = b.length,
        h = 0; h < e; h++) a = a.replace("{" + h + "}", b[h]);
        return a
    }
    var f = function() {
        function d() {}
        d.openLogByType = function(b) {
            null == d.logFuncs && (d.logFuncs = {
                error: console.error,
                debug: console.debug,
                warn: console.warn,
                info: console.info,
                log: console.log
            });
            switch (b) {
            case d.OFF:
                console.error = function() {};
            case d.ERROR:
                console.warn = function() {};
            case d.WARN:
                console.info = function() {},
                console.log = function() {};
            case d.INFO:
                console.debug = function() {}
            }
            switch (b) {
            case d.ALL:
                console.debug = d.logFuncs.debug;
            case d.INFO:
                console.log = d.logFuncs.log,
                console.info = d.logFuncs.info;
            case d.WARN:
                console.warn = d.logFuncs.warn;
            case d.ERROR:
                console.error = d.logFuncs.error
            }
        };
        d.fatal = function(b, a) {
            void 0 === a && (a = null);
            throw Error(c.Logger.getTraceCode("Fatal", b, a));
        };
        d.info = function(b, a) {
            void 0 === a && (a = null);
            c.Logger.traceToConsole("Info", b, a)
        };
        d.warning = function(b, a) {
            void 0 === a && (a = null);
            c.Logger.traceToConsole("Warning", b, a)
        };
        d.traceToConsole = function(b, a, e) {
            console.log(c.Logger.getTraceCode(b, a, e))
        };
        d.getTraceCode = function(b, a, e) {
            return "[" + b + "]" + a + (null == e ? "": ":" + e)
        };
        d.ALL = "all";
        d.DEBUG = "debug";
        d.INFO = "info";
        d.WARN = "warn";
        d.ERROR = "error";
        d.OFF = "off";
        return d
    } ();
    c.Logger = f;
    f.prototype.__class__ = "egret.Logger";
    c.getString = g;
    c.$error = function(c) {
        for (var b = [], a = 1; a < arguments.length; a++) b[a - 1] = arguments[a];
        b.unshift(c); (b = g.apply(null, b)) ? f.fatal(b) : f.fatal(g( - 1, c))
    };
    c.$warn = function(c) {
        for (var b = [], a = 1; a < arguments.length; a++) b[a - 1] = arguments[a];
        b.unshift(c); (b = g.apply(null, b)) ? f.warning(b) : f.warning(g( - 1, c))
    }
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {
            this._hashCode = c.hashCount++
        }
        Object.defineProperty(c.prototype, "hashCode", {
            get: function() {
                return this._hashCode
            },
            enumerable: !0,
            configurable: !0
        });
        c.hashCount = 1;
        return c
    } ();
    c.HashObject = g;
    g.prototype.__class__ = "egret.HashObject"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(a) {
            void 0 === a && (a = 300);
            c.call(this);
            this.objectPool = [];
            this._length = 0;
            1 > a && (a = 1);
            this.autoDisposeTime = a;
            this.frameCount = 0
        }
        __extends(d, c);
        var b = d.prototype;
        b._checkFrame = function() {
            this.frameCount--;
            0 >= this.frameCount && this.dispose()
        };
        Object.defineProperty(b, "length", {
            get: function() {
                return this._length
            },
            enumerable: !0,
            configurable: !0
        });
        b.push = function(a) {
            var e = this.objectPool; - 1 == e.indexOf(a) && (e.push(a), a.__recycle && a.__recycle(), this._length++, 0 == this.frameCount && (this.frameCount = this.autoDisposeTime, d._callBackList.push(this)))
        };
        b.pop = function() {
            if (0 == this._length) return null;
            this._length--;
            return this.objectPool.pop()
        };
        b.dispose = function() {
            0 < this._length && (this.objectPool = [], this._length = 0);
            this.frameCount = 0;
            var a = d._callBackList,
            e = a.indexOf(this); - 1 != e && a.splice(e, 1)
        };
        d._callBackList = [];
        return d
    } (c.HashObject);
    c.Recycler = g;
    g.prototype.__class__ = "egret.Recycler"
})(egret || (egret = {})); (function(c) {
    c.__START_TIME;
    c.getTimer = function() {
        return Date.now() - c.__START_TIME
    }
})(egret || (egret = {})); (function(c) {
    c.__callLaterFunctionList = [];
    c.__callLaterThisList = [];
    c.__callLaterArgsList = [];
    c.callLater = function(g, f) {
        for (var d = [], b = 2; b < arguments.length; b++) d[b - 2] = arguments[b];
        c.__callLaterFunctionList.push(g);
        c.__callLaterThisList.push(f);
        c.__callLaterArgsList.push(d)
    };
    c.__callAsyncFunctionList = [];
    c.__callAsyncThisList = [];
    c.__callAsyncArgsList = [];
    c.__callAsync = function(g, f) {
        for (var d = [], b = 2; b < arguments.length; b++) d[b - 2] = arguments[b];
        c.__callAsyncFunctionList.push(g);
        c.__callAsyncThisList.push(f);
        c.__callAsyncArgsList.push(d)
    }
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f() {}
        var d = f.prototype;
        d.call = function(b) {
            this.callback && this.callback.call(this.thisObject, b)
        };
        d.dispose = function() {
            this.thisObject = this.callback = null;
            f.__freeList.push(this)
        };
        f.push = function(b, a) {
            var e;
            e = f.__freeList.length ? f.__freeList.pop() : new c.RenderCommand;
            e.callback = b;
            e.thisObject = a;
            c.MainContext.__DRAW_COMMAND_LIST.push(e)
        };
        f.__freeList = [];
        return f
    } ();
    c.RenderCommand = g;
    g.prototype.__class__ = "egret.RenderCommand"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, e, h) {
            void 0 === e && (e = !1);
            void 0 === h && (h = !1);
            f.call(this);
            this.data = null;
            this._type = "";
            this._cancelable = this._bubbles = !1;
            this._eventPhase = 2;
            this._target = this._currentTarget = null;
            this._isPropagationImmediateStopped = this._isPropagationStopped = this._isDefaultPrevented = !1;
            this.isNew = !0;
            this._type = a;
            this._bubbles = e;
            this._cancelable = h
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "type", {
            get: function() {
                return this._type
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bubbles", {
            get: function() {
                return this._bubbles
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "cancelable", {
            get: function() {
                return this._cancelable
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "eventPhase", {
            get: function() {
                return this._eventPhase
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "currentTarget", {
            get: function() {
                return this._currentTarget
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "target", {
            get: function() {
                return this._target
            },
            enumerable: !0,
            configurable: !0
        });
        b.isDefaultPrevented = function() {
            return this._isDefaultPrevented
        };
        b.preventDefault = function() {
            this._cancelable && (this._isDefaultPrevented = !0)
        };
        b.stopPropagation = function() {
            this._bubbles && (this._isPropagationStopped = !0)
        };
        b.stopImmediatePropagation = function() {
            this._bubbles && (this._isPropagationImmediateStopped = !0)
        };
        b._reset = function() {
            this.isNew ? this.isNew = !1 : (this._isPropagationImmediateStopped = this._isPropagationStopped = this._isDefaultPrevented = !1, this._currentTarget = this._target = null, this._eventPhase = 2)
        };
        b.__recycle = function() {
            this.data = this._target = this._currentTarget = null
        };
        d._dispatchByTarget = function(a, e, h, b, d, f) {
            void 0 === d && (d = !1);
            void 0 === f && (f = !1);
            var g = a.eventRecycler;
            g || (g = a.eventRecycler = new c.Recycler);
            var l = g.pop();
            l ? l._type = h: l = new a(h);
            l._bubbles = d;
            l._cancelable = f;
            if (b) for (var m in b) l[m] = b[m],
            null !== l[m] && (b[m] = null);
            a = e.dispatchEvent(l);
            g.push(l);
            return a
        };
        d._getPropertyData = function(a) {
            var e = a._props;
            e || (e = a._props = {});
            return e
        };
        d.dispatchEvent = function(a, e, h, b) {
            void 0 === h && (h = !1);
            var c = d._getPropertyData(d);
            void 0 != b && (c.data = b);
            d._dispatchByTarget(d, a, e, c, h)
        };
        d.ADDED_TO_STAGE = "addedToStage";
        d.REMOVED_FROM_STAGE = "removedFromStage";
        d.ADDED = "added";
        d.REMOVED = "removed";
        d.COMPLETE = "complete";
        d.LOOP_COMPLETE = "loopcomplete";
        d.ENTER_FRAME = "enterFrame";
        d.RENDER = "render";
        d.FINISH_RENDER = "finishRender";
        d.FINISH_UPDATE_TRANSFORM = "finishUpdateTransform";
        d.LEAVE_STAGE = "leaveStage";
        d.RESIZE = "resize";
        d.CHANGE = "change";
        d.ACTIVATE = "activate";
        d.DEACTIVATE = "deactivate";
        d.CLOSE = "close";
        d.CONNECT = "connect";
        return d
    } (c.HashObject);
    c.Event = g;
    g.prototype.__class__ = "egret.Event"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            c.call(this, b, a, e);
            this._status = 0
        }
        __extends(d, c);
        Object.defineProperty(d.prototype, "status", {
            get: function() {
                return this._status
            },
            enumerable: !0,
            configurable: !0
        });
        d.dispatchHTTPStatusEvent = function(b, a) {
            null == d.httpStatusEvent && (d.httpStatusEvent = new d(d.HTTP_STATUS));
            d.httpStatusEvent._status = a;
            b.dispatchEvent(d.httpStatusEvent)
        };
        d.HTTP_STATUS = "httpStatus";
        d.httpStatusEvent = null;
        return d
    } (c.Event);
    c.HTTPStatusEvent = g;
    g.prototype.__class__ = "egret.HTTPStatusEvent"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            c.call(this, b, a, e)
        }
        __extends(d, c);
        d.SOUND_COMPLETE = "soundComplete";
        return d
    } (c.Event);
    c.SoundEvent = g;
    g.prototype.__class__ = "egret.SoundEvent"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            c.call(this, b, a, e)
        }
        __extends(d, c);
        d.FOCUS_IN = "focusIn";
        d.FOCUS_OUT = "focusOut";
        return d
    } (c.Event);
    c.FocusEvent = g;
    g.prototype.__class__ = "egret.FocusEvent"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            f.call(this, b, a, e)
        }
        __extends(d, f);
        d.dispatchIOErrorEvent = function(b) {
            c.Event._dispatchByTarget(d, b, d.IO_ERROR)
        };
        d.IO_ERROR = "ioError";
        return d
    } (c.Event);
    c.IOErrorEvent = g;
    g.prototype.__class__ = "egret.IOErrorEvent"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, e, h, b, c, d, g, l, m, n) {
            void 0 === e && (e = !0);
            void 0 === h && (h = !0);
            void 0 === b && (b = 0);
            void 0 === c && (c = 0);
            void 0 === d && (d = 0);
            void 0 === g && (g = !1);
            void 0 === l && (l = !1);
            void 0 === n && (n = !1);
            f.call(this, a, e, h);
            this._stageY = this._stageX = 0;
            this.touchPointID = NaN;
            this.touchDown = this.altKey = this.shiftKey = this.ctrlKey = !1;
            this.touchPointID = b;
            this._stageX = c;
            this._stageY = d;
            this.ctrlKey = g;
            this.altKey = l;
            this.touchDown = n
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "stageX", {
            get: function() {
                return this._stageX
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "stageY", {
            get: function() {
                return this._stageY
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "localX", {
            get: function() {
                return this._currentTarget.globalToLocal(this._stageX, this._stageY, c.Point.identity).x
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "localY", {
            get: function() {
                return this._currentTarget.globalToLocal(this._stageX, this._stageY, c.Point.identity).y
            },
            enumerable: !0,
            configurable: !0
        });
        d.dispatchTouchEvent = function(a, e, h, b, u, f, g, l, m) {
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            void 0 === u && (u = 0);
            void 0 === f && (f = !1);
            void 0 === g && (g = !1);
            void 0 === l && (l = !1);
            void 0 === m && (m = !1);
            var n = c.Event._getPropertyData(d);
            n.touchPointID = h;
            n._stageX = b;
            n._stageY = u;
            n.ctrlKey = f;
            n.altKey = g;
            n.shiftKey = l;
            n.touchDown = m;
            c.Event._dispatchByTarget(d, a, e, n, !0, !0)
        };
        d.TOUCH_TAP = "touchTap";
        d.TOUCH_MOVE = "touchMove";
        d.TOUCH_BEGIN = "touchBegin";
        d.TOUCH_END = "touchEnd";
        d.TOUCH_RELEASE_OUTSIDE = "touchReleaseOutside";
        d.TOUCH_ROLL_OUT = "touchRollOut";
        d.TOUCH_ROLL_OVER = "touchRollOver";
        d.TOUCH_OUT = "touchOut";
        d.TOUCH_OVER = "touchOver";
        return d
    } (c.Event);
    c.TouchEvent = g;
    g.prototype.__class__ = "egret.TouchEvent"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(b, a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            f.call(this, b, a, e)
        }
        __extends(d, f);
        d.dispatchTimerEvent = function(b, a) {
            c.Event._dispatchByTarget(d, b, a)
        };
        d.TIMER = "timer";
        d.TIMER_COMPLETE = "timerComplete";
        return d
    } (c.Event);
    c.TimerEvent = g;
    g.prototype.__class__ = "egret.TimerEvent"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(b, a, e, h) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            void 0 === h && (h = "");
            f.call(this, b, a, e);
            this.text = h
        }
        __extends(d, f);
        d.dispatchTextEvent = function(b, a, e) {
            var h = c.Event._getPropertyData(d);
            h.text = e;
            c.Event._dispatchByTarget(d, b, a, h)
        };
        d.LINK = "link";
        return d
    } (c.Event);
    c.TextEvent = g;
    g.prototype.__class__ = "egret.TextEvent"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(b, a, e, h, c) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            void 0 === h && (h = 0);
            void 0 === c && (c = 0);
            f.call(this, b, a, e);
            this.bytesTotal = this.bytesLoaded = 0;
            this.bytesLoaded = h;
            this.bytesTotal = c
        }
        __extends(d, f);
        d.dispatchProgressEvent = function(b, a, e, h) {
            void 0 === e && (e = 0);
            void 0 === h && (h = 0);
            c.Event._dispatchByTarget(d, b, a, {
                bytesLoaded: e,
                bytesTotal: h
            })
        };
        d.PROGRESS = "progress";
        d.SOCKET_DATA = "socketData";
        return d
    } (c.Event);
    c.ProgressEvent = g;
    g.prototype.__class__ = "egret.ProgressEvent"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.CAPTURING_PHASE = 1;
        c.AT_TARGET = 2;
        c.BUBBLING_PHASE = 3;
        return c
    } ();
    c.EventPhase = g;
    g.prototype.__class__ = "egret.EventPhase"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a) {
            void 0 === a && (a = null);
            f.call(this);
            this._captureEventsMap = this._eventsMap = this._eventTarget = null;
            this._eventTarget = a ? a: this
        }
        __extends(d, f);
        var b = d.prototype;
        b.addEventListener = function(a, e, h, b, d) {
            void 0 === b && (b = !1);
            void 0 === d && (d = 0);
            "undefined" === typeof b && (b = !1);
            "undefined" === typeof d && (d = 0);
            e || c.$error(1010);
            b ? (this._captureEventsMap || (this._captureEventsMap = {}), b = this._captureEventsMap) : (this._eventsMap || (this._eventsMap = {}), b = this._eventsMap);
            var f = b[a];
            f || (f = b[a] = []);
            this._insertEventBin(f, e, h, d)
        };
        b._insertEventBin = function(a, e, h, b, c) {
            void 0 === c && (c = void 0);
            for (var d = -1,
            f = a.length,
            g = 0; g < f; g++) {
                var m = a[g];
                if (m.listener == e && m.thisObject == h && m.display == c) return ! 1; - 1 == d && m.priority < b && (d = g)
            }
            e = {
                listener: e,
                thisObject: h,
                priority: b
            };
            c && (e.display = c); - 1 != d ? a.splice(d, 0, e) : a.push(e);
            return ! 0
        };
        b.removeEventListener = function(a, e, h, b) {
            void 0 === b && (b = !1);
            if (b = b ? this._captureEventsMap: this._eventsMap) {
                var c = b[a];
                c && (this._removeEventBin(c, e, h), 0 == c.length && delete b[a])
            }
        };
        b._removeEventBin = function(a, e, h, b, c) {
            void 0 === b && (b = void 0);
            void 0 === c && (c = 0);
            for (var d = a.length; c < d; c++) {
                var f = a[c];
                if (f.listener == e && f.thisObject == h && f.display == b) return a.splice(c, 1),
                !0
            }
            return ! 1
        };
        b.hasEventListener = function(a) {
            return !! (this._eventsMap && this._eventsMap[a] || this._captureEventsMap && this._captureEventsMap[a])
        };
        b.willTrigger = function(a) {
            return this.hasEventListener(a)
        };
        b.dispatchEvent = function(a) {
            a._reset();
            a._target = this._eventTarget;
            a._currentTarget = this._eventTarget;
            return this._notifyListener(a)
        };
        b._notifyListener = function(a) {
            var e = 1 == a._eventPhase ? this._captureEventsMap: this._eventsMap;
            if (!e) return ! 0;
            e = e[a._type];
            if (!e) return ! 0;
            var h = e.length;
            if (0 == h) return ! 0;
            for (var e = e.concat(), b = 0; b < h; b++) {
                var c = e[b];
                c.listener.call(c.thisObject, a);
                if (a._isPropagationImmediateStopped) break
            }
            return ! a._isDefaultPrevented
        };
        b.dispatchEventWith = function(a, e, h) {
            void 0 === e && (e = !1);
            c.Event.dispatchEvent(this, a, e, h)
        };
        return d
    } (c.HashObject);
    c.EventDispatcher = g;
    g.prototype.__class__ = "egret.EventDispatcher"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.stage = this.deviceContext = this.netContext = this.touchContext = this.rendererContext = null;
            this.reuseEvent = new c.Event("")
        }
        __extends(d, f);
        var b = d.prototype;
        b.run = function() {
            c.Ticker.getInstance().run();
            c.Ticker.getInstance().register(this.renderLoop, this, Number.NEGATIVE_INFINITY);
            c.Ticker.getInstance().register(this.broadcastEnterFrame, this, Number.POSITIVE_INFINITY);
            this.touchContext.run();
            this._profileInstance = c.Profiler.getInstance()
        };
        b.renderLoop = function(a) {
            if (0 < c.__callLaterFunctionList.length) {
                var e = c.__callLaterFunctionList;
                c.__callLaterFunctionList = [];
                var h = c.__callLaterThisList;
                c.__callLaterThisList = [];
                var b = c.__callLaterArgsList;
                c.__callLaterArgsList = []
            }
            a = this.stage;
            var u = d.cachedEvent;
            u._type = c.Event.RENDER;
            this.dispatchEvent(u);
            c.Stage._invalidateRenderFlag && (this.broadcastRender(), c.Stage._invalidateRenderFlag = !1);
            e && this.doCallLaterList(e, h, b);
            0 < c.__callAsyncFunctionList.length && this.doCallAsyncList();
            e = this.rendererContext;
            e.onRenderStart();
            e.clearScreen();
            d.__DRAW_COMMAND_LIST = [];
            d._renderLoopPhase = "updateTransform";
            a._updateTransform();
            d._renderLoopPhase = "draw";
            u._type = c.Event.FINISH_UPDATE_TRANSFORM;
            this.dispatchEvent(u);
            d.__use_new_draw ? this._draw(e) : a._draw(e);
            u._type = c.Event.FINISH_RENDER;
            this.dispatchEvent(u);
            this._profileInstance._isRunning && this._profileInstance._drawProfiler(e);
            e.onRenderFinish()
        };
        b._draw = function(a) {
            for (var e = d.__DRAW_COMMAND_LIST,
            h = e.length,
            b = 0; b < h; b++) {
                var c = e[b];
                c.call(a);
                c.dispose()
            }
        };
        b.broadcastEnterFrame = function(a) {
            a = this.reuseEvent;
            a._type = c.Event.ENTER_FRAME;
            this.dispatchEvent(a);
            for (var e = c.DisplayObject._enterFrameCallBackList.concat(), h = e.length, b = 0; b < h; b++) {
                var d = e[b];
                a._target = d.display;
                a._currentTarget = d.display;
                d.listener.call(d.thisObject, a)
            }
            e = c.Recycler._callBackList;
            for (b = e.length - 1; 0 <= b; b--) e[b]._checkFrame()
        };
        b.broadcastRender = function() {
            var a = this.reuseEvent;
            a._type = c.Event.RENDER;
            for (var e = c.DisplayObject._renderCallBackList.concat(), h = e.length, b = 0; b < h; b++) {
                var d = e[b],
                f = d.display;
                a._target = f;
                a._currentTarget = f;
                d.listener.call(d.thisObject, a)
            }
        };
        b.doCallLaterList = function(a, e, h) {
            for (var b = a.length,
            c = 0; c < b; c++) {
                var d = a[c];
                null != d && d.apply(e[c], h[c])
            }
        };
        b.doCallAsyncList = function() {
            var a = c.__callAsyncFunctionList.concat(),
            e = c.__callAsyncThisList.concat(),
            h = c.__callAsyncArgsList.concat();
            c.__callAsyncFunctionList.length = 0;
            c.__callAsyncThisList.length = 0;
            for (var b = c.__callAsyncArgsList.length = 0; b < a.length; b++) {
                var d = a[b];
                null != d && d.apply(e[b], h[b])
            }
        };
        d.deviceType = null;
        d.DEVICE_PC = "web";
        d.DEVICE_MOBILE = "native";
        d.RUNTIME_HTML5 = "runtimeHtml5";
        d.RUNTIME_NATIVE = "runtimeNative";
        d.__DRAW_COMMAND_LIST = [];
        d.__use_new_draw = !0;
        d.cachedEvent = new c.Event("");
        return d
    } (c.EventDispatcher);
    c.MainContext = g;
    g.prototype.__class__ = "egret.MainContext"
})(egret || (egret = {}));
var testDeviceType = function() {
    if (!this.navigator) return ! 0;
    var c = navigator.userAgent.toLowerCase();
    return - 1 != c.indexOf("mobile") || -1 != c.indexOf("android")
},
testRuntimeType = function() {
    return this.navigator ? !0 : !1
};
egret.MainContext.instance = new egret.MainContext;
egret.MainContext.deviceType = testDeviceType() ? egret.MainContext.DEVICE_MOBILE: egret.MainContext.DEVICE_PC;
egret.MainContext.runtimeType = testRuntimeType() ? egret.MainContext.RUNTIME_HTML5: egret.MainContext.RUNTIME_NATIVE;
delete testDeviceType;
delete testRuntimeType; (function(c) {
    var g = function() {
        function f() {
            this._preDrawCount = this._updateTransformPerformanceCost = this._renderPerformanceCost = this._logicPerformanceCost = this._lastTime = 0;
            this._calculatePreDrawCount = !0;
            this._txt = null;
            this._tick = 0;
            this._maxDeltaTime = 500;
            this._totalDeltaTime = 0;
            this._isRunning = !1
        }
        var d = f.prototype;
        f.getInstance = function() {
            null == f.instance && (f.instance = new f);
            return f.instance
        };
        d.stop = function() {
            if (this._isRunning) {
                this._isRunning = !1;
                c.Ticker.getInstance().unregister(this.update, this);
                var b = c.MainContext.instance;
                b.removeEventListener(c.Event.ENTER_FRAME, this.onEnterFrame, this);
                b.removeEventListener(c.Event.RENDER, this.onStartRender, this);
                b.removeEventListener(c.Event.FINISH_RENDER, this.onFinishRender, this);
                b.removeEventListener(c.Event.FINISH_UPDATE_TRANSFORM, this.onFinishUpdateTransform, this)
            }
        };
        d.run = function() {
            null == this._txt && (this._txt = new c.TextField, this._txt.size = 28, this._txt.multiline = !0, this._txt._DO_Props_._parent = new c.DisplayObjectContainer);
            if (!this._isRunning) {
                this._isRunning = !0;
                c.Ticker.getInstance().register(this.update, this);
                var b = c.MainContext.instance;
                b.addEventListener(c.Event.ENTER_FRAME, this.onEnterFrame, this);
                b.addEventListener(c.Event.RENDER, this.onStartRender, this);
                b.addEventListener(c.Event.FINISH_RENDER, this.onFinishRender, this);
                b.addEventListener(c.Event.FINISH_UPDATE_TRANSFORM, this.onFinishUpdateTransform, this)
            }
        };
        d._drawProfiler = function(b) {
            "_drawWebGL" in b && b._drawWebGL();
            this._calculatePreDrawCount = !1;
            this._txt._updateTransform();
            this._txt._draw(b)
        };
        d._setTxtFontSize = function(b) {
            this._txt.size = b
        };
        d.onEnterFrame = function(b) {
            this._lastTime = c.getTimer()
        };
        d.onStartRender = function(b) {
            b = c.getTimer();
            this._logicPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        d.onFinishUpdateTransform = function(b) {
            b = c.getTimer();
            this._updateTransformPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        d.onFinishRender = function(b) {
            b = c.getTimer();
            this._renderPerformanceCost = b - this._lastTime;
            this._lastTime = b
        };
        d.update = function(b) {
            this._tick++;
            this._totalDeltaTime += b;
            if (this._totalDeltaTime >= this._maxDeltaTime) {
                b = this._preDrawCount.toString();
                var a = Math.ceil(this._logicPerformanceCost).toString() + "," + Math.ceil(this._updateTransformPerformanceCost).toString() + "," + Math.ceil(this._renderPerformanceCost).toString() + "," + Math.ceil(c.MainContext.instance.rendererContext.renderCost).toString();
                this._txt.text = "draw:" + b + "\ncost:" + a + "\nFPS:" + Math.floor(1E3 * this._tick / this._totalDeltaTime).toString();
                this._tick = this._totalDeltaTime = 0
            }
            this._preDrawCount = 0;
            this._calculatePreDrawCount = !0
        };
        d.onDrawImage = function() {
            this._calculatePreDrawCount && this._preDrawCount++
        };
        return f
    } ();
    c.Profiler = g;
    g.prototype.__class__ = "egret.Profiler"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._timeScale = 1;
            this._paused = !1;
            this._callIndex = -1;
            this.callBackList = [];
            null != d.instance && c.$error(1002)
        }
        __extends(d, f);
        var b = d.prototype;
        b.run = function() {
            c.__START_TIME = (new Date).getTime();
            c.MainContext.instance.deviceContext.executeMainLoop(this.update, this)
        };
        b.update = function(a) {
            if (!this._paused) {
                a *= this._timeScale;
                this._callList = this.callBackList.concat();
                for (this._callIndex = 0; this._callIndex < this._callList.length; this._callIndex++) {
                    var e = this._callList[this._callIndex];
                    e.listener.call(e.thisObject, a)
                }
                this._callIndex = -1;
                this._callList = null
            }
        };
        b.register = function(a, e, h) {
            void 0 === h && (h = 0);
            this._insertEventBin(this.callBackList, a, e, h)
        };
        b.unregister = function(a, e) {
            this._removeEventBin(this.callBackList, a, e);
            this._callList && -1 < this._callIndex && this._removeEventBin(this._callList, a, e, null, this._callIndex + 1)
        };
        b.setTimeout = function(a, e, h) {
            for (var b = [], d = 3; d < arguments.length; d++) b[d - 3] = arguments[d];
            c.$warn(1003);
            c.setTimeout.apply(null, [a, e, h].concat(b))
        };
        b.setTimeScale = function(a) {
            this._timeScale = a
        };
        b.getTimeScale = function() {
            return this._timeScale
        };
        b.pause = function() {
            this._paused = !0
        };
        b.resume = function() {
            this._paused = !1
        };
        d.getInstance = function() {
            null == d.instance && (d.instance = new d);
            return d.instance
        };
        return d
    } (c.EventDispatcher);
    c.Ticker = g;
    g.prototype.__class__ = "egret.Ticker"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.LEFT = "left";
        c.RIGHT = "right";
        c.CENTER = "center";
        c.JUSTIFY = "justify";
        c.CONTENT_JUSTIFY = "contentJustify";
        return c
    } ();
    c.HorizontalAlign = g;
    g.prototype.__class__ = "egret.HorizontalAlign"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.TOP = "top";
        c.BOTTOM = "bottom";
        c.MIDDLE = "middle";
        c.JUSTIFY = "justify";
        c.CONTENT_JUSTIFY = "contentJustify";
        return c
    } ();
    c.VerticalAlign = g;
    g.prototype.__class__ = "egret.VerticalAlign"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, e) {
            void 0 === e && (e = 0);
            f.call(this);
            this._currentCount = 0;
            this._running = !1;
            this.lastTime = 0;
            this.delay = a;
            this.repeatCount = e
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "currentCount", {
            get: function() {
                return this._currentCount
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "running", {
            get: function() {
                return this._running
            },
            enumerable: !0,
            configurable: !0
        });
        b.reset = function() {
            this.stop();
            this._currentCount = 0
        };
        b.start = function() {
            this._running || (this.lastTime = c.getTimer(), c.Ticker.getInstance().register(this.onEnterFrame, this), this._running = !0)
        };
        b.stop = function() {
            this._running && (c.Ticker.getInstance().unregister(this.onEnterFrame, this), this._running = !1)
        };
        b.onEnterFrame = function(a) {
            a = c.getTimer();
            a - this.lastTime > this.delay && (this.lastTime = a, this._currentCount++, c.TimerEvent.dispatchTimerEvent(this, c.TimerEvent.TIMER), 0 < this.repeatCount && this._currentCount >= this.repeatCount && (this.stop(), c.TimerEvent.dispatchTimerEvent(this, c.TimerEvent.TIMER_COMPLETE)))
        };
        return d
    } (c.EventDispatcher);
    c.Timer = g;
    g.prototype.__class__ = "egret.Timer"
})(egret || (egret = {})); (function(c) {
    function g(c) {
        c = c.prototype ? c.prototype: Object.getPrototypeOf(c);
        if (c.hasOwnProperty("__class__")) return c.__class__;
        var d = c.constructor.toString(),
        b = d.indexOf("("),
        d = d.substring(9, b);
        Object.defineProperty(c, "__class__", {
            value: d,
            enumerable: !1,
            writable: !0
        });
        return d
    }
    c.getQualifiedClassName = g;
    c.getQualifiedSuperclassName = function(c) {
        c = c.prototype ? c.prototype: Object.getPrototypeOf(c);
        if (c.hasOwnProperty("__superclass__")) return c.__superclass__;
        var d = Object.getPrototypeOf(c);
        if (null == d) return null;
        d = g(d.constructor);
        if (!d) return null;
        Object.defineProperty(c, "__superclass__", {
            value: d,
            enumerable: !1,
            writable: !0
        });
        return d
    }
})(egret || (egret = {})); (function(c) {
    var g = {};
    c.getDefinitionByName = function(c) {
        if (!c) return null;
        var d = g[c];
        if (d) return d;
        for (var b = c.split("."), a = b.length, d = __global, e = 0; e < a; e++) if (d = d[b[e]], !d) return null;
        return g[c] = d
    }
})(egret || (egret = {}));
var __global = __global || this; (function(c) {
    function g(b) {
        for (var a in f) {
            var e = f[a];
            e.delay -= b;
            0 >= e.delay && (e.listener.apply(e.thisObject, e.params), delete f[a])
        }
    }
    var f = {},
    d = 0;
    c.setTimeout = function(b, a, e) {
        for (var h = [], t = 3; t < arguments.length; t++) h[t - 3] = arguments[t];
        h = {
            listener: b,
            thisObject: a,
            delay: e,
            params: h
        };
        0 == d && c.Ticker.getInstance().register(g, null);
        d++;
        f[d] = h;
        return d
    };
    c.clearTimeout = function(b) {
        delete f[b]
    }
})(egret || (egret = {})); (function(c) {
    function g(b) {
        for (var a in f) {
            var e = f[a];
            e.delay -= b;
            0 >= e.delay && (e.delay = e.originDelay, e.listener.apply(e.thisObject, e.params))
        }
    }
    var f = {},
    d = 0;
    c.setInterval = function(b, a, e) {
        for (var h = [], t = 3; t < arguments.length; t++) h[t - 3] = arguments[t];
        h = {
            listener: b,
            thisObject: a,
            delay: e,
            originDelay: e,
            params: h
        };
        0 == d && c.Ticker.getInstance().register(g, null);
        d++;
        f[d] = h;
        return d
    };
    c.clearInterval = function(b) {
        delete f[b]
    }
})(egret || (egret = {})); (function(c) {
    c.hasDefinition = function(g) {
        return c.getDefinitionByName(g) ? !0 : !1
    }
})(egret || (egret = {})); (function(c) {
    c.toColorString = function(c) {
        if (isNaN(c) || 0 > c) c = 0;
        16777215 < c && (c = 16777215);
        for (c = c.toString(16).toUpperCase(); 6 > c.length;) c = "0" + c;
        return "#" + c
    }
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, e, h, b, c, d) {
            void 0 === a && (a = 1);
            void 0 === e && (e = 0);
            void 0 === h && (h = 0);
            void 0 === b && (b = 1);
            void 0 === c && (c = 0);
            void 0 === d && (d = 0);
            f.call(this);
            this.a = a;
            this.b = e;
            this.c = h;
            this.d = b;
            this.tx = c;
            this.ty = d
        }
        __extends(d, f);
        var b = d.prototype;
        b.prepend = function(a, e, h, b, c, d) {
            var f = this.tx;
            if (1 != a || 0 != e || 0 != h || 1 != b) {
                var g = this.a,
                m = this.c;
                this.a = g * a + this.b * h;
                this.b = g * e + this.b * b;
                this.c = m * a + this.d * h;
                this.d = m * e + this.d * b
            }
            this.tx = f * a + this.ty * h + c;
            this.ty = f * e + this.ty * b + d;
            return this
        };
        b.append = function(a, e, h, b, c, d) {
            var f = this.a,
            g = this.b,
            m = this.c,
            n = this.d;
            if (1 != a || 0 != e || 0 != h || 1 != b) this.a = a * f + e * m,
            this.b = a * g + e * n,
            this.c = h * f + b * m,
            this.d = h * g + b * n;
            this.tx = c * f + d * m + this.tx;
            this.ty = c * g + d * n + this.ty;
            return this
        };
        b.prependTransform = function(a, e, h, b, d, f, g, l, m) {
            if (d % 360) {
                var n = c.NumberUtils.cos(d);
                d = c.NumberUtils.sin(d)
            } else n = 1,
            d = 0;
            if (l || m) this.tx -= l,
            this.ty -= m;
            f || g ? (this.prepend(n * h, d * h, -d * b, n * b, 0, 0), this.prepend(c.NumberUtils.cos(g), c.NumberUtils.sin(g), -c.NumberUtils.sin(f), c.NumberUtils.cos(f), a, e)) : this.prepend(n * h, d * h, -d * b, n * b, a, e);
            return this
        };
        b.appendTransform = function(a, e, h, b, d, f, g, l, m) {
            if (d % 360) {
                var n = c.NumberUtils.cos(d);
                d = c.NumberUtils.sin(d)
            } else n = 1,
            d = 0;
            f || g ? (this.append(c.NumberUtils.cos(g), c.NumberUtils.sin(g), -c.NumberUtils.sin(f), c.NumberUtils.cos(f), a, e), this.append(n * h, d * h, -d * b, n * b, 0, 0)) : this.append(n * h, d * h, -d * b, n * b, a, e);
            if (l || m) this.tx -= l * this.a + m * this.c,
            this.ty -= l * this.b + m * this.d;
            return this
        };
        b.rotate = function(a) {
            var e = Math.cos(a);
            a = Math.sin(a);
            var h = this.a,
            b = this.c,
            c = this.tx;
            this.a = h * e - this.b * a;
            this.b = h * a + this.b * e;
            this.c = b * e - this.d * a;
            this.d = b * a + this.d * e;
            this.tx = c * e - this.ty * a;
            this.ty = c * a + this.ty * e;
            return this
        };
        b.skew = function(a, e) {
            this.append(c.NumberUtils.cos(e), c.NumberUtils.sin(e), -c.NumberUtils.sin(a), c.NumberUtils.cos(a), 0, 0);
            return this
        };
        b.scale = function(a, e) {
            this.a *= a;
            this.d *= e;
            this.c *= a;
            this.b *= e;
            this.tx *= a;
            this.ty *= e;
            return this
        };
        b.translate = function(a, e) {
            this.tx += a;
            this.ty += e;
            return this
        };
        b.identity = function() {
            this.a = this.d = 1;
            this.b = this.c = this.tx = this.ty = 0;
            return this
        };
        b.identityMatrix = function(a) {
            this.a = a.a;
            this.b = a.b;
            this.c = a.c;
            this.d = a.d;
            this.tx = a.tx;
            this.ty = a.ty;
            return this
        };
        b.invert = function() {
            var a = this.a,
            e = this.b,
            h = this.c,
            b = this.d,
            c = this.tx,
            d = a * b - e * h;
            this.a = b / d;
            this.b = -e / d;
            this.c = -h / d;
            this.d = a / d;
            this.tx = (h * this.ty - b * c) / d;
            this.ty = -(a * this.ty - e * c) / d;
            return this
        };
        d.transformCoords = function(a, e, h) {
            var b = c.Point.identity;
            b.x = a.a * e + a.c * h + a.tx;
            b.y = a.d * h + a.b * e + a.ty;
            return b
        };
        b.toArray = function(a) {
            this.array || (this.array = new Float32Array(9));
            a ? (this.array[0] = this.a, this.array[1] = this.b, this.array[2] = 0, this.array[3] = this.c, this.array[4] = this.d, this.array[5] = 0, this.array[6] = this.tx, this.array[7] = this.ty) : (this.array[0] = this.a, this.array[1] = this.b, this.array[2] = this.tx, this.array[3] = this.c, this.array[4] = this.d, this.array[5] = this.ty, this.array[6] = 0, this.array[7] = 0);
            this.array[8] = 1;
            return this.array
        };
        b.setTo = function(a, e, h, b, c, d) {
            this.a = a;
            this.b = e;
            this.c = h;
            this.d = b;
            this.tx = c;
            this.ty = d
        };
        b.copyFrom = function(a) {
            this.identityMatrix(a)
        };
        b.clone = function() {
            return new d(this.a, this.b, this.c, this.d, this.tx, this.ty)
        };
        b.concat = function(a) {
            var e = this.a,
            h = this.b,
            b = this.c,
            c = this.d,
            d = this.tx,
            f = this.ty,
            g = a.a,
            m = a.b,
            n = a.c,
            q = a.d,
            s = e * g,
            r = 0,
            x = 0,
            z = c * q,
            w = d * g + a.tx;
            a = f * q + a.ty;
            if (0 != h || 0 != b || 0 != m || 0 != n) s += h * n,
            z += b * m,
            r += e * m + h * q,
            x += b * g + c * n,
            w += f * n,
            a += d * m;
            this.a = s;
            this.b = r;
            this.c = x;
            this.d = z;
            this.tx = w;
            this.ty = a
        };
        b.deltaTransformPoint = function(a) {
            return new c.Point(this.a * a.x + this.c * a.y, this.b * a.x + this.d * a.y)
        };
        b.transformPoint = function(a) {
            return new c.Point(this.a * a.x + this.c * a.y + this.tx, this.b * a.x + this.d * a.y + this.ty)
        };
        b.toString = function() {
            return "(a=" + this.a + ", b=" + this.b + ", c=" + this.c + ", d=" + this.d + ", tx=" + this.tx + ", ty=" + this.ty + ")"
        };
        b.createBox = function(a, e, h, b, d) {
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            void 0 === d && (d = 0);
            if (0 !== h) {
                h /= c.Matrix.DEG_TO_RAD;
                var f = c.NumberUtils.cos(h);
                h = c.NumberUtils.sin(h);
                this.a = f * a;
                this.b = h * e;
                this.c = -h * a;
                this.d = f * e
            } else this.a = a,
            this.c = this.b = 0,
            this.d = e;
            this.tx = b;
            this.ty = d
        };
        b.createGradientBox = function(a, e, h, b, c) {
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            void 0 === c && (c = 0);
            this.createBox(a / 1638.4, e / 1638.4, h, b + a / 2, c + e / 2)
        };
        d.identity = new d;
        d.DEG_TO_RAD = Math.PI / 180;
        return d
    } (c.HashObject);
    c.Matrix = g;
    g.prototype.__class__ = "egret.Matrix"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, e) {
            void 0 === a && (a = 0);
            void 0 === e && (e = 0);
            f.call(this);
            this.x = a;
            this.y = e
        }
        __extends(d, f);
        var b = d.prototype;
        b.clone = function() {
            return new d(this.x, this.y)
        };
        b.equals = function(a) {
            return this.x == a.x && this.y == a.y
        };
        d.distance = function(a, e) {
            return Math.sqrt((a.x - e.x) * (a.x - e.x) + (a.y - e.y) * (a.y - e.y))
        };
        b.setTo = function(a, e) {
            this.x = a;
            this.y = e
        };
        b.copyFrom = function(a) {
            this.x = a.x;
            this.y = a.y
        };
        Object.defineProperty(b, "length", {
            get: function() {
                return Math.sqrt(this.x * this.x + this.y * this.y)
            },
            enumerable: !0,
            configurable: !0
        });
        b.add = function(a) {
            return new d(this.x + a.x, this.y + a.y)
        };
        d.interpolate = function(a, e, h) {
            var b = 1 - h;
            return new d(a.x * h + e.x * b, a.y * h + e.y * b)
        };
        b.normalize = function(a) {
            if (0 != this.x || 0 != this.y) a /= this.length,
            this.x *= a,
            this.y *= a
        };
        b.offset = function(a, e) {
            this.x += a;
            this.y += e
        };
        d.polar = function(a, e) {
            return new d(a * c.NumberUtils.cos(e / c.Matrix.DEG_TO_RAD), a * c.NumberUtils.sin(e / c.Matrix.DEG_TO_RAD))
        };
        b.subtract = function(a) {
            return new d(this.x - a.x, this.y - a.y)
        };
        b.toString = function() {
            return "(x=" + this.x + ", y=" + this.y + ")"
        };
        d.identity = new d(0, 0);
        return d
    } (c.HashObject);
    c.Point = g;
    g.prototype.__class__ = "egret.Point"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, e, h, b) {
            void 0 === a && (a = 0);
            void 0 === e && (e = 0);
            void 0 === h && (h = 0);
            void 0 === b && (b = 0);
            f.call(this);
            this.x = a;
            this.y = e;
            this.width = h;
            this.height = b
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "left", {
            get: function() {
                return this.x
            },
            set: function(a) {
                this.width += this.x - a;
                this.x = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "right", {
            get: function() {
                return this.x + this.width
            },
            set: function(a) {
                this.width = a - this.x
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "top", {
            get: function() {
                return this.y
            },
            set: function(a) {
                this.height += this.y - a;
                this.y = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bottom", {
            get: function() {
                return this.y + this.height
            },
            set: function(a) {
                this.height = a - this.y
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "topLeft", {
            get: function() {
                return new c.Point(this.left, this.top)
            },
            set: function(a) {
                this.top = a.y;
                this.left = a.x
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bottomRight", {
            get: function() {
                return new c.Point(this.right, this.bottom)
            },
            set: function(a) {
                this.bottom = a.y;
                this.right = a.x
            },
            enumerable: !0,
            configurable: !0
        });
        b.initialize = function(a, e, h, b) {
            this.x = a;
            this.y = e;
            this.width = h;
            this.height = b;
            return this
        };
        b.contains = function(a, e) {
            return this.x <= a && this.x + this.width >= a && this.y <= e && this.y + this.height >= e
        };
        b.intersects = function(a) {
            return Math.max(this.x, a.x) <= Math.min(this.right, a.right) && Math.max(this.y, a.y) <= Math.min(this.bottom, a.bottom)
        };
        b.setEmpty = function() {
            this.height = this.width = this.y = this.x = 0
        };
        b.clone = function() {
            return new d(this.x, this.y, this.width, this.height)
        };
        b.containsPoint = function(a) {
            return this.x < a.x && this.x + this.width > a.x && this.y < a.y && this.y + this.height > a.y ? !0 : !1
        };
        b.setTo = function(a, e, h, b) {
            this.initialize(a, e, h, b)
        };
        b.copyFrom = function(a) {
            this.x = a.x;
            this.y = a.y;
            this.width = a.width;
            this.height = a.height
        };
        b.inflate = function(a, e) {
            this.x -= a;
            this.width += 2 * a;
            this.y -= e;
            this.height += 2 * e
        };
        b.isEmpty = function() {
            return 0 == this.width || 0 == this.height
        };
        b.containsRect = function(a) {
            var e = a.x + a.width,
            h = a.y + a.height,
            b = this.x + this.width,
            c = this.y + this.height;
            return a.x >= this.x && a.x < b && a.y >= this.y && a.y < c && e > this.x && e <= b && h > this.y && h <= c
        };
        b.equals = function(a) {
            return this === a ? !0 : this.x === a.x && this.y === a.y && this.width === a.width && this.height === a.height
        };
        b.inflatePoint = function(a) {
            this.inflate(a.x, a.y)
        };
        b.intersection = function(a) {
            var e = this.clone(),
            h = e.x,
            b = e.y,
            c = a.x,
            d = a.y,
            f = Math.max(h, c),
            h = Math.min(h + e.width, c + a.width);
            if (f <= h && (c = Math.max(b, d), a = Math.min(b + e.height, d + a.height), c <= a)) return e.setTo(f, c, h - f, a - c),
            e;
            e.setEmpty();
            return e
        };
        b.offset = function(a, e) {
            this.x += a;
            this.y += e
        };
        b.offsetPoint = function(a) {
            this.offset(a.x, a.y)
        };
        b.toString = function() {
            return "(x=" + this.x + ", y=" + this.y + ", width=" + this.width + ", height=" + this.height + ")"
        };
        b.union = function(a) {
            var e = this.clone();
            if (a.isEmpty()) return e;
            if (e.isEmpty()) return e.copyFrom(a),
            e;
            var h = Math.min(e.x, a.x),
            b = Math.min(e.y, a.y);
            e.setTo(h, b, Math.max(e.right, a.right) - h, Math.max(e.bottom, a.bottom) - b);
            return e
        };
        d.identity = new d(0, 0, 0, 0);
        return d
    } (c.HashObject);
    c.Rectangle = g;
    g.prototype.__class__ = "egret.Rectangle"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(a, e, h, b, d, g, k, l) {
            void 0 === a && (a = 1);
            void 0 === e && (e = 1);
            void 0 === h && (h = 1);
            void 0 === b && (b = 1);
            void 0 === d && (d = 0);
            void 0 === g && (g = 0);
            void 0 === k && (k = 0);
            void 0 === l && (l = 0);
            c.call(this);
            this._redMultiplier = a;
            this._greenMultiplier = e;
            this._blueMultiplier = h;
            this._alphaMultiplier = b;
            this._redOffset = d;
            this._greenOffset = g;
            this._blueOffset = k;
            this._alphaOffset = l
        }
        __extends(d, c);
        var b = d.prototype;
        Object.defineProperty(b, "alphaMultiplier", {
            get: function() {
                return this._alphaMultiplier
            },
            set: function(a) {
                this._alphaMultiplier = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "alphaOffset", {
            get: function() {
                return this._alphaOffset
            },
            set: function(a) {
                this._alphaOffset = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "blueMultiplier", {
            get: function() {
                return this._blueMultiplier
            },
            set: function(a) {
                this._blueMultiplier = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "blueOffset", {
            get: function() {
                return this._blueOffset
            },
            set: function(a) {
                this._blueOffset = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "greenMultiplier", {
            get: function() {
                return this._greenMultiplier
            },
            set: function(a) {
                this._greenMultiplier = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "greenOffset", {
            get: function() {
                return this._greenOffset
            },
            set: function(a) {
                this._greenOffset = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "redMultiplier", {
            get: function() {
                return this._redMultiplier
            },
            set: function(a) {
                this._redMultiplier = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "redOffset", {
            get: function() {
                return this._redOffset
            },
            set: function(a) {
                this._redOffset = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "color", {
            get: function() {
                return this._redOffset << 16 + this._greenOffset << 8 + this._blueOffset
            },
            enumerable: !0,
            configurable: !0
        });
        b.identityColorTransform = function(a) {
            this._alphaMultiplier = a._alphaMultiplier;
            this._alphaOffset = a._alphaOffset;
            this._redMultiplier = a._redMultiplier;
            this._redOffset = a._redOffset;
            this._greenMultiplier = a._greenMultiplier;
            this._greenOffset = a._greenOffset;
            this._blueMultiplier = a._blueMultiplier;
            this._blueOffset = a._blueOffset
        };
        b.concat = function(a) {
            this._redMultiplier *= a._redMultiplier;
            this._greenMultiplier *= a._greenMultiplier;
            this._blueMultiplier *= a._blueMultiplier;
            this._alphaMultiplier *= a._alphaMultiplier;
            this._redOffset += a._redOffset;
            this._greenOffset += a._greenOffset;
            this._blueOffset += a._blueOffset;
            this._alphaOffset += a._alphaOffset
        };
        b.toString = function() {
            return "(redMultiplier=" + this._redMultiplier + ", greenMultiplier=" + this._greenMultiplier + ", blueMultiplier=" + this._blueMultiplier + ", alphaMultiplier=" + this._alphaMultiplier + ", redOffset=" + this._redOffset + ", greenOffset=" + this._greenOffset + ", blueOffset=" + this._blueOffset + ", alphaOffset=" + this._alphaOffset + ")"
        };
        return d
    } (c.HashObject);
    c.ColorTransform = g;
    g.prototype.__class__ = "egret.ColorTransform"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a) {
            f.call(this);
            this._matrix = new c.Matrix;
            this._matrix2 = new c.Matrix;
            this._colorTransform = new c.ColorTransform;
            this._colorTransform2 = new c.ColorTransform;
            this._display = a
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "matrix", {
            get: function() {
                this._matrix2.identityMatrix(this._matrix);
                return this._matrix2
            },
            set: function(a) {
                this._setMatrix(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMatrix = function(a) {
            this._display.__hack_local_matrix || (this._display.__hack_local_matrix = new c.Matrix);
            this._display.__hack_local_matrix.identityMatrix(a);
            this._matrix.identityMatrix(a)
        };
        Object.defineProperty(b, "colorTransform", {
            get: function() {
                this._colorTransform2.identityColorTransform(this._colorTransform);
                return this._colorTransform2
            },
            set: function(a) {
                this._setColorTransform(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setColorTransform = function(a) {
            this._colorTransform.identityColorTransform(a)
        };
        return d
    } (c.HashObject);
    c.Transform = g;
    g.prototype.__class__ = "egret.Transform"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._isSupportDOMParser = this._xmlDict = this._parser = null;
            this._xmlDict = {};
            window.DOMParser ? (this._isSupportDOMParser = !0, this._parser = new DOMParser) : this._isSupportDOMParser = !1
        }
        __extends(d, f);
        var b = d.prototype;
        d.getInstance = function() {
            d._instance || (d._instance = new d);
            return d._instance
        };
        b.parserXML = function(a) {
            for (var e = 0;
            "\n" == a.charAt(e) || "\t" == a.charAt(e) || "\r" == a.charAt(e) || " " == a.charAt(e);) e++;
            0 != e && (a = a.substring(e, a.length));
            this._isSupportDOMParser ? e = this._parser.parseFromString(a, "text/xml") : (e = new ActiveXObject("Microsoft.XMLDOM"), e.async = "false", e.loadXML(a));
            null == e && c.$warn(1015);
            return e
        };
        d._instance = null;
        return d
    } (c.HashObject);
    c.SAXParser = g;
    g.prototype.__class__ = "egret.SAXParser"
})(egret || (egret = {})); (function(c) {
    var g = function(a) {
        function h() {
            a.call(this);
            this._designHeight = this._designWidth = 0;
            this._scaleY = this._scaleX = 1;
            this._stageHeight = this._stageWidth = this._offSetY = 0
        }
        __extends(h, a);
        var b = h.prototype;
        h.getInstance = function() {
            null == h.instance && (d.initialize(), h.instance = new h);
            return h.instance
        };
        b.setDesignSize = function(a, e, h) {
            this._designWidth = a;
            this._designHeight = e;
            h && (c.$warn(1001), this._setResolutionPolicy(h))
        };
        b._setResolutionPolicy = function(a) {
            this._resolutionPolicy = a;
            a.init(this);
            a._apply(this, this._designWidth, this._designHeight)
        };
        b.getScaleX = function() {
            return this._scaleX
        };
        b.getScaleY = function() {
            return this._scaleY
        };
        b.getOffSetY = function() {
            return this._offSetY
        };
        h.canvas_name = "egretCanvas";
        h.egret_root_div = "gameDiv";
        h.canvas_div_name = "canvasDiv";
        return h
    } (c.HashObject);
    c.StageDelegate = g;
    g.prototype.__class__ = "egret.StageDelegate";
    var f = function() {
        function a(e, h) {
            this._containerStrategy = e;
            this._contentStrategy = h
        }
        var h = a.prototype;
        h.init = function(a) {
            this._containerStrategy.init(a);
            this._contentStrategy.init(a)
        };
        h._apply = function(a, e, h) {
            this._containerStrategy._apply(a, e, h);
            this._contentStrategy._apply(a, e, h)
        };
        return a
    } ();
    c.ResolutionPolicy = f;
    f.prototype.__class__ = "egret.ResolutionPolicy";
    var d = function() {
        function a() {}
        var h = a.prototype;
        a.initialize = function() {
            a.EQUAL_TO_FRAME = new b
        };
        h.init = function(a) {};
        h._apply = function(a, e, h) {};
        h._setupContainer = function() {
            var a = document.body,
            e;
            a && (e = a.style) && (e.paddingTop = e.paddingTop || "0px", e.paddingRight = e.paddingRight || "0px", e.paddingBottom = e.paddingBottom || "0px", e.paddingLeft = e.paddingLeft || "0px", e.borderTop = e.borderTop || "0px", e.borderRight = e.borderRight || "0px", e.borderBottom = e.borderBottom || "0px", e.borderLeft = e.borderLeft || "0px", e.marginTop = e.marginTop || "0px", e.marginRight = e.marginRight || "0px", e.marginBottom = e.marginBottom || "0px", e.marginLeft = e.marginLeft || "0px")
        };
        return a
    } ();
    c.ContainerStrategy = d;
    d.prototype.__class__ = "egret.ContainerStrategy";
    var b = function(a) {
        function h() {
            a.apply(this, arguments)
        }
        __extends(h, a);
        h.prototype._apply = function(a) {
            this._setupContainer()
        };
        return h
    } (d);
    c.EqualToFrame = b;
    b.prototype.__class__ = "egret.EqualToFrame";
    f = function() {
        function a() {}
        var h = a.prototype;
        h.init = function(a) {};
        h._apply = function(a, e, h) {};
        h.setEgretSize = function(a, e, h, b, d, f) {
            void 0 === f && (f = 0);
            c.StageDelegate.getInstance()._stageWidth = Math.round(a);
            c.StageDelegate.getInstance()._stageHeight = Math.round(e);
            a = document.getElementById(g.canvas_div_name);
            e = document.getElementById(g.egret_root_div);
            a || (a = c.Browser.getInstance().$new("div"), a.id = g.canvas_div_name, e.appendChild(a));
            a.style.width = h + "px";
            a.style.height = b + "px";
            e.style.width = h + "px";
            e.style.height = b + "px";
            e.style.top = f + "px"
        };
        h._getClientWidth = function() {
            return document.documentElement.clientWidth
        };
        h._getClientHeight = function() {
            return document.documentElement.clientHeight
        };
        return a
    } ();
    c.ContentStrategy = f;
    f.prototype.__class__ = "egret.ContentStrategy";
    var a = function(a) {
        function h(h) {
            void 0 === h && (h = 0);
            a.call(this);
            this.minWidth = NaN;
            this.minWidth = h
        }
        __extends(h, a);
        h.prototype._apply = function(a, e, h) {
            e = this._getClientWidth();
            var b = this._getClientHeight(),
            c = b / h,
            d = e / c,
            f = 1;
            0 != this.minWidth && (f = Math.min(1, d / this.minWidth));
            this.setEgretSize(d / f, h, e, b * f);
            a._scaleX = c * f;
            a._scaleY = c * f
        };
        return h
    } (f);
    c.FixedHeight = a;
    a.prototype.__class__ = "egret.FixedHeight";
    a = function(a) {
        function h(h) {
            void 0 === h && (h = 0);
            a.call(this);
            this.minHeight = NaN;
            this.minHeight = h
        }
        __extends(h, a);
        h.prototype._apply = function(a, e, h) {
            h = this._getClientWidth();
            var b = this._getClientHeight(),
            c = h / e,
            d = b / c,
            f = 1;
            0 != this.minHeight && (f = Math.min(1, d / this.minHeight));
            this.setEgretSize(e, d / f, h * f, b, h * (1 - f) / 2);
            a._scaleX = c * f;
            a._scaleY = c * f
        };
        return h
    } (f);
    c.FixedWidth = a;
    a.prototype.__class__ = "egret.FixedWidth";
    a = function(a) {
        function h(h, b) {
            a.call(this);
            this.width = h;
            this.height = b
        }
        __extends(h, a);
        h.prototype._apply = function(a, e, h) {
            h = this.width;
            var b = this.height,
            c = h / e;
            this.setEgretSize(e, b / c, h, b);
            a._scaleX = c;
            a._scaleY = c
        };
        return h
    } (f);
    c.FixedSize = a;
    a.prototype.__class__ = "egret.FixedSize";
    a = function(a) {
        function h() {
            a.call(this)
        }
        __extends(h, a);
        h.prototype._apply = function(a, e, h) {
            this.setEgretSize(e, h, e, h, Math.floor((e - e) / 2));
            a._scaleX = 1;
            a._scaleY = 1
        };
        return h
    } (f);
    c.NoScale = a;
    a.prototype.__class__ = "egret.NoScale";
    a = function(a) {
        function h() {
            a.call(this)
        }
        __extends(h, a);
        h.prototype._apply = function(a, e, h) {
            var b = this._getClientWidth(),
            c = this._getClientHeight(),
            d = b,
            f = c,
            g = d / e < f / h ? d / e: f / h,
            d = e * g,
            f = h * g,
            b = Math.floor((b - d) / 2);
            a._offSetY = Math.floor((c - f) / 2);
            this.setEgretSize(e, h / 1, 1 * d, f, b, a._offSetY);
            a._scaleX = 1 * g;
            a._scaleY = 1 * g
        };
        return h
    } (f);
    c.ShowAll = a;
    a.prototype.__class__ = "egret.ShowAll";
    f = function(a) {
        function h() {
            a.call(this)
        }
        __extends(h, a);
        h.prototype._apply = function(a, e, h) {
            var b = this._getClientWidth(),
            c = this._getClientHeight(),
            b = b / e,
            c = c / h;
            this.setEgretSize(e, h, e * b, h * c);
            a._scaleX = b;
            a._scaleY = c
        };
        return h
    } (f);
    c.FullScreen = f;
    f.prototype.__class__ = "egret.FullScreen"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._originalData = {};
            this._drawAreaList = []
        }
        __extends(d, f);
        var b = d.prototype;
        d.getInstance = function() {
            null == d.instance && (d.instance = new d);
            return d.instance
        };
        b.addDrawArea = function(a) {
            this._drawAreaList.push(a)
        };
        b.clearDrawArea = function() {
            this._drawAreaList = []
        };
        b.drawImage = function(a, e, h, b, f, g, k, l, m, n, q) {
            void 0 === q && (q = void 0);
            k = k || 0;
            l = l || 0;
            var s = e._texture_to_render;
            if (null != s && 0 != g && 0 != f && 0 != m && 0 != n) {
                var r = c.MainContext.instance.rendererContext._texture_scale_factor;
                f /= r;
                g /= r;
                if (0 != this._drawAreaList.length && c.MainContext.instance.rendererContext._cacheCanvasContext) {
                    r = c.DisplayObject.getTransformBounds(e._getSize(d.identityRectangle), e._worldTransform);
                    e._worldBounds.initialize(r.x, r.y, r.width, r.height);
                    r = this._originalData;
                    r.sourceX = h;
                    r.sourceY = b;
                    r.sourceWidth = f;
                    r.sourceHeight = g;
                    r.destX = k;
                    r.destY = l;
                    r.destWidth = m;
                    r.destHeight = n;
                    for (var x = this.getDrawAreaList(), z = 0; z < x.length; z++) if (!this.ignoreRender(e, x[z], r.destX, r.destY)) {
                        a.drawImage(s, h, b, f, g, k, l, m, n, q);
                        break
                    }
                } else a.drawImage(s, h, b, f, g, k, l, m, n, q)
            }
        };
        b.ignoreRender = function(a, e, h, b) {
            var c = a._worldBounds;
            h *= a._worldTransform.a;
            b *= a._worldTransform.d;
            return c.x + c.width + h <= e.x || c.x + h >= e.x + e.width || c.y + c.height + b <= e.y || c.y + b >= e.y + e.height ? !0 : !1
        };
        b.getDrawAreaList = function() {
            var a;
            0 == this._drawAreaList.length ? (this._defaultDrawAreaList || (this._defaultDrawAreaList = [new c.Rectangle(0, 0, c.MainContext.instance.stage.stageWidth, c.MainContext.instance.stage.stageHeight)], c.MainContext.instance.stage.addEventListener(c.Event.RESIZE, this.onResize, this)), a = this._defaultDrawAreaList) : a = this._drawAreaList;
            return a
        };
        b.onResize = function() {
            c.MainContext.instance.stage.removeEventListener(c.Event.RESIZE, this.onResize, this);
            this._defaultDrawAreaList = null
        };
        d.identityRectangle = new c.Rectangle;
        return d
    } (c.HashObject);
    c.RenderFilter = g;
    g.prototype.__class__ = "egret.RenderFilter"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f() {}
        f.mapClass = function(c, b, a) {
            void 0 === a && (a = "");
            c = this.getKey(c) + "#" + a;
            this.mapClassDic[c] = b
        };
        f.getKey = function(d) {
            return "string" == typeof d ? d: c.getQualifiedClassName(d)
        };
        f.mapValue = function(c, b, a) {
            void 0 === a && (a = "");
            c = this.getKey(c) + "#" + a;
            this.mapValueDic[c] = b
        };
        f.hasMapRule = function(c, b) {
            void 0 === b && (b = "");
            var a = this.getKey(c) + "#" + b;
            return this.mapValueDic[a] || this.mapClassDic[a] ? !0 : !1
        };
        f.getInstance = function(d, b) {
            void 0 === b && (b = "");
            var a = this.getKey(d) + "#" + b;
            if (this.mapValueDic[a]) return this.mapValueDic[a];
            var e = this.mapClassDic[a];
            if (e) return e = new e,
            this.mapValueDic[a] = e,
            delete this.mapClassDic[a],
            e;
            c.$error(1028, a)
        };
        f.mapClassDic = {};
        f.mapValueDic = {};
        return f
    } ();
    c.Injector = g;
    g.prototype.__class__ = "egret.Injector"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.apply(this, arguments);
            this.type = null
        }
        __extends(d, c);
        return d
    } (c.HashObject);
    c.Filter = g;
    g.prototype.__class__ = "egret.Filter"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(b, a) {
            c.call(this);
            this.blurX = b;
            this.blurY = a;
            this.type = "blur"
        }
        __extends(d, c);
        return d
    } (c.Filter);
    c.BlurFilter = g;
    g.prototype.__class__ = "egret.BlurFilter"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(a) {
            void 0 === a && (a = null);
            c.call(this);
            this._matrix = [];
            this._matrix2 = [];
            this.type = "colorTransform";
            this._setMatrix(a)
        }
        __extends(d, c);
        var b = d.prototype;
        Object.defineProperty(b, "matrix", {
            get: function() {
                for (var a = 0; 20 > a; a++) this._matrix2[a] = this._matrix[a];
                return this._matrix2
            },
            set: function(a) {
                this._setMatrix(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMatrix = function(a) {
            for (var e = 0; 20 > e; e++) this._matrix[e] = a && a[e] || 0
        };
        return d
    } (c.Filter);
    c.ColorMatrixFilter = g;
    g.prototype.__class__ = "egret.ColorMatrixFilter"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(b, a, e, h, d, u, g, k) {
            void 0 === b && (b = 16711680);
            void 0 === a && (a = 1);
            void 0 === e && (e = 6);
            void 0 === h && (h = 6);
            void 0 === d && (d = 2);
            void 0 === u && (u = 1);
            void 0 === g && (g = !1);
            void 0 === k && (k = !1);
            c.call(this);
            this.color = b;
            this.alpha = a;
            this.blurX = e;
            this.blurY = h;
            this.strength = d;
            this.quality = u;
            this.inner = g;
            this.knockout = k;
            this.type = "glow";
            this._blue = b & 255;
            this._green = (b & 65280) >> 8;
            this._red = b >> 16
        }
        __extends(d, c);
        return d
    } (c.Filter);
    c.GlowFilter = g;
    g.prototype.__class__ = "egret.GlowFilter"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(b, a, e, h, d, u, g, k, l, m, n) {
            void 0 === b && (b = 4);
            void 0 === a && (a = 45);
            void 0 === e && (e = 0);
            void 0 === h && (h = 1);
            void 0 === d && (d = 4);
            void 0 === u && (u = 4);
            void 0 === g && (g = 1);
            void 0 === k && (k = 1);
            void 0 === l && (l = !1);
            void 0 === m && (m = !1);
            c.call(this, e, h, d, u, g, k, l, m);
            this.distance = b;
            this.angle = a
        }
        __extends(d, c);
        return d
    } (c.GlowFilter);
    c.DropShadowFilter = g;
    g.prototype.__class__ = "egret.DropShadowFilter"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.NORMAL = "normal";
        c.ADD = "add";
        c.ERASE = "erase";
        c.ERASE_REVERSE = "eraseReverse";
        return c
    } ();
    c.BlendMode = g;
    g.prototype.__class__ = "egret.BlendMode"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {
            this._name = null;
            this._explicitHeight = this._explicitWidth = NaN;
            this._y = this._x = 0;
            this._scaleY = this._scaleX = 1;
            this._rotation = this._anchorY = this._anchorX = this._anchorOffsetY = this._anchorOffsetX = 0;
            this._alpha = 1;
            this._skewY = this._skewX = 0;
            this._blendMode = null;
            this._touchEnabled = c.defaultTouchEnabled;
            this._visible = !0;
            this._worldAlpha = 1;
            this._scrollRect = null;
            this._cacheAsBitmap = !1;
            this._stage = this._parent = null;
            this._needDraw = !1;
            this._filters = null;
            this._hasHeightSet = this._hasWidthSet = !1;
            this._sizeDirty = this._normalDirty = !0;
            this._isContainer = !1
        }
        c.defaultTouchEnabled = !1;
        return c
    } ();
    c.DisplayObjectProperties = g;
    g.prototype.__class__ = "egret.DisplayObjectProperties"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        return function() {
            this._hitTestPointTexture = null;
            this._rectH = this._rectW = 0;
            this._cacheDirty = !1
        }
    } ();
    c.DisplayObjectPrivateProperties = g;
    g.prototype.__class__ = "egret.DisplayObjectPrivateProperties"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.renderTexture = this.mask = this._sizeChangeCallTarget = this._sizeChangeCallBack = this.__hack_local_matrix = this._worldBounds = this._texture_to_render = null;
            this._DO_Props_ = new c.DisplayObjectProperties;
            this._DO_Privs_ = new c.DisplayObjectPrivateProperties;
            this._worldTransform = new c.Matrix;
            this._worldBounds = new c.Rectangle(0, 0, 0, 0);
            this._DO_Privs_._cacheBounds = new c.Rectangle(0, 0, 0, 0)
        }
        __extends(d, f);
        var b = d.prototype;
        b._setDirty = function() {
            this._DO_Props_._normalDirty = !0
        };
        b.getDirty = function() {
            return this._DO_Props_._normalDirty || this._DO_Props_._sizeDirty
        };
        b._setParentSizeDirty = function() {
            var a = this._DO_Props_._parent;
            a && (a._DO_Props_._hasWidthSet || a._DO_Props_._hasHeightSet ? a._setCacheDirty() : a._setSizeDirty())
        };
        b._setSizeDirty = function() {
            var a = this._DO_Props_;
            a._sizeDirty || (a._sizeDirty = !0, this._setDirty(), this._setCacheDirty(), this._setParentSizeDirty(), null != this._sizeChangeCallBack && (this._sizeChangeCallTarget == a._parent ? this._sizeChangeCallBack.call(this._sizeChangeCallTarget) : this._sizeChangeCallTarget = this._sizeChangeCallBack = null))
        };
        b._clearDirty = function() {
            this._DO_Props_._normalDirty = !1
        };
        b._clearSizeDirty = function() {
            this._DO_Props_._sizeDirty = !1
        };
        Object.defineProperty(b, "name", {
            get: function() {
                return this._DO_Props_._name
            },
            set: function(a) {
                this._DO_Props_._name = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "parent", {
            get: function() {
                return this._DO_Props_._parent
            },
            enumerable: !0,
            configurable: !0
        });
        b._parentChanged = function(a) {
            this._DO_Props_._parent = a
        };
        Object.defineProperty(b, "x", {
            get: function() {
                return this._DO_Props_._x
            },
            set: function(a) {
                this._setX(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setX = function(a) {
            c.NumberUtils.isNumber(a) && this._DO_Props_._x != a && (this._DO_Props_._x = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "y", {
            get: function() {
                return this._DO_Props_._y
            },
            set: function(a) {
                this._setY(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setY = function(a) {
            c.NumberUtils.isNumber(a) && this._DO_Props_._y != a && (this._DO_Props_._y = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "scaleX", {
            get: function() {
                return this._DO_Props_._scaleX
            },
            set: function(a) {
                c.NumberUtils.isNumber(a) && this._DO_Props_._scaleX != a && (this._DO_Props_._scaleX = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "scaleY", {
            get: function() {
                return this._DO_Props_._scaleY
            },
            set: function(a) {
                c.NumberUtils.isNumber(a) && this._DO_Props_._scaleY != a && (this._DO_Props_._scaleY = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "anchorOffsetX", {
            get: function() {
                return this._DO_Props_._anchorOffsetX
            },
            set: function(a) {
                c.NumberUtils.isNumber(a) && this._DO_Props_._anchorOffsetX != a && (this._DO_Props_._anchorOffsetX = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "anchorOffsetY", {
            get: function() {
                return this._DO_Props_._anchorOffsetY
            },
            set: function(a) {
                c.NumberUtils.isNumber(a) && this._DO_Props_._anchorOffsetY != a && (this._DO_Props_._anchorOffsetY = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "anchorX", {
            get: function() {
                return this._DO_Props_._anchorX
            },
            set: function(a) {
                this._setAnchorX(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setAnchorX = function(a) {
            c.NumberUtils.isNumber(a) && this._DO_Props_._anchorX != a && (this._DO_Props_._anchorX = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "anchorY", {
            get: function() {
                return this._DO_Props_._anchorY
            },
            set: function(a) {
                this._setAnchorY(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setAnchorY = function(a) {
            c.NumberUtils.isNumber(a) && this._DO_Props_._anchorY != a && (this._DO_Props_._anchorY = a, this._setDirty(), this._setParentSizeDirty())
        };
        Object.defineProperty(b, "visible", {
            get: function() {
                return this._DO_Props_._visible
            },
            set: function(a) {
                this._setVisible(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setVisible = function(a) {
            this._DO_Props_._visible != a && (this._DO_Props_._visible = a, this._setSizeDirty())
        };
        Object.defineProperty(b, "rotation", {
            get: function() {
                return this._DO_Props_._rotation
            },
            set: function(a) {
                c.NumberUtils.isNumber(a) && this._DO_Props_._rotation != a && (this._DO_Props_._rotation = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "alpha", {
            get: function() {
                return this._DO_Props_._alpha
            },
            set: function(a) {
                this._setAlpha(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setAlpha = function(a) {
            c.NumberUtils.isNumber(a) && this._DO_Props_._alpha != a && (this._DO_Props_._alpha = a, this._setDirty(), this._setCacheDirty())
        };
        Object.defineProperty(b, "skewX", {
            get: function() {
                return this._DO_Props_._skewX
            },
            set: function(a) {
                c.NumberUtils.isNumber(a) && this._DO_Props_._skewX != a && (this._DO_Props_._skewX = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "skewY", {
            get: function() {
                return this._DO_Props_._skewY
            },
            set: function(a) {
                c.NumberUtils.isNumber(a) && this._DO_Props_._skewY != a && (this._DO_Props_._skewY = a, this._setDirty(), this._setParentSizeDirty())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "touchEnabled", {
            get: function() {
                return this._DO_Props_._touchEnabled
            },
            set: function(a) {
                this._setTouchEnabled(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setTouchEnabled = function(a) {
            this._DO_Props_._touchEnabled = a
        };
        Object.defineProperty(b, "blendMode", {
            get: function() {
                return this._DO_Props_._blendMode
            },
            set: function(a) {
                this._DO_Props_._blendMode = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "scrollRect", {
            get: function() {
                return this._DO_Props_._scrollRect
            },
            set: function(a) {
                this._setScrollRect(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setScrollRect = function(a) {
            this._DO_Props_._scrollRect = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "measuredWidth", {
            get: function() {
                return this._measureBounds().width
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "measuredHeight", {
            get: function() {
                return this._measureBounds().height
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "explicitWidth", {
            get: function() {
                return this._DO_Props_._explicitWidth
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "explicitHeight", {
            get: function() {
                return this._DO_Props_._explicitHeight
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "width", {
            get: function() {
                return this._getWidth()
            },
            set: function(a) {
                this._setWidth(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._getWidth = function() {
            return this._getSize(c.Rectangle.identity).width
        };
        Object.defineProperty(b, "height", {
            get: function() {
                return this._getHeight()
            },
            set: function(a) {
                this._setHeight(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._getHeight = function() {
            return this._getSize(c.Rectangle.identity).height
        };
        b._setWidth = function(a) {
            this._setSizeDirty();
            this._setCacheDirty();
            this._DO_Props_._explicitWidth = a;
            this._DO_Props_._hasWidthSet = c.NumberUtils.isNumber(a)
        };
        b._setHeight = function(a) {
            this._setSizeDirty();
            this._setCacheDirty();
            this._DO_Props_._explicitHeight = a;
            this._DO_Props_._hasHeightSet = c.NumberUtils.isNumber(a)
        };
        Object.defineProperty(b, "worldAlpha", {
            get: function() {
                return this._DO_Props_._worldAlpha
            },
            set: function(a) {
                this._DO_Props_._worldAlpha = a
            },
            enumerable: !0,
            configurable: !0
        });
        b._draw = function(a) {
            if (this._DO_Props_._visible && !this.drawCacheTexture(a)) {
                var e = c.MainContext.__use_new_draw && this._DO_Props_._isContainer;
                this._hasFilters() && !e && this._setGlobalFilters(a);
                a.setAlpha(this.worldAlpha, this.blendMode);
                a.setTransform(this._worldTransform);
                var h = this.mask || this._DO_Props_._scrollRect;
                h && !e && a.pushMask(h);
                this._render(a);
                h && !e && a.popMask();
                this._hasFilters() && !e && this._removeGlobalFilters(a)
            }
            this.destroyCacheBounds()
        };
        b._setGlobalFilters = function(a) {
            var e;
            e = this._DO_Props_._filters ? this._DO_Props_._filters.concat() : [];
            if (this._transform) {
                var h = this._transform._colorTransform,
                b = d.color;
                b[0] = h._redMultiplier;
                b[4] = h._redOffset;
                b[6] = h._greenMultiplier;
                b[9] = h._greenOffset;
                b[12] = h._blueMultiplier;
                b[14] = h._blueOffset;
                b[18] = h._alphaMultiplier;
                b[19] = h._alphaOffset;
                d.colorMatrixFilter._matrix = b;
                e.push(d.colorMatrixFilter)
            }
            a.setGlobalFilters(e)
        };
        b._removeGlobalFilters = function(a) {
            a.setGlobalFilters(null)
        };
        b._hasFilters = function() {
            var a = this._DO_Props_._filters && 0 < this._DO_Props_._filters.length;
            if (this._transform) {
                var e = this._transform._colorTransform;
                if (1 != e._redMultiplier || 0 != e._redOffset || 1 != e._greenMultiplier || 0 != e._greenOffset || 1 != e._blueMultiplier || 0 != e._blueOffset || 1 != e._alphaMultiplier || 0 != e._alphaOffset) a = !0
            }
            return a
        };
        b._pushMask = function(a) {
            a.setTransform(this._worldTransform);
            var e = this.mask || this._DO_Props_._scrollRect;
            e && a.pushMask(e)
        };
        b._popMask = function(a) {
            a.popMask()
        };
        b.drawCacheTexture = function(a) {
            if (!1 == this._DO_Props_._cacheAsBitmap) return ! 1;
            var e = this.getBounds(c.Rectangle.identity);
            if (this._DO_Privs_._cacheDirty || null == this._texture_to_render || 1 <= Math.round(e.width) - this._texture_to_render._textureWidth || 1 <= Math.round(e.height) - this._texture_to_render._textureHeight) e = this._makeBitmapCache(),
            this._DO_Privs_._cacheDirty = !e;
            if (null == this._texture_to_render) return ! 1;
            var h = this._texture_to_render,
            e = h._offsetX,
            b = h._offsetY,
            d = h._textureWidth,
            h = h._textureHeight;
            this._updateTransform();
            a.setAlpha(this.worldAlpha, this.blendMode);
            a.setTransform(this._worldTransform);
            c.RenderFilter.getInstance().drawImage(a, this, 0, 0, d, h, e, b, d, h);
            return ! 0
        };
        Object.defineProperty(b, "needDraw", {
            get: function() {
                return this._DO_Props_._needDraw
            },
            set: function(a) {
                this._DO_Props_._needDraw = a
            },
            enumerable: !0,
            configurable: !0
        });
        b._updateTransform = function() {
            var a = this._DO_Props_;
            a._visible && (this._calculateWorldTransform(), "updateTransform" == c.MainContext._renderLoopPhase && (this.needDraw || this._texture_to_render || a._cacheAsBitmap) && c.RenderCommand.push(this._draw, this))
        };
        b._calculateWorldTransform = function() {
            var a = this._DO_Props_,
            e = this._worldTransform,
            h = a._parent;
            e.identityMatrix(h._worldTransform);
            this._getMatrix(e);
            var b = a._scrollRect;
            b && e.append(1, 0, 0, 1, -b.x, -b.y);
            this.worldAlpha = h.worldAlpha * a._alpha
        };
        b._render = function(a) {};
        b.getBounds = function(a, e) {
            void 0 === e && (e = !0);
            var h = this._DO_Props_,
            b = this._DO_Privs_,
            d = this._measureBounds(),
            f = h._hasWidthSet ? h._explicitWidth: d.width,
            g = h._hasHeightSet ? h._explicitHeight: d.height;
            b._rectW = d.width;
            b._rectH = d.height;
            this._clearSizeDirty();
            var l = d.x,
            d = d.y,
            m = 0,
            n = 0;
            e && (0 != h._anchorX || 0 != h._anchorY ? (m = f * h._anchorX, n = g * h._anchorY) : (m = h._anchorOffsetX, n = h._anchorOffsetY));
            b._cacheBounds.initialize(l - m, d - n, f, g);
            h = b._cacheBounds;
            a || (a = new c.Rectangle);
            return a.initialize(h.x, h.y, h.width, h.height)
        };
        b.destroyCacheBounds = function() {
            var a = this._DO_Privs_;
            a._cacheBounds.x = 0;
            a._cacheBounds.y = 0;
            a._cacheBounds.width = 0;
            a._cacheBounds.height = 0
        };
        b._getConcatenatedMatrix = function() {
            for (var a = d.identityMatrixForGetConcatenated.identity(), e = this; null != e;) {
                var b = e._DO_Props_;
                0 != b._anchorX || 0 != b._anchorY ? (e = e._getSize(c.Rectangle.identity), a.prependTransform(b._x, b._y, b._scaleX, b._scaleY, b._rotation, b._skewX, b._skewY, e.width * b._anchorX, e.height * b._anchorY)) : a.prependTransform(b._x, b._y, b._scaleX, b._scaleY, b._rotation, b._skewX, b._skewY, b._anchorOffsetX, b._anchorOffsetY);
                b._scrollRect && a.prepend(1, 0, 0, 1, -b._scrollRect.x, -b._scrollRect.y);
                e = b._parent
            }
            return a
        };
        b.localToGlobal = function(a, e, b) {
            void 0 === a && (a = 0);
            void 0 === e && (e = 0);
            var d = this._getConcatenatedMatrix();
            d.append(1, 0, 0, 1, a, e);
            b || (b = new c.Point);
            b.x = d.tx;
            b.y = d.ty;
            return b
        };
        b.globalToLocal = function(a, e, b) {
            void 0 === a && (a = 0);
            void 0 === e && (e = 0);
            var d = this._getConcatenatedMatrix();
            d.invert();
            d.append(1, 0, 0, 1, a, e);
            b || (b = new c.Point);
            b.x = d.tx;
            b.y = d.ty;
            return b
        };
        b.hitTest = function(a, e, b) {
            void 0 === b && (b = !1);
            var d = this._DO_Props_;
            if (!d._visible || !b && !d._touchEnabled) return null;
            b = this.getBounds(c.Rectangle.identity, !1);
            a -= b.x;
            e -= b.y;
            return 0 <= a && a < b.width && 0 <= e && e < b.height ? this.mask || d._scrollRect ? d._scrollRect && a > d._scrollRect.x && e > d._scrollRect.y && a < d._scrollRect.x + d._scrollRect.width && e < d._scrollRect.y + d._scrollRect.height || this.mask && this.mask.x <= a && a < this.mask.x + this.mask.width && this.mask.y <= e && e < this.mask.y + this.mask.height ? this: null: this: null
        };
        b.hitTestPoint = function(a, e, b) {
            var d = this._DO_Privs_;
            a = this.globalToLocal(a, e);
            return b ? (d._hitTestPointTexture || (d._hitTestPointTexture = new c.RenderTexture), b = d._hitTestPointTexture, b.drawToTexture(this), 0 != b.getPixel32(a.x - d._hitTestPointTexture._offsetX, a.y - d._hitTestPointTexture._offsetY)[3] ? !0 : !1) : !!this.hitTest(a.x, a.y, !0)
        };
        b._getMatrix = function(a) {
            a || (a = c.Matrix.identity.identity());
            var e = this._DO_Props_,
            b, d;
            d = this._getOffsetPoint();
            b = d.x;
            d = d.y;
            var f = this.__hack_local_matrix;
            f ? (a.append(f.a, f.b, f.c, f.d, f.tx, f.ty), a.append(1, 0, 0, 1, -b, -d)) : a.appendTransform(e._x, e._y, e._scaleX, e._scaleY, e._rotation, e._skewX, e._skewY, b, d);
            return a
        };
        b._getSize = function(a) {
            var e = this._DO_Props_;
            if (e._hasHeightSet && e._hasWidthSet) return this._clearSizeDirty(),
            a.initialize(0, 0, e._explicitWidth, e._explicitHeight);
            this._measureSize(a);
            e._hasWidthSet && (a.width = e._explicitWidth);
            e._hasHeightSet && (a.height = e._explicitHeight);
            return a
        };
        b._measureSize = function(a) {
            var e = this._DO_Privs_;
            this._DO_Props_._sizeDirty ? (a = this._measureBounds(), e._rectW = a.width, e._rectH = a.height, this._clearSizeDirty()) : (a.width = e._rectW, a.height = e._rectH);
            a.x = 0;
            a.y = 0;
            return a
        };
        b._measureBounds = function() {
            return c.Rectangle.identity.initialize(0, 0, 0, 0)
        };
        b._getOffsetPoint = function() {
            var a = this._DO_Props_,
            e = a._anchorOffsetX,
            b = a._anchorOffsetY;
            if (0 != a._anchorX || 0 != a._anchorY) b = this._getSize(c.Rectangle.identity),
            e = a._anchorX * b.width,
            b = a._anchorY * b.height;
            a = c.Point.identity;
            a.x = e;
            a.y = b;
            return a
        };
        b._onAddToStage = function() {
            this._DO_Props_._stage = c.MainContext.instance.stage;
            c.DisplayObjectContainer.__EVENT__ADD_TO_STAGE_LIST.push(this)
        };
        b._onRemoveFromStage = function() {
            c.DisplayObjectContainer.__EVENT__REMOVE_FROM_STAGE_LIST.push(this)
        };
        Object.defineProperty(b, "stage", {
            get: function() {
                return this._DO_Props_._stage
            },
            enumerable: !0,
            configurable: !0
        });
        b.addEventListener = function(a, e, b, t, u) {
            void 0 === t && (t = !1);
            void 0 === u && (u = 0);
            f.prototype.addEventListener.call(this, a, e, b, t, u); ((t = a == c.Event.ENTER_FRAME) || a == c.Event.RENDER) && this._insertEventBin(t ? d._enterFrameCallBackList: d._renderCallBackList, e, b, u, this)
        };
        b.removeEventListener = function(a, e, b, t) {
            void 0 === t && (t = !1);
            f.prototype.removeEventListener.call(this, a, e, b, t); ((t = a == c.Event.ENTER_FRAME) || a == c.Event.RENDER) && this._removeEventBin(t ? d._enterFrameCallBackList: d._renderCallBackList, e, b, this)
        };
        b.dispatchEvent = function(a) {
            if (!a._bubbles) return f.prototype.dispatchEvent.call(this, a);
            for (var e = [], b = this; b;) e.push(b),
            b = b._DO_Props_._parent;
            a._reset();
            this._dispatchPropagationEvent(a, e);
            return ! a._isDefaultPrevented
        };
        b._dispatchPropagationEvent = function(a, e, b) {
            b = e.length;
            for (var c = 1,
            d = b - 1; 0 <= d; d--) {
                var f = e[d];
                a._currentTarget = f;
                a._target = this;
                a._eventPhase = c;
                f._notifyListener(a);
                if (a._isPropagationStopped || a._isPropagationImmediateStopped) return
            }
            f = e[0];
            a._currentTarget = f;
            a._target = this;
            a._eventPhase = 2;
            f._notifyListener(a);
            if (!a._isPropagationStopped && !a._isPropagationImmediateStopped) for (c = 3, d = 1; d < b && (f = e[d], a._currentTarget = f, a._target = this, a._eventPhase = c, f._notifyListener(a), !a._isPropagationStopped && !a._isPropagationImmediateStopped); d++);
        };
        b.willTrigger = function(a) {
            for (var e = this; e;) {
                if (e.hasEventListener(a)) return ! 0;
                e = e._DO_Props_._parent
            }
            return ! 1
        };
        Object.defineProperty(b, "cacheAsBitmap", {
            get: function() {
                return this._DO_Props_._cacheAsBitmap
            },
            set: function(a) { (this._DO_Props_._cacheAsBitmap = a) ? c.callLater(this._makeBitmapCache, this) : this._texture_to_render = null
            },
            enumerable: !0,
            configurable: !0
        });
        b._makeBitmapCache = function() {
            this.renderTexture || (this.renderTexture = new c.RenderTexture);
            var a = this.renderTexture.drawToTexture(this);
            this._texture_to_render = a ? this.renderTexture: null;
            return a
        };
        b._setCacheDirty = function(a) {
            void 0 === a && (a = !0);
            this._DO_Privs_._cacheDirty = a
        };
        d.getTransformBounds = function(a, e) {
            var b = a.x,
            c = a.y,
            d = a.width,
            f = a.height; (b || c) && e.appendTransform(0, 0, 1, 1, 0, 0, 0, -b, -c);
            var g = d * e.a,
            d = d * e.b,
            l = f * e.c,
            f = f * e.d,
            m = e.tx,
            n = e.ty,
            q = m,
            s = m,
            r = n,
            x = n; (b = g + m) < q ? q = b: b > s && (s = b); (b = g + l + m) < q ? q = b: b > s && (s = b); (b = l + m) < q ? q = b: b > s && (s = b); (c = d + n) < r ? r = c: c > x && (x = c); (c = d + f + n) < r ? r = c: c > x && (x = c); (c = f + n) < r ? r = c: c > x && (x = c);
            return a.initialize(q, r, s - q, x - r)
        };
        Object.defineProperty(b, "filters", {
            get: function() {
                return this._DO_Props_._filters
            },
            set: function(a) {
                this._DO_Props_._filters = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "transform", {
            get: function() {
                this._transform || (this._transform = new c.Transform(this));
                return this._transform
            },
            enumerable: !0,
            configurable: !0
        });
        d.color = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
        d.colorMatrixFilter = new c.ColorMatrixFilter;
        d.identityMatrixForGetConcatenated = new c.Matrix;
        d._enterFrameCallBackList = [];
        d._renderCallBackList = [];
        return d
    } (c.EventDispatcher);
    c.DisplayObject = g;
    g.prototype.__class__ = "egret.DisplayObject"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._touchChildren = !0;
            this._children = [];
            this._DO_Props_._isContainer = !0
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "touchChildren", {
            get: function() {
                return this._touchChildren
            },
            set: function(a) {
                this._touchChildren = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "numChildren", {
            get: function() {
                return this._children.length
            },
            enumerable: !0,
            configurable: !0
        });
        b.setChildIndex = function(a, e) {
            this.doSetChildIndex(a, e)
        };
        b.doSetChildIndex = function(a, e) {
            var b = this._children.indexOf(a);
            0 > b && c.$error(1006);
            this._children.splice(b, 1);
            0 > e || this._children.length <= e ? this._children.push(a) : this._children.splice(e, 0, a)
        };
        b.addChild = function(a) {
            var e = this._children.length;
            a.parent == this && e--;
            return this._doAddChild(a, e)
        };
        b.addChildAt = function(a, e) {
            return this._doAddChild(a, e)
        };
        b._doAddChild = function(a, e, b) {
            void 0 === b && (b = !0);
            if (a == this) return a;
            if (0 > e || e > this._children.length) return c.$error(1007),
            a;
            var t = a.parent;
            if (t == this) return this.doSetChildIndex(a, e),
            a;
            if (t) {
                var f = t._children.indexOf(a);
                0 <= f && t._doRemoveChild(f)
            }
            this._children.splice(e, 0, a);
            a._parentChanged(this);
            b && a.dispatchEventWith(c.Event.ADDED, !0);
            if (this._DO_Props_._stage) for (a._onAddToStage(), e = d.__EVENT__ADD_TO_STAGE_LIST; 0 < e.length;) t = e.shift(),
            b && t.dispatchEventWith(c.Event.ADDED_TO_STAGE);
            a._setDirty();
            this._setSizeDirty();
            return a
        };
        b.removeChild = function(a) {
            a = this._children.indexOf(a);
            if (0 <= a) return this._doRemoveChild(a);
            c.$error(1008);
            return null
        };
        b.removeChildAt = function(a) {
            if (0 <= a && a < this._children.length) return this._doRemoveChild(a);
            c.$error(1007);
            return null
        };
        b._doRemoveChild = function(a, e) {
            void 0 === e && (e = !0);
            var b = this._children,
            t = b[a];
            e && t.dispatchEventWith(c.Event.REMOVED, !0);
            if (this._DO_Props_._stage) {
                t._onRemoveFromStage();
                for (var f = d.__EVENT__REMOVE_FROM_STAGE_LIST; 0 < f.length;) {
                    var g = f.shift();
                    e && g.dispatchEventWith(c.Event.REMOVED_FROM_STAGE);
                    g._DO_Props_._stage = null
                }
            }
            t._parentChanged(null);
            b.splice(a, 1);
            this._setSizeDirty();
            return t
        };
        b.getChildAt = function(a) {
            if (0 <= a && a < this._children.length) return this._children[a];
            c.$error(1007);
            return null
        };
        b.contains = function(a) {
            for (; a;) {
                if (a == this) return ! 0;
                a = a.parent
            }
            return ! 1
        };
        b.swapChildrenAt = function(a, e) {
            0 <= a && a < this._children.length && 0 <= e && e < this._children.length ? this._swapChildrenAt(a, e) : c.$error(1007)
        };
        b.swapChildren = function(a, e) {
            var b = this._children.indexOf(a),
            d = this._children.indexOf(e); - 1 == b || -1 == d ? c.$error(1008) : this._swapChildrenAt(b, d)
        };
        b._swapChildrenAt = function(a, e) {
            if (a != e) {
                var b = this._children,
                c = b[a];
                b[a] = b[e];
                b[e] = c
            }
        };
        b.getChildIndex = function(a) {
            return this._children.indexOf(a)
        };
        b.removeChildren = function() {
            for (var a = this._children.length - 1; 0 <= a; a--) this._doRemoveChild(a)
        };
        b._updateTransform = function() {
            if (this._DO_Props_._visible) {
                this._hasFilters() && c.RenderCommand.push(this._setGlobalFilters, this);
                var a = this.mask || this._DO_Props_._scrollRect;
                a && c.RenderCommand.push(this._pushMask, this);
                f.prototype._updateTransform.call(this);
                if (!this._DO_Props_._cacheAsBitmap || !this._texture_to_render) for (var e = 0,
                b = this._children,
                d = b.length; e < d; e++) b[e]._updateTransform();
                a && c.RenderCommand.push(this._popMask, this);
                this._hasFilters() && c.RenderCommand.push(this._removeGlobalFilters, this)
            }
        };
        b._render = function(a) {
            if (!c.MainContext.__use_new_draw) for (var e = 0,
            b = this._children,
            d = b.length; e < d; e++) b[e]._draw(a)
        };
        b._measureBounds = function() {
            for (var a = 0,
            e = 0,
            b = 0,
            d = 0,
            f = this._children,
            g = f.length,
            k = 0; k < g; k++) {
                var l = f[k];
                if (l.visible) {
                    var m = l.getBounds(c.Rectangle.identity, !1),
                    n = m.x,
                    q = m.y,
                    s = m.width,
                    m = m.height,
                    l = l._getMatrix(),
                    l = c.DisplayObject.getTransformBounds(c.Rectangle.identity.initialize(n, q, s, m), l),
                    n = l.x,
                    q = l.y,
                    s = l.width + l.x,
                    l = l.height + l.y;
                    if (n < a || 0 == k) a = n;
                    if (s > e || 0 == k) e = s;
                    if (q < b || 0 == k) b = q;
                    if (l > d || 0 == k) d = l
                }
            }
            return c.Rectangle.identity.initialize(a, b, e - a, d - b)
        };
        b.hitTest = function(a, e, b) {
            void 0 === b && (b = !1);
            var d;
            if (!this._DO_Props_._visible) return null;
            if (this._DO_Props_._scrollRect) {
                if (a < this._DO_Props_._scrollRect.x || e < this._DO_Props_._scrollRect.y || a > this._DO_Props_._scrollRect.x + this._DO_Props_._scrollRect.width || e > this._DO_Props_._scrollRect.y + this._DO_Props_._scrollRect.height) return null
            } else if (this.mask && (this.mask.x > a || a > this.mask.x + this.mask.width || this.mask.y > e || e > this.mask.y + this.mask.height)) return null;
            for (var u = this._children,
            g = this._touchChildren,
            k = u.length - 1; 0 <= k; k--) {
                var l = u[k],
                m = l._getMatrix(),
                n = l.scrollRect;
                n && m.append(1, 0, 0, 1, -n.x, -n.y);
                m.invert();
                m = c.Matrix.transformCoords(m, a, e);
                if (l = l.hitTest(m.x, m.y, !0)) {
                    if (!g) return this;
                    if (l._DO_Props_._touchEnabled && g) return l;
                    d = this
                }
            }
            return d ? d: this._texture_to_render ? f.prototype.hitTest.call(this, a, e, b) : null
        };
        b._onAddToStage = function() {
            f.prototype._onAddToStage.call(this);
            for (var a = this._children.length,
            e = 0; e < a; e++) this._children[e]._onAddToStage()
        };
        b._onRemoveFromStage = function() {
            f.prototype._onRemoveFromStage.call(this);
            for (var a = this._children,
            e = a.length,
            b = 0; b < e; b++) a[b]._onRemoveFromStage()
        };
        b.getChildByName = function(a) {
            for (var e = this._children,
            b = e.length,
            c, d = 0; d < b; d++) if (c = e[d], c.name == a) return c;
            return null
        };
        d.__EVENT__ADD_TO_STAGE_LIST = [];
        d.__EVENT__REMOVE_FROM_STAGE_LIST = [];
        return d
    } (c.DisplayObject);
    c.DisplayObjectContainer = g;
    g.prototype.__class__ = "egret.DisplayObjectContainer"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.NO_BORDER = "noBorder";
        c.NO_SCALE = "noScale";
        c.SHOW_ALL = "showAll";
        c.EXACT_FIT = "exactFit";
        return c
    } ();
    c.StageScaleMode = g;
    g.prototype.__class__ = "egret.StageScaleMode"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, e) {
            void 0 === a && (a = 480);
            void 0 === e && (e = 800);
            f.call(this);
            this._changeSizeDispatchFlag = !0;
            this._scaleMode = "";
            this._stageHeight = this._stageWidth = NaN;
            this._frameRate = 60;
            this.touchEnabled = !0;
            this._DO_Props_._stage = this;
            this._stageWidth = a;
            this._stageHeight = e
        }
        __extends(d, f);
        var b = d.prototype;
        b.invalidate = function() {
            d._invalidateRenderFlag = !0
        };
        Object.defineProperty(b, "scaleMode", {
            get: function() {
                return this._scaleMode
            },
            set: function(a) {
                this._scaleMode != a && (this._scaleMode = a, this.setResolutionPolicy())
            },
            enumerable: !0,
            configurable: !0
        });
        b.changeSize = function() {
            this._changeSizeDispatchFlag && (this.setResolutionPolicy(), this.dispatchEventWith(c.Event.RESIZE))
        };
        b.setResolutionPolicy = function() {
            var a = d.SCALE_MODE_ENUM[this._scaleMode];
            a || c.$error(1024);
            var e = new c.EqualToFrame,
            a = new c.ResolutionPolicy(e, a);
            c.StageDelegate.getInstance()._setResolutionPolicy(a);
            this._stageWidth = c.StageDelegate.getInstance()._stageWidth;
            this._stageHeight = c.StageDelegate.getInstance()._stageHeight
        };
        Object.defineProperty(b, "stageWidth", {
            get: function() {
                return this._stageWidth
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "stageHeight", {
            get: function() {
                return this._stageHeight
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "frameRate", {
            get: function() {
                return this._frameRate
            },
            set: function(a) {
                this._frameRate = a;
                c.MainContext.instance.deviceContext.setFrameRate(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b.hitTest = function(a, e, b) {
            if (!this._DO_Props_._touchEnabled) return null;
            var d;
            if (!this._touchChildren) return this;
            b = this._children;
            for (var f = b.length - 1; 0 <= f; f--) {
                d = b[f];
                var g = d._getMatrix(),
                k = d.scrollRect;
                k && g.append(1, 0, 0, 1, -k.x, -k.y);
                g.invert();
                g = c.Matrix.transformCoords(g, a, e);
                if ((d = d.hitTest(g.x, g.y, !0)) && d.touchEnabled) return d
            }
            return this
        };
        b.getBounds = function(a) {
            a || (a = new c.Rectangle);
            return a.initialize(0, 0, this._stageWidth, this._stageHeight)
        };
        b._updateTransform = function() {
            for (var a = 0,
            e = this._children.length; a < e; a++) this._children[a]._updateTransform()
        };
        Object.defineProperty(b, "focus", {
            get: function() {
                return null
            },
            enumerable: !0,
            configurable: !0
        });
        d.registerScaleMode = function(a, e, b) {
            d.SCALE_MODE_ENUM[a] && !b ? c.$warn(1009, a) : d.SCALE_MODE_ENUM[a] = e
        };
        d._invalidateRenderFlag = !1;
        d.SCALE_MODE_ENUM = {};
        return d
    } (c.DisplayObjectContainer);
    c.Stage = g;
    g.prototype.__class__ = "egret.Stage"
})(egret || (egret = {}));
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_SCALE] = new egret.NoScale;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.SHOW_ALL] = new egret.ShowAll;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.NO_BORDER] = new egret.FixedWidth;
egret.Stage.SCALE_MODE_ENUM[egret.StageScaleMode.EXACT_FIT] = new egret.FullScreen; (function(c) {
    var g = function() {
        return function() {
            this._horizontalScrollPolicy = this._verticalScrollPolicy = "auto";
            this._scrollTop = this._scrollLeft = 0;
            this._vCanScroll = this._hCanScroll = !1;
            this._lastTouchPosition = new c.Point(0, 0);
            this._touchStartPosition = new c.Point(0, 0);
            this._scrollStarted = !1;
            this._lastTouchTime = 0;
            this._lastTouchEvent = null;
            this._velocitys = [];
            this._isVTweenPlaying = this._isHTweenPlaying = !1;
            this._vScrollTween = this._hScrollTween = null
        }
    } ();
    c.ScrollViewProperties = g;
    g.prototype.__class__ = "egret.ScrollViewProperties"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a) {
            void 0 === a && (a = null);
            f.call(this);
            this.scrollBeginThreshold = 10;
            this.scrollSpeed = 1;
            this.touchBeginTimer = this.delayTouchBeginEvent = this._content = null;
            this.touchEnabled = !0;
            this._ScrV_Props_ = new c.ScrollViewProperties;
            a && this.setContent(a)
        }
        __extends(d, f);
        var b = d.prototype;
        b.setContent = function(a) {
            this._content !== a && (this.removeContent(), a && (this._content = a, f.prototype.addChild.call(this, a), this._addEvents()))
        };
        b.removeContent = function() {
            this._content && (this._removeEvents(), f.prototype.removeChildAt.call(this, 0));
            this._content = null
        };
        Object.defineProperty(b, "verticalScrollPolicy", {
            get: function() {
                return this._ScrV_Props_._verticalScrollPolicy
            },
            set: function(a) {
                a != this._ScrV_Props_._verticalScrollPolicy && (this._ScrV_Props_._verticalScrollPolicy = a)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "horizontalScrollPolicy", {
            get: function() {
                return this._ScrV_Props_._horizontalScrollPolicy
            },
            set: function(a) {
                a != this._ScrV_Props_._horizontalScrollPolicy && (this._ScrV_Props_._horizontalScrollPolicy = a)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "scrollLeft", {
            get: function() {
                return this._ScrV_Props_._scrollLeft
            },
            set: function(a) {
                a != this._ScrV_Props_._scrollLeft && (this._ScrV_Props_._scrollLeft = a, this._validatePosition(!1, !0), this._updateContentPosition())
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "scrollTop", {
            get: function() {
                return this._ScrV_Props_._scrollTop
            },
            set: function(a) {
                a != this._ScrV_Props_._scrollTop && (this._ScrV_Props_._scrollTop = a, this._validatePosition(!0, !1), this._updateContentPosition())
            },
            enumerable: !0,
            configurable: !0
        });
        b.setScrollPosition = function(a, e, b) {
            void 0 === b && (b = !1);
            if (!b || 0 != a || 0 != e) if (b || this._ScrV_Props_._scrollTop != a || this._ScrV_Props_._scrollLeft != e) {
                if (b) {
                    b = this._isOnTheEdge(!0);
                    var c = this._isOnTheEdge(!1);
                    this._ScrV_Props_._scrollTop += b ? a / 2 : a;
                    this._ScrV_Props_._scrollLeft += c ? e / 2 : e
                } else this._ScrV_Props_._scrollTop = a,
                this._ScrV_Props_._scrollLeft = e;
                this._validatePosition(!0, !0);
                this._updateContentPosition()
            }
        };
        b._isOnTheEdge = function(a) {
            void 0 === a && (a = !0);
            var e = this._ScrV_Props_._scrollTop,
            b = this._ScrV_Props_._scrollLeft;
            return a ? 0 > e || e > this.getMaxScrollTop() : 0 > b || b > this.getMaxScrollLeft()
        };
        b._validatePosition = function(a, e) {
            void 0 === a && (a = !1);
            void 0 === e && (e = !1);
            if (a) {
                var b = this.height,
                c = this._getContentHeight();
                this._ScrV_Props_._scrollTop = Math.max(this._ScrV_Props_._scrollTop, (0 - b) / 2);
                this._ScrV_Props_._scrollTop = Math.min(this._ScrV_Props_._scrollTop, c > b ? c - b / 2 : b / 2)
            }
            e && (b = this.width, c = this._getContentWidth(), this._ScrV_Props_._scrollLeft = Math.max(this._ScrV_Props_._scrollLeft, (0 - b) / 2), this._ScrV_Props_._scrollLeft = Math.min(this._ScrV_Props_._scrollLeft, c > b ? c - b / 2 : b / 2))
        };
        b._setWidth = function(a) {
            this._DO_Props_._explicitWidth != a && (f.prototype._setWidth.call(this, a), this._updateContentPosition())
        };
        b._setHeight = function(a) {
            this._DO_Props_._explicitHeight != a && (f.prototype._setHeight.call(this, a), this._updateContentPosition())
        };
        b._updateContentPosition = function() {
            var a = this.getBounds(c.Rectangle.identity),
            e = a.height,
            a = a.width;
            this.scrollRect = new c.Rectangle(Math.round(this._ScrV_Props_._scrollLeft), Math.round(this._ScrV_Props_._scrollTop), a, e);
            this.dispatchEvent(new c.Event(c.Event.CHANGE))
        };
        b._checkScrollPolicy = function() {
            var a = this.__checkScrollPolicy(this._ScrV_Props_._horizontalScrollPolicy, this._getContentWidth(), this.width);
            this._ScrV_Props_._hCanScroll = a;
            var e = this.__checkScrollPolicy(this._ScrV_Props_._verticalScrollPolicy, this._getContentHeight(), this.height);
            this._ScrV_Props_._vCanScroll = e;
            return a || e
        };
        b.__checkScrollPolicy = function(a, e, b) {
            return "on" == a ? !0 : "off" == a ? !1 : e > b
        };
        b._addEvents = function() {
            this.addEventListener(c.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this);
            this.addEventListener(c.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0);
            this.addEventListener(c.TouchEvent.TOUCH_END, this._onTouchEndCapture, this, !0)
        };
        b._removeEvents = function() {
            this.removeEventListener(c.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this);
            this.removeEventListener(c.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0);
            this.removeEventListener(c.TouchEvent.TOUCH_END, this._onTouchEndCapture, this, !0)
        };
        b._onTouchBegin = function(a) { ! a._isDefaultPrevented && this._checkScrollPolicy() && (this._ScrV_Props_._touchStartPosition.x = a.stageX, this._ScrV_Props_._touchStartPosition.y = a.stageY, (this._ScrV_Props_._isHTweenPlaying || this._ScrV_Props_._isVTweenPlaying) && this._onScrollFinished(), this.stage.addEventListener(c.TouchEvent.TOUCH_MOVE, this._onTouchMove, this), this.stage.addEventListener(c.TouchEvent.TOUCH_END, this._onTouchEnd, this), this.stage.addEventListener(c.TouchEvent.LEAVE_STAGE, this._onTouchEnd, this), this.addEventListener(c.Event.ENTER_FRAME, this._onEnterFrame, this), this._logTouchEvent(a), a.preventDefault())
        };
        b._onTouchBeginCapture = function(a) {
            var e = this._checkScrollPolicy();
            if (e) {
                for (var b = a.target; b != this;) {
                    if ("_checkScrollPolicy" in b && (e = b._checkScrollPolicy())) return;
                    b = b.parent
                }
                a.stopPropagation();
                this.delayTouchBeginEvent = this.cloneTouchEvent(a);
                this.touchBeginTimer || (this.touchBeginTimer = new c.Timer(100, 1), this.touchBeginTimer.addEventListener(c.TimerEvent.TIMER_COMPLETE, this._onTouchBeginTimer, this));
                this.touchBeginTimer.start();
                this._onTouchBegin(a)
            }
        };
        b._onTouchEndCapture = function(a) {
            this.delayTouchBeginEvent && this._onTouchBeginTimer()
        };
        b._onTouchBeginTimer = function() {
            this.touchBeginTimer.stop();
            var a = this.delayTouchBeginEvent;
            this.delayTouchBeginEvent = null;
            this.stage && this.dispatchPropagationEvent(a)
        };
        b.dispatchPropagationEvent = function(a) {
            for (var e = [], b = a._target, c = 0; b;) b == this && (c = e.length),
            e.push(b),
            b = b.parent;
            b = e.slice(0, c);
            b = b.reverse();
            e = b.concat(e);
            this._dispatchPropagationEvent(a, e, c)
        };
        b._dispatchPropagationEvent = function(a, e, b) {
            for (var c = e.length,
            d = 0; d < c; d++) {
                var f = e[d];
                a._currentTarget = f;
                a._eventPhase = d < b ? 1 : d == b ? 2 : 3;
                f._notifyListener(a);
                if (a._isPropagationStopped || a._isPropagationImmediateStopped) break
            }
        };
        b._onTouchMove = function(a) {
            if (this._ScrV_Props_._lastTouchPosition.x != a.stageX || this._ScrV_Props_._lastTouchPosition.y != a.stageY) {
                if (!this._ScrV_Props_._scrollStarted) {
                    var e = a.stageX - this._ScrV_Props_._touchStartPosition.x,
                    b = a.stageY - this._ScrV_Props_._touchStartPosition.y;
                    if (Math.sqrt(e * e + b * b) < this.scrollBeginThreshold) {
                        this._logTouchEvent(a);
                        return
                    }
                }
                this._ScrV_Props_._scrollStarted = !0;
                this.delayTouchBeginEvent && (this.delayTouchBeginEvent = null, this.touchBeginTimer.stop());
                this.touchChildren = !1;
                e = this._getPointChange(a);
                this.setScrollPosition(e.y, e.x, !0);
                this._calcVelocitys(a);
                this._logTouchEvent(a)
            }
        };
        b._onTouchEnd = function(a) {
            this.touchChildren = !0;
            this._ScrV_Props_._scrollStarted = !1;
            c.MainContext.instance.stage.removeEventListener(c.TouchEvent.TOUCH_MOVE, this._onTouchMove, this);
            c.MainContext.instance.stage.removeEventListener(c.TouchEvent.TOUCH_END, this._onTouchEnd, this);
            c.MainContext.instance.stage.removeEventListener(c.TouchEvent.LEAVE_STAGE, this._onTouchEnd, this);
            this.removeEventListener(c.Event.ENTER_FRAME, this._onEnterFrame, this);
            this._moveAfterTouchEnd()
        };
        b._onEnterFrame = function(a) {
            a = c.getTimer();
            100 < a - this._ScrV_Props_._lastTouchTime && 300 > a - this._ScrV_Props_._lastTouchTime && this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)
        };
        b._logTouchEvent = function(a) {
            this._ScrV_Props_._lastTouchPosition.x = a.stageX;
            this._ScrV_Props_._lastTouchPosition.y = a.stageY;
            this._ScrV_Props_._lastTouchEvent = this.cloneTouchEvent(a);
            this._ScrV_Props_._lastTouchTime = c.getTimer()
        };
        b._getPointChange = function(a) {
            return {
                x: !1 === this._ScrV_Props_._hCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.x - a.stageX,
                y: !1 === this._ScrV_Props_._vCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.y - a.stageY
            }
        };
        b._calcVelocitys = function(a) {
            var e = c.getTimer();
            if (0 == this._ScrV_Props_._lastTouchTime) this._ScrV_Props_._lastTouchTime = e;
            else {
                var b = this._getPointChange(a),
                e = e - this._ScrV_Props_._lastTouchTime;
                b.x /= e;
                b.y /= e;
                this._ScrV_Props_._velocitys.push(b);
                5 < this._ScrV_Props_._velocitys.length && this._ScrV_Props_._velocitys.shift();
                this._ScrV_Props_._lastTouchPosition.x = a.stageX;
                this._ScrV_Props_._lastTouchPosition.y = a.stageY
            }
        };
        b._getContentWidth = function() {
            return this._content.explicitWidth || this._content.width
        };
        b._getContentHeight = function() {
            return this._content.explicitHeight || this._content.height
        };
        b.getMaxScrollLeft = function() {
            var a = this._getContentWidth() - this.width;
            return Math.max(0, a)
        };
        b.getMaxScrollTop = function() {
            var a = this._getContentHeight() - this.height;
            return Math.max(0, a)
        };
        b._moveAfterTouchEnd = function() {
            if (0 != this._ScrV_Props_._velocitys.length) {
                for (var a = 0,
                e = 0,
                b = 0,
                c = 0; c < this._ScrV_Props_._velocitys.length; c++) var f = this._ScrV_Props_._velocitys[c],
                g = d.weight[c],
                a = a + f.x * g,
                e = e + f.y * g,
                b = b + g;
                this._ScrV_Props_._velocitys.length = 0;
                0 >= this.scrollSpeed && (this.scrollSpeed = 1);
                a = a / b * this.scrollSpeed;
                e = e / b * this.scrollSpeed;
                f = Math.abs(a);
                b = Math.abs(e);
                g = this.getMaxScrollLeft();
                c = this.getMaxScrollTop();
                a = 0.02 < f ? this.getAnimationDatas(a, this._ScrV_Props_._scrollLeft, g) : {
                    position: this._ScrV_Props_._scrollLeft,
                    duration: 1
                };
                e = 0.02 < b ? this.getAnimationDatas(e, this._ScrV_Props_._scrollTop, c) : {
                    position: this._ScrV_Props_._scrollTop,
                    duration: 1
                };
                this.setScrollLeft(a.position, a.duration);
                this.setScrollTop(e.position, e.duration)
            }
        };
        b._onTweenFinished = function(a) {
            a == this._ScrV_Props_._vScrollTween && (this._ScrV_Props_._isVTweenPlaying = !1);
            a == this._ScrV_Props_._hScrollTween && (this._ScrV_Props_._isHTweenPlaying = !1); ! 1 == this._ScrV_Props_._isHTweenPlaying && !1 == this._ScrV_Props_._isVTweenPlaying && this._onScrollFinished()
        };
        b._onScrollStarted = function() {};
        b._onScrollFinished = function() {
            c.Tween.removeTweens(this);
            this._ScrV_Props_._hScrollTween = null;
            this._ScrV_Props_._vScrollTween = null;
            this._ScrV_Props_._isHTweenPlaying = !1;
            this._ScrV_Props_._isVTweenPlaying = !1;
            this.dispatchEvent(new c.Event(c.Event.COMPLETE))
        };
        b.setScrollTop = function(a, e) {
            void 0 === e && (e = 0);
            var b = Math.min(this.getMaxScrollTop(), Math.max(a, 0));
            if (0 == e) return this.scrollTop = b,
            null;
            var d = c.Tween.get(this).to({
                scrollTop: a
            },
            e, c.Ease.quartOut);
            b != a && d.to({
                scrollTop: b
            },
            300, c.Ease.quintOut);
            this._ScrV_Props_._isVTweenPlaying = !0;
            this._ScrV_Props_._vScrollTween = d;
            d.call(this._onTweenFinished, this, [d]);
            this._ScrV_Props_._isHTweenPlaying || this._onScrollStarted();
            return d
        };
        b.setScrollLeft = function(a, e) {
            void 0 === e && (e = 0);
            var b = Math.min(this.getMaxScrollLeft(), Math.max(a, 0));
            if (0 == e) return this.scrollLeft = b,
            null;
            var d = c.Tween.get(this).to({
                scrollLeft: a
            },
            e, c.Ease.quartOut);
            b != a && d.to({
                scrollLeft: b
            },
            300, c.Ease.quintOut);
            this._ScrV_Props_._isHTweenPlaying = !0;
            this._ScrV_Props_._hScrollTween = d;
            d.call(this._onTweenFinished, this, [d]);
            this._ScrV_Props_._isVTweenPlaying || this._onScrollStarted();
            return d
        };
        b.getAnimationDatas = function(a, e, b) {
            var c = Math.abs(a),
            d = 0,
            f = e + 500 * a;
            if (0 > f || f > b) for (f = e; Infinity != Math.abs(a) && 0.02 < Math.abs(a);) f += a,
            a = 0 > f || f > b ? 0.998 * a * 0.95 : 0.998 * a,
            d++;
            else d = 500 * -Math.log(0.02 / c);
            return {
                position: Math.min(b + 50, Math.max(f, -50)),
                duration: d
            }
        };
        b.cloneTouchEvent = function(a) {
            var e = new c.TouchEvent(a._type, a._bubbles, a.cancelable);
            e.touchPointID = a.touchPointID;
            e._stageX = a._stageX;
            e._stageY = a._stageY;
            e.ctrlKey = a.ctrlKey;
            e.altKey = a.altKey;
            e.shiftKey = a.shiftKey;
            e.touchDown = a.touchDown;
            e._isDefaultPrevented = !1;
            e._target = a._target;
            return e
        };
        b.throwNotSupportedError = function() {
            c.$error(1023)
        };
        b.addChild = function(a) {
            this.throwNotSupportedError();
            return null
        };
        b.addChildAt = function(a, e) {
            this.throwNotSupportedError();
            return null
        };
        b.removeChild = function(a) {
            this.throwNotSupportedError();
            return null
        };
        b.removeChildAt = function(a) {
            this.throwNotSupportedError();
            return null
        };
        b.setChildIndex = function(a, e) {
            this.throwNotSupportedError()
        };
        b.swapChildren = function(a, e) {
            this.throwNotSupportedError()
        };
        b.swapChildrenAt = function(a, e) {
            this.throwNotSupportedError()
        };
        b.hitTest = function(a, e, b) {
            void 0 === b && (b = !1);
            var d = f.prototype.hitTest.call(this, a, e, b);
            return d ? d: c.DisplayObject.prototype.hitTest.call(this, a, e, b)
        };
        d.weight = [1, 1.33, 1.66, 2, 2.33];
        return d
    } (c.DisplayObjectContainer);
    c.ScrollView = g;
    g.prototype.__class__ = "egret.ScrollView"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.REPEAT = "repeat";
        c.SCALE = "scale";
        return c
    } ();
    c.BitmapFillMode = g;
    g.prototype.__class__ = "egret.BitmapFillMode"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a) {
            f.call(this);
            this.scale9Grid = this._texture = null;
            this.fillMode = "scale";
            a && (this._texture = a, this._setSizeDirty());
            this.needDraw = !0
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "texture", {
            get: function() {
                return this._texture
            },
            set: function(a) {
                a != this._texture && (this._setSizeDirty(), this._texture = a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._render = function(a) {
            var e = this._texture;
            e ? (this._texture_to_render = e, d._drawBitmap(a, this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth: e._textureWidth, this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight: e._textureHeight, this)) : this._texture_to_render = null
        };
        d._drawBitmap = function(a, e, b, c) {
            var f = c._texture_to_render;
            if (f) {
                var g = f._textureWidth,
                k = f._textureHeight;
                if ("scale" == c.fillMode) {
                    var l = c.scale9Grid || f.scale9Grid;
                    if (l && g - l.width < e && k - l.height < b) d.drawScale9GridImage(a, c, l, e, b);
                    else {
                        var l = f._offsetX,
                        m = f._offsetY,
                        n = f._bitmapWidth || g,
                        q = f._bitmapHeight || k;
                        e /= g;
                        l = Math.round(l * e);
                        e = Math.round(n * e);
                        b /= k;
                        m = Math.round(m * b);
                        b = Math.round(q * b);
                        d.renderFilter.drawImage(a, c, f._bitmapX, f._bitmapY, n, q, l, m, e, b)
                    }
                } else d.drawRepeatImage(a, c, e, b, c.fillMode)
            }
        };
        d.drawRepeatImage = function(a, e, b, d, f) {
            var g = e._texture_to_render;
            if (g) {
                var k = g._textureWidth,
                l = g._textureHeight,
                m = g._bitmapX,
                n = g._bitmapY,
                k = g._bitmapWidth || k,
                l = g._bitmapHeight || l,
                q = g._offsetX,
                g = g._offsetY;
                c.RenderFilter.getInstance().drawImage(a, e, m, n, k, l, q, g, b, d, f)
            }
        };
        d.drawScale9GridImage = function(a, e, b, d, f) {
            var g = c.MainContext.instance.rendererContext._texture_scale_factor,
            k = e._texture_to_render;
            if (k && b) {
                var l = k._textureWidth,
                m = k._textureHeight,
                n = k._bitmapX,
                q = k._bitmapY,
                s = k._bitmapWidth || l,
                r = k._bitmapHeight || m;
                d -= l - s;
                f -= m - r;
                if (!a.drawImageScale9(k, n, q, s, r, k._offsetX, k._offsetY, d, f, b)) {
                    l = k._offsetX / g;
                    m = k._offsetY / g;
                    k = c.RenderFilter.getInstance();
                    b = c.Rectangle.identity.initialize(b.x - Math.round(l), b.y - Math.round(l), b.width, b.height);
                    l = Math.round(l);
                    m = Math.round(m);
                    b.y == b.bottom && (b.bottom < r ? b.bottom++:b.y--);
                    b.x == b.right && (b.right < s ? b.right++:b.x--);
                    var x = n + b.x / g,
                    z = n + b.right / g,
                    w = s - b.right,
                    y = q + b.y / g,
                    g = q + b.bottom / g,
                    v = r - b.bottom,
                    C = l + b.x,
                    A = m + b.y,
                    r = f - (r - b.bottom),
                    s = d - (s - b.right);
                    k.drawImage(a, e, n, q, b.x, b.y, l, m, b.x, b.y);
                    k.drawImage(a, e, x, q, b.width, b.y, C, m, s - b.x, b.y);
                    k.drawImage(a, e, z, q, w, b.y, l + s, m, d - s, b.y);
                    k.drawImage(a, e, n, y, b.x, b.height, l, A, b.x, r - b.y);
                    k.drawImage(a, e, x, y, b.width, b.height, C, A, s - b.x, r - b.y);
                    k.drawImage(a, e, z, y, w, b.height, l + s, A, d - s, r - b.y);
                    k.drawImage(a, e, n, g, b.x, v, l, m + r, b.x, f - r);
                    k.drawImage(a, e, x, g, b.width, v, C, m + r, s - b.x, f - r);
                    k.drawImage(a, e, z, g, w, v, l + s, m + r, d - s, f - r)
                }
            }
        };
        b._measureBounds = function() {
            var a = this._texture;
            return a ? c.Rectangle.identity.initialize(0, 0, a._textureWidth, a._textureHeight) : f.prototype._measureBounds.call(this)
        };
        d.renderFilter = c.RenderFilter.getInstance();
        return d
    } (c.DisplayObject);
    c.Bitmap = g;
    g.prototype.__class__ = "egret.Bitmap"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._text = "";
            this._textChanged = !1;
            this._font = null;
            this._fontChanged = !1;
            this._textOffsetY = this._textOffsetX = this._textHeight = this._textWidth = this._lineSpacing = this._letterSpacing = 0;
            this.textLinesChange = !0;
            this._lineHeights = [];
            this.needDraw = this.cacheAsBitmap = !0
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "text", {
            get: function() {
                return this._text
            },
            set: function(a) {
                this.$setText(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b.$setText = function(a) {
            this._text != a && (this._textChanged = !0, this._text = a, this._setSizeDirty())
        };
        Object.defineProperty(b, "font", {
            get: function() {
                return this._font
            },
            set: function(a) {
                this.$setFont(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b.$setFont = function(a) {
            this._font != a && (this._font = a, this._fontChanged = !0, this._setSizeDirty())
        };
        Object.defineProperty(b, "letterSpacing", {
            get: function() {
                return this._letterSpacing
            },
            set: function(a) {
                this._setLetterSpacing(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setLetterSpacing = function(a) {
            this._letterSpacing = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "lineSpacing", {
            get: function() {
                return this._lineSpacing
            },
            set: function(a) {
                this._setLineSpacing(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setLineSpacing = function(a) {
            this._lineSpacing = a
        };
        b._setSizeDirty = function() {
            f.prototype._setSizeDirty.call(this);
            this.textLinesChange = !0
        };
        b._render = function(a) {
            var e = this._getTextLines(),
            b = e.length;
            if (0 != b) {
                for (var t = this._font,
                f = t._getFirstCharHeight(), f = Math.ceil(f * d.EMPTY_FACTOR), g = 0, k = this._DO_Props_._hasHeightSet ? this._DO_Props_._explicitHeight: Number.POSITIVE_INFINITY, l = this._lineHeights, m = 0; m < b; m++) {
                    var n = l[m];
                    if (0 < m && g + n > k) break;
                    for (var q = e[m], s = q.length, r = 0, x = 0; x < s; x++) {
                        var z = q.charAt(x),
                        w = t.getTexture(z);
                        if (w) {
                            var z = w._bitmapWidth || w._textureWidth,
                            y = w._bitmapHeight || w._textureHeight;
                            this._texture_to_render = w;
                            c.RenderFilter.getInstance().drawImage(a, this, w._bitmapX, w._bitmapY, z, y, r + w._offsetX, g + w._offsetY, z, y);
                            r += w._textureWidth + this._letterSpacing
                        } else " " == z ? r += f: c.$warn(1011, z)
                    }
                    g += n + this._lineSpacing
                }
                this._texture_to_render = null
            }
        };
        b._measureBounds = function() {
            var a = this._getTextLines();
            return 0 == a.length ? c.Rectangle.identity.initialize(0, 0, 0, 0) : c.Rectangle.identity.initialize(this._textOffsetX, this._textOffsetY, this._textWidth - this._textOffsetX, this._textHeight - this._textOffsetY + (a.length - 1) * this._lineSpacing)
        };
        b._getTextLines = function() {
            if (!this.textLinesChange) return this._textLines;
            var a = [];
            this._textLines = a;
            this.textLinesChange = !1;
            var e = [];
            this._lineHeights = e;
            if (!this._text || !this._font) return a;
            for (var b = 0,
            t = 0,
            f = 0,
            g = 0,
            k = this._DO_Props_._hasWidthSet,
            l = this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth: Number.POSITIVE_INFINITY, m = this._font, n = m._getFirstCharHeight(), q = Math.ceil(n * d.EMPTY_FACTOR), s = this._text.split(/(?:\r\n|\r|\n)/), r = s.length, x = !0, z = 0; z < r; z++) {
                for (var w = s[z], y = w.length, v = 0, C = 0, A = !0, B = 0; B < y; B++) {
                    A || (C += this._letterSpacing);
                    var D = w.charAt(B),
                    E,
                    G = 0,
                    H = 0,
                    F = m.getTexture(D);
                    if (F) D = F._textureWidth,
                    E = F._textureHeight,
                    G = F._offsetX,
                    H = F._offsetY;
                    else if (" " == D) D = q,
                    E = n;
                    else {
                        c.$warn(1011, D);
                        A && (A = !1);
                        continue
                    }
                    A && (A = !1, f = Math.min(G, f));
                    x && (g = Math.min(H, g));
                    k && 0 < B && C + D > l ? (a.push(w.substring(0, B)), e.push(v), t += v, b = Math.max(C, b), w = w.substring(B), y = w.length, B = 0, C = D, v = E) : (C += D, v = Math.max(E, v))
                }
                x && (x = !1);
                a.push(w);
                e.push(v);
                t += v;
                b = Math.max(C, b)
            }
            this._textWidth = b;
            this._textHeight = t;
            this._textOffsetX = f;
            this._textOffsetY = g;
            return a
        };
        d.EMPTY_FACTOR = 0.33;
        return d
    } (c.DisplayObject);
    c.BitmapText = g;
    g.prototype.__class__ = "egret.BitmapText"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.LINEAR = "linear";
        c.RADIAL = "radial";
        return c
    } ();
    c.GradientType = g;
    g.prototype.__class__ = "egret.GradientType"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function d() {
            this.fillStyle = this.strokeStyle = this.commandQueue = this._renderContext = null;
            this._dirty = !1;
            this.lineY = this.lineX = 0;
            this._firstCheck = !0;
            this._lastY = this._lastX = this._maxY = this._maxX = this._minY = this._minX = 0;
            this.commandQueue = []
        }
        var b = d.prototype;
        b.beginFill = function(a, e) {
            void 0 === e && (e = 1);
            this.fillStyle = this._parseColor(a, e);
            this._pushCommand(new f(this._setStyle, this, [this.fillStyle]))
        };
        b._parseColor = function(a, e) {
            return "rgba(" + (a >> 16) + "," + ((a & 65280) >> 8) + "," + (a & 255) + "," + e + ")"
        };
        b._setStyle = function(a) {
            c.Graphics._currentFillStyle = a;
            this._renderContext.fillStyle = a;
            this._renderContext.beginPath()
        };
        b.beginGradientFill = function(a, e, b, c, d) {
            void 0 === d && (d = null);
            this.fillStyle = a = this.getGradient(a, e, b, c, d);
            this._pushCommand(new f(this._setStyle, this, [a]))
        };
        b.getGradient = function(a, e, b, d, f) {
            var g = c.MainContext.instance.rendererContext,
            k = new c.Matrix;
            f ? (k.a = 819.2 * f.a, k.b = 819.2 * f.b, k.c = 819.2 * f.c, k.d = 819.2 * f.d, k.tx = f.tx, k.ty = f.ty) : (k.a = 100, k.d = 100);
            a = a == c.GradientType.LINEAR ? g.createLinearGradient( - 1, 0, 1, 0) : g.createRadialGradient(0, 0, 0, 0, 0, 1);
            f = e.length;
            for (g = 0; g < f; g++) a.addColorStop(d[g] / 255, this._parseColor(e[g], b[g]));
            a.matrix = k;
            return a
        };
        b.drawRect = function(a, e, b, c) {
            this._pushCommand(new f(function(a, e, b, c) {
                this._renderContext.beginPath();
                this._renderContext.rect(a, e, b, c);
                this._renderContext.closePath()
            },
            this, [a, e, b, c]));
            this._checkRect(a, e, b, c)
        };
        b.drawCircle = function(a, e, b) {
            this._pushCommand(new f(function(a, e, b) {
                this._renderContext.beginPath();
                this._renderContext.arc(a, e, b, 0, 2 * Math.PI);
                this._renderContext.closePath()
            },
            this, [a, e, b]));
            this._checkRect(a - b, e - b, 2 * b, 2 * b)
        };
        b.drawRoundRect = function(a, e, b, c, d, g) {
            this._pushCommand(new f(function(a, e, b, c, d, h) {
                d /= 2;
                h = h ? h / 2 : d;
                b = a + b;
                c = e + c;
                var t = c - h;
                this._renderContext.beginPath();
                this._renderContext.moveTo(b, t);
                this._renderContext.quadraticCurveTo(b, c, b - d, c);
                this._renderContext.lineTo(a + d, c);
                this._renderContext.quadraticCurveTo(a, c, a, c - h);
                this._renderContext.lineTo(a, e + h);
                this._renderContext.quadraticCurveTo(a, e, a + d, e);
                this._renderContext.lineTo(b - d, e);
                this._renderContext.quadraticCurveTo(b, e, b, e + h);
                this._renderContext.lineTo(b, t);
                this._renderContext.closePath()
            },
            this, [a, e, b, c, d, g]));
            this._checkRect(a, e, b, c)
        };
        b.drawEllipse = function(a, e, b, c) {
            this._pushCommand(new f(function(a, e, b, c) {
                a += b / 2;
                e += c / 2;
                var d = b > c ? b: c;
                b /= d;
                c /= d;
                d /= 2;
                this._renderContext.scale(b, c);
                this._renderContext.beginPath();
                this._renderContext.arc(a / b, e / c, d, 0, 2 * Math.PI);
                this._renderContext.closePath();
                this._renderContext.scale(1 / b, 1 / c)
            },
            this, [a, e, b, c]));
            this._checkRect(a, e, b, c)
        };
        b.lineStyle = function(a, e, b, c, d, g, k, l) {
            void 0 === a && (a = NaN);
            void 0 === e && (e = 0);
            void 0 === b && (b = 1);
            void 0 === c && (c = !1);
            void 0 === d && (d = "normal");
            void 0 === g && (g = null);
            void 0 === k && (k = null);
            void 0 === l && (l = 3);
            this.strokeStyle && (this._createEndLineCommand(), this._pushCommand(this._endLineCommand));
            this.strokeStyle = this._parseColor(e, b);
            this._pushCommand(new f(function(a, e) {
                this._renderContext.lineWidth = a;
                this._renderContext.strokeStyle = e;
                this._renderContext.beginPath()
            },
            this, [a, this.strokeStyle]));
            this.moveTo(this.lineX, this.lineY)
        };
        b.lineTo = function(a, e) {
            this._pushCommand(new f(function(a, e) {
                this._renderContext.lineTo(a, e)
            },
            this, [a, e]));
            this._checkPoint(this.lineX, this.lineY);
            this.lineX = a;
            this.lineY = e;
            this._checkPoint(a, e)
        };
        b.curveTo = function(a, e, b, c) {
            this._pushCommand(new f(function(a, e, b, c) {
                this._renderContext.quadraticCurveTo(a, e, b, c)
            },
            this, [a, e, b, c]));
            this._checkPoint(this.lineX, this.lineY);
            this.lineX = b;
            this.lineY = c;
            this._checkPoint(a, e);
            this._checkPoint(b, c)
        };
        b.cubicCurveTo = function(a, e, b, c, d, g) {
            this._pushCommand(new f(function(a, e, b, c, d, h) {
                this._renderContext.bezierCurveTo(a, e, b, c, d, h)
            },
            this, [a, e, b, c, d, g]));
            this._checkPoint(this.lineX, this.lineY);
            this.lineX = d;
            this.lineY = g;
            this._checkPoint(a, e);
            this._checkPoint(b, c);
            this._checkPoint(d, g)
        };
        b.moveTo = function(a, e) {
            this._pushCommand(new f(function(a, e) {
                this._renderContext.moveTo(a, e)
            },
            this, [a, e]));
            this.lineX = a;
            this.lineY = e
        };
        b.clear = function() {
            this.lineY = this.lineX = this.commandQueue.length = 0;
            this.fillStyle = this.strokeStyle = null;
            this._maxY = this._maxX = this._minY = this._minX = 0;
            this._dirty = this._firstCheck = !0
        };
        b.endFill = function() {
            null != this.fillStyle && (this._fill(), this.fillStyle = null)
        };
        b._beginDraw = function(a) {};
        b._endDraw = function(a) {};
        b._draw = function(a) {
            var e = this.commandQueue.length;
            if (0 != e) {
                this._beginDraw(a);
                for (var b = 0; b < e; b++) {
                    var c = this.commandQueue[b];
                    c.method.apply(c.thisObject, c.args)
                }
                this.fillStyle && (this._createEndFillCommand(), c = this._endFillCommand, c.method.apply(c.thisObject, c.args));
                this.strokeStyle && (this._createEndLineCommand(), c = this._endLineCommand, c.method.apply(c.thisObject, c.args));
                this._endDraw(a);
                this._dirty = !1
            }
        };
        b._checkRect = function(a, e, b, c) {
            this._firstCheck ? (this._firstCheck = !1, this._minX = a, this._minY = e, this._maxX = a + b, this._maxY = e + c) : (this._minX = Math.min(this._minX, a), this._minY = Math.min(this._minY, e), this._maxX = Math.max(this._maxX, a + b), this._maxY = Math.max(this._maxY, e + c));
            this._dirty = !0
        };
        b._checkPoint = function(a, e) {
            this._firstCheck ? (this._firstCheck = !1, this._minX = a, this._minY = e, this._maxX = a, this._maxY = e) : (this._minX = Math.min(this._minX, a), this._minY = Math.min(this._minY, e), this._maxX = Math.max(this._maxX, a), this._maxY = Math.max(this._maxY, e));
            this._lastX = a;
            this._lastY = e;
            this._dirty = !0
        };
        b._measureBounds = function() {
            return c.Rectangle.identity.initialize(this._minX, this._minY, this._maxX - this._minX, this._maxY - this._minY)
        };
        b._createEndFillCommand = function() {
            this._endFillCommand || (this._endFillCommand = new f(function() {
                this._renderContext.fill();
                this._renderContext.closePath()
            },
            this, null))
        };
        b._fill = function() {
            this.fillStyle && (this._createEndFillCommand(), this._pushCommand(this._endFillCommand));
            this.strokeStyle && (this._createEndLineCommand(), this._pushCommand(this._endLineCommand))
        };
        b._createEndLineCommand = function() {
            this._endLineCommand || (this._endLineCommand = new f(function() {
                this._renderContext.stroke();
                this._renderContext.closePath()
            },
            this, null))
        };
        b._pushCommand = function(a) {
            this.commandQueue.push(a);
            this._dirty = !0
        };
        return d
    } ();
    c.Graphics = g;
    g.prototype.__class__ = "egret.Graphics";
    var f = function() {
        return function(c, b, a) {
            this.method = c;
            this.thisObject = b;
            this.args = a
        }
    } ();
    f.prototype.__class__ = "egret.Command"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._graphics = null
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "graphics", {
            get: function() {
                this._graphics || (this._graphics = new c.Graphics, this.needDraw = !0);
                return this._graphics
            },
            enumerable: !0,
            configurable: !0
        });
        b._draw = function(a) {
            this._graphics && this._graphics._dirty && this._setCacheDirty();
            f.prototype._draw.call(this, a)
        };
        b._render = function(a) {
            this._graphics && this._graphics._draw(a)
        };
        b._measureBounds = function() {
            var a = this._graphics;
            return a ? a._measureBounds() : f.prototype._measureBounds.call(this)
        };
        return d
    } (c.DisplayObject);
    c.Shape = g;
    g.prototype.__class__ = "egret.Shape"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._graphics = null
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "graphics", {
            get: function() {
                this._graphics || (this._graphics = new c.Graphics, this.needDraw = !0);
                return this._graphics
            },
            enumerable: !0,
            configurable: !0
        });
        b._draw = function(a) {
            this._graphics && this._graphics._dirty && this._setCacheDirty();
            f.prototype._draw.call(this, a)
        };
        b._render = function(a) {
            this._graphics && this._graphics._draw(a);
            f.prototype._render.call(this, a)
        };
        b._measureBounds = function() {
            for (var a = 0,
            e = 0,
            b = 0,
            d = 0,
            f = this._children.length,
            g = 0; g < f; g++) {
                var k = this._children[g];
                if (k.visible) {
                    var l = k.getBounds(c.Rectangle.identity, !1),
                    m = l.x,
                    n = l.y,
                    q = l.width,
                    l = l.height,
                    k = k._getMatrix(),
                    k = c.DisplayObject.getTransformBounds(c.Rectangle.identity.initialize(m, n, q, l), k),
                    m = k.x,
                    n = k.y,
                    q = k.width + k.x,
                    k = k.height + k.y;
                    if (m < a || 0 == g) a = m;
                    if (q > e || 0 == g) e = q;
                    if (n < b || 0 == g) b = n;
                    if (k > d || 0 == g) d = k
                }
            }
            if (this._graphics) {
                f = this._graphics._measureBounds();
                m = f.x;
                n = f.y;
                q = f.width + f.x;
                k = f.height + f.y;
                if (m < a || 0 == g) a = m;
                if (q > e || 0 == g) e = q;
                if (n < b || 0 == g) b = n;
                if (k > d || 0 == g) d = k
            }
            return c.Rectangle.identity.initialize(a, b, e - a, d - b)
        };
        b.hitTest = function(a, e, b) {
            void 0 === b && (b = !1);
            var d = f.prototype.hitTest.call(this, a, e, b);
            return d ? d: this._graphics ? c.DisplayObject.prototype.hitTest.call(this, a, e, b) : null
        };
        return d
    } (c.DisplayObjectContainer);
    c.Sprite = g;
    g.prototype.__class__ = "egret.Sprite"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f() {}
        f._getStartLine = function(c) {
            var b = f._getTextHeight(c),
            a = 0;
            c._DO_Props_._hasHeightSet && (!(b < c._DO_Props_._explicitHeight) && b > c._DO_Props_._explicitHeight && (a = Math.max(c._TF_Props_._scrollV - 1, 0), a = Math.min(c._TF_Props_._numLines - 1, a)), c._TF_Props_._multiline || (a = Math.max(c._TF_Props_._scrollV - 1, 0), a = Math.min(c._TF_Props_._numLines - 1, a)));
            return a
        };
        f._getHalign = function(d) {
            var b = d._getLinesArr(),
            a = 0;
            d._TF_Props_._textAlign == c.HorizontalAlign.CENTER ? a = 0.5 : d._TF_Props_._textAlign == c.HorizontalAlign.RIGHT && (a = 1);
            d._TF_Props_._type == c.TextFieldType.INPUT && !d._TF_Props_._multiline && 1 < b.length && (a = 0);
            return a
        };
        f._getTextHeight = function(d) {
            return c.TextFieldType.INPUT != d._TF_Props_._type || d._TF_Props_._multiline ? d._TF_Props_._textMaxHeight + (d._TF_Props_._numLines - 1) * d._TF_Props_._lineSpacing: d._TF_Props_._size
        };
        f._getValign = function(d) {
            var b = f._getTextHeight(d);
            return d._TF_Props_._type == c.TextFieldType.INPUT ? d._TF_Props_._multiline ? 0 : 0.5 : d._DO_Props_._hasHeightSet && b < d._DO_Props_._explicitHeight ? (b = 0, d._TF_Props_._verticalAlign == c.VerticalAlign.MIDDLE ? b = 0.5 : d._TF_Props_._verticalAlign == c.VerticalAlign.BOTTOM && (b = 1), b) : 0
        };
        f._getTextElement = function(c, b, a) {
            b = f._getHit(c, b, a);
            c = c._getLinesArr();
            return b && c[b.lineIndex] && c[b.lineIndex].elements[b.textElementIndex] ? c[b.lineIndex].elements[b.textElementIndex] : null
        };
        f._getHit = function(c, b, a) {
            var e = c._getLinesArr();
            if (0 == c._TF_Props_._textMaxWidth) return null;
            var h = 0,
            t = f._getTextHeight(c),
            g = 0;
            c._DO_Props_._hasHeightSet && c._DO_Props_._explicitHeight > t && (g = f._getValign(c) * (c._DO_Props_._explicitHeight - t), 0 != g && (a -= g));
            g = 0;
            for (t = f._getStartLine(c); t < e.length; t++) {
                var p = e[t];
                if (g + p.height >= a) {
                    h = t + 1;
                    break
                } else g += p.height;
                if (g + c._TF_Props_._lineSpacing > a) return null;
                g += c._TF_Props_._lineSpacing
            }
            if (0 === h) return null;
            c = e[h - 1];
            for (t = a = 0; t < c.elements.length; t++) if (e = c.elements[t], a + e.width < b) a += e.width;
            else return {
                lineIndex: h - 1,
                textElementIndex: t
            };
            return null
        };
        f._getScrollNum = function(c) {
            var b = 1;
            if (c._TF_Props_._multiline) {
                var a = c.height,
                e = c.size;
                c = c.lineSpacing;
                b = Math.floor(a / (e + c));
                a - (e + c) * b > e / 2 && b++
            }
            return b
        };
        return f
    } ();
    c.TextFieldUtils = g;
    g.prototype.__class__ = "egret.TextFieldUtils"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        return function() {
            this._text = this._type = "";
            this._displayAsPassword = !1;
            this._fontFamily = c.TextField.default_fontFamily;
            this._size = 30;
            this._bold = this._italic = !1;
            this._textColorString = "#FFFFFF";
            this._textColor = 16777215;
            this._strokeColorString = "#000000";
            this._stroke = this._strokeColor = 0;
            this._border = !1;
            this._borderColor = 0;
            this._background = !1;
            this._backgroundColor = 16777215;
            this._textAlign = "left";
            this._verticalAlign = "top";
            this._maxChars = this._textMaxHeight = this._textMaxWidth = 0;
            this._scrollV = -1;
            this._numLines = this._lineSpacing = 0;
            this._wordWrap = this._multiline = !1
        }
    } ();
    c.TextFieldProperties = g;
    g.prototype.__class__ = "egret.TextFieldProperties"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._inputEnabled = !1;
            this._bgGraphics = this._inputUtils = null;
            this._isFlow = !1;
            this._textArr = [];
            this._isArrayChanged = !1;
            this._linesArr = [];
            this._isTyping = !1;
            this.needDraw = !0;
            this._TF_Props_ = new c.TextFieldProperties
        }
        __extends(d, f);
        var b = d.prototype;
        b.isInput = function() {
            return this._TF_Props_._type == c.TextFieldType.INPUT
        };
        b._setTouchEnabled = function(a) {
            f.prototype._setTouchEnabled.call(this, a);
            this.isInput() && (this._inputEnabled = !0)
        };
        Object.defineProperty(b, "type", {
            get: function() {
                return this._TF_Props_._type
            },
            set: function(a) {
                this._setType(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setType = function(a) {
            var e = this._TF_Props_;
            e._type != a && (e._type = a, e._type == c.TextFieldType.INPUT ? (this._DO_Props_._hasWidthSet || this._setWidth(100), this._DO_Props_._hasHeightSet || this._setHeight(30), null == this._inputUtils && (this._inputUtils = new c.InputController), this._inputUtils.init(this), this._setDirty(), this._DO_Props_._stage && this._inputUtils._addStageText()) : this._inputUtils && (this._inputUtils._removeStageText(), this._inputUtils = null))
        };
        Object.defineProperty(b, "text", {
            get: function() {
                return this._getText()
            },
            set: function(a) {
                this._setText(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._getText = function() {
            return this._TF_Props_._type == c.TextFieldType.INPUT ? this._inputUtils._getText() : this._TF_Props_._text
        };
        b._setSizeDirty = function() {
            f.prototype._setSizeDirty.call(this);
            this._isArrayChanged = !0
        };
        b._setTextDirty = function() {
            this._setSizeDirty()
        };
        b._setBaseText = function(a) {
            null == a && (a = "");
            var e = this._TF_Props_;
            this._isFlow = !1;
            e._text != a && (this._setTextDirty(), e._text = a, a = "", a = e._displayAsPassword ? this.changeToPassText(e._text) : e._text, this.setMiddleStyle([{
                text: a
            }]))
        };
        b._setText = function(a) {
            null == a && (a = "");
            this._setBaseText(a);
            this._inputUtils && this._inputUtils._setText(this._TF_Props_._text)
        };
        Object.defineProperty(b, "displayAsPassword", {
            get: function() {
                return this._TF_Props_._displayAsPassword
            },
            set: function(a) {
                this._setDisplayAsPassword(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setDisplayAsPassword = function(a) {
            var e = this._TF_Props_;
            e._displayAsPassword != a && (e._displayAsPassword = a, this._setTextDirty(), a = "", a = e._displayAsPassword ? this.changeToPassText(e._text) : e._text, this.setMiddleStyle([{
                text: a
            }]))
        };
        Object.defineProperty(b, "fontFamily", {
            get: function() {
                return this._TF_Props_._fontFamily
            },
            set: function(a) {
                this._setFontFamily(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setFontFamily = function(a) {
            this._TF_Props_._fontFamily != a && (this._setTextDirty(), this._TF_Props_._fontFamily = a)
        };
        Object.defineProperty(b, "size", {
            get: function() {
                return this._TF_Props_._size
            },
            set: function(a) {
                this._setSize(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setSize = function(a) {
            this._TF_Props_._size != a && (this._setTextDirty(), this._TF_Props_._size = a)
        };
        Object.defineProperty(b, "italic", {
            get: function() {
                return this._TF_Props_._italic
            },
            set: function(a) {
                this._setItalic(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setItalic = function(a) {
            this._TF_Props_._italic != a && (this._setTextDirty(), this._TF_Props_._italic = a)
        };
        Object.defineProperty(b, "bold", {
            get: function() {
                return this._TF_Props_._bold
            },
            set: function(a) {
                this._setBold(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setBold = function(a) {
            this._TF_Props_._bold != a && (this._setTextDirty(), this._TF_Props_._bold = a)
        };
        Object.defineProperty(b, "textColor", {
            get: function() {
                return this._TF_Props_._textColor
            },
            set: function(a) {
                this._setTextColor(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setTextColor = function(a) {
            this._TF_Props_._textColor != a && (this._setTextDirty(), this._TF_Props_._textColor = a, this._TF_Props_._textColorString = c.toColorString(a))
        };
        Object.defineProperty(b, "strokeColor", {
            get: function() {
                return this._TF_Props_._strokeColor
            },
            set: function(a) {
                this._setStrokeColor(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setStrokeColor = function(a) {
            this._TF_Props_._strokeColor != a && (this._setTextDirty(), this._TF_Props_._strokeColor = a, this._TF_Props_._strokeColorString = c.toColorString(a))
        };
        Object.defineProperty(b, "stroke", {
            get: function() {
                return this._TF_Props_._stroke
            },
            set: function(a) {
                this._setStroke(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setStroke = function(a) {
            this._TF_Props_._stroke != a && (this._setTextDirty(), this._TF_Props_._stroke = a)
        };
        Object.defineProperty(b, "textAlign", {
            get: function() {
                return this._TF_Props_._textAlign
            },
            set: function(a) {
                this._setTextAlign(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setTextAlign = function(a) {
            this._TF_Props_._textAlign != a && (this._setTextDirty(), this._TF_Props_._textAlign = a)
        };
        Object.defineProperty(b, "verticalAlign", {
            get: function() {
                return this._TF_Props_._verticalAlign
            },
            set: function(a) {
                this._setVerticalAlign(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setVerticalAlign = function(a) {
            this._TF_Props_._verticalAlign != a && (this._setTextDirty(), this._TF_Props_._verticalAlign = a)
        };
        Object.defineProperty(b, "maxChars", {
            get: function() {
                return this._TF_Props_._maxChars
            },
            set: function(a) {
                this._setMaxChars(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMaxChars = function(a) {
            this._TF_Props_._maxChars != a && (this._TF_Props_._maxChars = a)
        };
        Object.defineProperty(b, "scrollV", {
            get: function() {
                return Math.min(Math.max(this._TF_Props_._scrollV, 1), this.maxScrollV)
            },
            set: function(a) {
                this._TF_Props_._scrollV = Math.max(a, 1);
                this._setDirty()
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "maxScrollV", {
            get: function() {
                this._getLinesArr();
                return Math.max(this._TF_Props_._numLines - c.TextFieldUtils._getScrollNum(this) + 1, 1)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "selectionBeginIndex", {
            get: function() {
                return 0
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "selectionEndIndex", {
            get: function() {
                return 0
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "caretIndex", {
            get: function() {
                return 0
            },
            enumerable: !0,
            configurable: !0
        });
        b._setSelection = function(a, e) {};
        Object.defineProperty(b, "lineSpacing", {
            get: function() {
                return this._TF_Props_._lineSpacing
            },
            set: function(a) {
                this._setLineSpacing(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setLineSpacing = function(a) {
            this._TF_Props_._lineSpacing != a && (this._setTextDirty(), this._TF_Props_._lineSpacing = a)
        };
        b._getLineHeight = function() {
            return this._TF_Props_._lineSpacing + this._TF_Props_._size
        };
        Object.defineProperty(b, "numLines", {
            get: function() {
                return this._TF_Props_._numLines
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "multiline", {
            get: function() {
                return this._TF_Props_._multiline
            },
            set: function(a) {
                this._setMultiline(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMultiline = function(a) {
            this._TF_Props_._multiline = a;
            this._setDirty()
        };
        b._setWidth = function(a) {
            f.prototype._setWidth.call(this, a);
            this.fillBackground()
        };
        b._setHeight = function(a) {
            f.prototype._setHeight.call(this, a);
            this.fillBackground()
        };
        Object.defineProperty(b, "border", {
            get: function() {
                return this._TF_Props_._border
            },
            set: function(a) {
                this._TF_Props_._border = a;
                this.fillBackground()
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "borderColor", {
            get: function() {
                return this._TF_Props_._borderColor
            },
            set: function(a) {
                this._TF_Props_._borderColor = a;
                this.fillBackground()
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "background", {
            get: function() {
                return this._TF_Props_._background
            },
            set: function(a) {
                this._TF_Props_._background = a;
                this.fillBackground()
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "backgroundColor", {
            get: function() {
                return this._TF_Props_._backgroundColor
            },
            set: function(a) {
                this._TF_Props_._backgroundColor = a;
                this.fillBackground()
            },
            enumerable: !0,
            configurable: !0
        });
        b.fillBackground = function() {
            var a = this._bgGraphics,
            e = this._TF_Props_;
            a && a.clear();
            if (e._background || e._border) null == a && (a = this._bgGraphics = new c.Graphics),
            e._background && a.beginFill(e._backgroundColor, 1),
            e._border && a.lineStyle(1, e._borderColor),
            a.drawRect(0, 0, this._getWidth(), this._getHeight()),
            a.endFill()
        };
        b.setFocus = function() {
            c.$warn(1013)
        };
        b._onRemoveFromStage = function() {
            f.prototype._onRemoveFromStage.call(this);
            this._removeEvent();
            this._TF_Props_._type == c.TextFieldType.INPUT && this._inputUtils._removeStageText()
        };
        b._onAddToStage = function() {
            f.prototype._onAddToStage.call(this);
            this._addEvent();
            this._TF_Props_._type == c.TextFieldType.INPUT && this._inputUtils._addStageText()
        };
        b._updateBaseTransform = function() {
            this._getLinesArr();
            0 == this._TF_Props_._textMaxWidth && this._TF_Props_._type != c.TextFieldType.INPUT || f.prototype._updateTransform.call(this)
        };
        b._updateTransform = function() {
            this._TF_Props_._type == c.TextFieldType.INPUT ? this._DO_Props_._normalDirty ? this._inputUtils._updateProperties() : this._inputUtils._updateTransform() : this._updateBaseTransform()
        };
        b._draw = function(a) {
            var e = this._TF_Props_;
            if (e._type == c.TextFieldType.INPUT) {
                if (this._isTyping) return
            } else if (0 == e._textMaxWidth) return;
            f.prototype._draw.call(this, a)
        };
        b._render = function(a) {
            this._bgGraphics && this._bgGraphics._draw(a);
            this.drawText(a);
            this._clearDirty()
        };
        b._measureBounds = function() {
            var a = this._TF_Props_;
            this._getLinesArr();
            return 0 == a._textMaxWidth ? c.Rectangle.identity.initialize(0, 0, 0, 0) : c.Rectangle.identity.initialize(0, 0, a._textMaxWidth, c.TextFieldUtils._getTextHeight(this))
        };
        Object.defineProperty(b, "textFlow", {
            get: function() {
                return this._textArr
            },
            set: function(a) {
                var e = this._TF_Props_;
                this._isFlow = !0;
                var b = "";
                null == a && (a = []);
                for (var c = 0; c < a.length; c++) b += a[c].text;
                e._displayAsPassword ? this._setBaseText(b) : (e._text = b, this.setMiddleStyle(a))
            },
            enumerable: !0,
            configurable: !0
        });
        b.changeToPassText = function(a) {
            if (this._TF_Props_._displayAsPassword) {
                for (var e = "",
                b = 0,
                c = a.length; b < c; b++) switch (a.charAt(b)) {
                case "\n":
                    e += "\n";
                    break;
                case "\r":
                    break;
                default:
                    e += "*"
                }
                return e
            }
            return a
        };
        b.setMiddleStyle = function(a) {
            this._isArrayChanged = !0;
            this._textArr = a;
            this._setSizeDirty()
        };
        Object.defineProperty(b, "textWidth", {
            get: function() {
                return this._TF_Props_._textMaxWidth
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "textHeight", {
            get: function() {
                return c.TextFieldUtils._getTextHeight(this)
            },
            enumerable: !0,
            configurable: !0
        });
        b.appendText = function(a) {
            this.appendElement({
                text: a
            })
        };
        b.appendElement = function(a) {
            var e = this._TF_Props_,
            b = e._text + a.text;
            e._displayAsPassword ? this._setBaseText(b) : (e._text = b, this._textArr.push(a), this.setMiddleStyle(this._textArr))
        };
        b._getLinesArr = function() {
            var a = this._TF_Props_;
            if (!this._isArrayChanged) return this._linesArr;
            this._isArrayChanged = !1;
            var e = this._textArr,
            b = c.MainContext.instance.rendererContext;
            this._linesArr.length = 0;
            a._textMaxHeight = 0;
            a._textMaxWidth = 0;
            if (this._DO_Props_._hasWidthSet && 0 == this._DO_Props_._explicitWidth) return a._numLines = 0,
            [{
                width: 0,
                height: 0,
                charNum: 0,
                elements: [],
                hasNextLine: !1
            }];
            this._isFlow || b.setupFont(this);
            for (var d = this._linesArr,
            f = 0,
            g = 0,
            k = 0,
            l = 0,
            m, n = 0,
            q = e.length; n < q; n++) {
                var s = e[n];
                s.style = s.style || {};
                for (var r = s.text.toString().split(/(?:\r\n|\r|\n)/), x = 0, z = r.length; x < z; x++) {
                    null == d[l] && (m = {
                        width: 0,
                        height: 0,
                        elements: [],
                        charNum: 0,
                        hasNextLine: !1
                    },
                    d[l] = m, g = k = f = 0);
                    var k = a._type == c.TextFieldType.INPUT ? a._size: Math.max(k, s.style.size || a._size),
                    w = !0;
                    if ("" == r[x]) x == z - 1 && (w = !1);
                    else {
                        this._isFlow && b.setupFont(this, s.style);
                        var y = b.measureText(r[x]);
                        if (this._DO_Props_._hasWidthSet) if (f + y <= this._DO_Props_._explicitWidth) m.elements.push({
                            width: y,
                            text: r[x],
                            style: s.style
                        }),
                        f += y,
                        g += r[x].length,
                        x == z - 1 && (w = !1);
                        else {
                            for (var v = 0,
                            C = 0,
                            A = r[x], B = this._TF_Props_._wordWrap ? A.split(/\b/) : A.match(/./g), D = B.length, E = 0; v < D; v++) {
                                y = b.measureText(B[v]);
                                if (0 != f && f + y > this._DO_Props_._explicitWidth && 0 != f + v) break;
                                E += B[v].length;
                                C += y;
                                f += y;
                                g += E
                            }
                            if (0 < v) {
                                m.elements.push({
                                    width: C,
                                    text: A.substring(0, E),
                                    style: s.style
                                });
                                y = A.substring(E);
                                v = 0;
                                for (C = y.length; v < C && " " == y.charAt(v); v++);
                                r[x] = y.substring(v)
                            }
                            "" != r[x] && (x--, w = !1)
                        } else f += y,
                        g += r[x].length,
                        m.elements.push({
                            width: y,
                            text: r[x],
                            style: s.style
                        }),
                        x == z - 1 && (w = !1)
                    }
                    w && (g++, m.hasNextLine = !0);
                    x < r.length - 1 && (m.width = f, m.height = k, m.charNum = g, a._textMaxWidth = Math.max(a._textMaxWidth, f), a._textMaxHeight += k, l++)
                }
                n == e.length - 1 && m && (m.width = f, m.height = k, m.charNum = g, a._textMaxWidth = Math.max(a._textMaxWidth, f), a._textMaxHeight += k)
            }
            a._numLines = d.length;
            return d
        };
        Object.defineProperty(b, "wordWrap", {
            get: function() {
                return this._TF_Props_._wordWrap
            },
            set: function(a) {
                this._TF_Props_._wordWrap = a
            },
            enumerable: !0,
            configurable: !0
        });
        b.drawText = function(a) {
            var e = this._TF_Props_,
            b = this._getLinesArr();
            if (0 != e._textMaxWidth) {
                var d = this._DO_Props_._hasWidthSet ? this._DO_Props_._explicitWidth: e._textMaxWidth,
                f = c.TextFieldUtils._getTextHeight(this),
                g = 0,
                k = c.TextFieldUtils._getStartLine(this);
                if (this._DO_Props_._hasHeightSet && this._DO_Props_._explicitHeight > f) var l = c.TextFieldUtils._getValign(this),
                g = g + l * (this._DO_Props_._explicitHeight - f);
                for (var g = Math.round(g), f = c.TextFieldUtils._getHalign(this), l = 0, m = k, n = e._numLines; m < n; m++) {
                    var q = b[m],
                    s = q.height,
                    g = g + s / 2;
                    if (m != k) {
                        if (e._type == c.TextFieldType.INPUT && !e._multiline) break;
                        if (this._DO_Props_._hasHeightSet && g > this._DO_Props_._explicitHeight) break
                    }
                    for (var l = Math.round((d - q.width) * f), r = 0, x = q.elements.length; r < x; r++) {
                        var z = q.elements[r];
                        a.drawText(this, z.text, l, g + (s - (z.style.size || e._size)) / 2, z.width, z.style);
                        l += z.width
                    }
                    g += s / 2 + e._lineSpacing
                }
            }
        };
        b._addEvent = function() {
            this.addEventListener(c.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
        };
        b._removeEvent = function() {
            this.removeEventListener(c.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
        };
        b.onTapHandler = function(a) {
            if (this._TF_Props_._type != c.TextFieldType.INPUT && (a = c.TextFieldUtils._getTextElement(this, a.localX, a.localY), null != a && (a = a.style) && a.href && a.href.match(/^event:/))) {
                var e = a.href.match(/^event:/)[0];
                c.TextEvent.dispatchTextEvent(this, c.TextEvent.LINK, a.href.substring(e.length))
            }
        };
        d.default_fontFamily = "Arial";
        return d
    } (c.DisplayObject);
    c.TextField = g;
    g.prototype.__class__ = "egret.TextField"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {
            this._replaceArr = [];
            this.resutlArr = [];
            this.initReplaceArr()
        }
        var d = c.prototype;
        d.initReplaceArr = function() {
            this._replaceArr = [];
            this._replaceArr.push([/&lt;/g, "<"]);
            this._replaceArr.push([/&gt;/g, ">"]);
            this._replaceArr.push([/&amp;/g, "&"]);
            this._replaceArr.push([/&quot;/g, '"']);
            this._replaceArr.push([/&apos;/g, "'"])
        };
        d.replaceSpecial = function(b) {
            for (var a = 0; a < this._replaceArr.length; a++) b = b.replace(this._replaceArr[a][0], this._replaceArr[a][1]);
            return b
        };
        d.parser = function(b) {
            this.stackArray = [];
            this.resutlArr = [];
            for (var a = 0,
            e = b.length; a < e;) {
                var c = b.indexOf("<", a);
                0 > c ? (this.addToResultArr(b.substring(a)), a = e) : (this.addToResultArr(b.substring(a, c)), a = b.indexOf(">", c), "/" == b.charAt(c + 1) ? this.stackArray.pop() : this.addToArray(b.substring(c + 1, a)), a += 1)
            }
            return this.resutlArr
        };
        d.addToResultArr = function(b) {
            "" != b && (b = this.replaceSpecial(b), 0 < this.stackArray.length ? this.resutlArr.push({
                text: b,
                style: this.stackArray[this.stackArray.length - 1]
            }) : this.resutlArr.push({
                text: b
            }))
        };
        d.changeStringToObject = function(b) {
            b = b.trim();
            var a = {},
            e = [];
            if ("i" == b.charAt(0) || "b" == b.charAt(0)) this.addProperty(a, b, "true");
            else if (e = b.match(/^(font|a)\s/)) for (b = b.substring(e[0].length).trim(), e = 0; e = b.match(this.getHeadReg());) {
                var c = e[0],
                d = "";
                b = b.substring(c.length).trim();
                '"' == b.charAt(0) ? (e = b.indexOf('"', 1), d = b.substring(1, e), e += 1) : "'" == b.charAt(0) ? (e = b.indexOf("'", 1), d = b.substring(1, e), e += 1) : (d = b.match(/(\S)+/)[0], e = d.length);
                this.addProperty(a, c.substring(0, c.length - 1).trim(), d.trim());
                b = b.substring(e).trim()
            }
            return a
        };
        d.getHeadReg = function() {
            return /^(color|textcolor|strokecolor|stroke|b|bold|i|italic|size|fontfamily|href)(\s)*=/
        };
        d.addProperty = function(b, a, e) {
            switch (a.toLowerCase()) {
            case "color":
            case "textcolor":
                e = e.replace(/#/, "0x");
                b.textColor = parseInt(e);
                break;
            case "strokecolor":
                e = e.replace(/#/, "0x");
                b.strokeColor = parseInt(e);
                break;
            case "stroke":
                b.stroke = parseInt(e);
                break;
            case "b":
            case "bold":
                b.bold = "true" == e;
                break;
            case "i":
            case "italic":
                b.italic = "true" == e;
                break;
            case "size":
                b.size = parseInt(e);
                break;
            case "fontfamily":
                b.fontFamily = e;
                break;
            case "href":
                b.href = this.replaceSpecial(e)
            }
        };
        d.addToArray = function(b) {
            b = this.changeStringToObject(b);
            if (0 != this.stackArray.length) {
                var a = this.stackArray[this.stackArray.length - 1],
                e;
                for (e in a) null == b[e] && (b[e] = a[e])
            }
            this.stackArray.push(b)
        };
        return c
    } ();
    c.HtmlTextParser = g;
    g.prototype.__class__ = "egret.HtmlTextParser"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.DYNAMIC = "dynamic";
        c.INPUT = "input";
        return c
    } ();
    c.TextFieldType = g;
    g.prototype.__class__ = "egret.TextFieldType"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a) {
            f.call(this);
            this._bitmapY = this._bitmapX = this._sourceHeight = this._sourceWidth = 0;
            this._textureMap = {};
            this.texture = a;
            this._sourceWidth = a._sourceWidth;
            this._sourceHeight = a._sourceHeight;
            this._bitmapX = a._bitmapX - a._offsetX;
            this._bitmapY = a._bitmapY - a._offsetY
        }
        __extends(d, f);
        var b = d.prototype;
        b.getTexture = function(a) {
            return this._textureMap[a]
        };
        b.createTexture = function(a, e, b, d, f, g, k, l, m) {
            void 0 === g && (g = 0);
            void 0 === k && (k = 0);
            "undefined" === typeof l && (l = g + d);
            "undefined" === typeof m && (m = k + f);
            var n = this.texture._clone(),
            q = c.MainContext.instance.rendererContext._texture_scale_factor;
            n._bitmapX = this._bitmapX + e;
            n._bitmapY = this._bitmapY + b;
            n._bitmapWidth = d * q;
            n._bitmapHeight = f * q;
            n._offsetX = g;
            n._offsetY = k;
            n._textureWidth = l * q;
            n._textureHeight = m * q;
            n._sourceWidth = this._sourceWidth;
            n._sourceHeight = this._sourceHeight;
            return this._textureMap[a] = n
        };
        b.dispose = function() {
            this.texture && this.texture.dispose()
        };
        return d
    } (c.HashObject);
    c.SpriteSheet = g;
    g.prototype.__class__ = "egret.SpriteSheet"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._text = null;
            this._isFocus = !1
        }
        __extends(d, f);
        var b = d.prototype;
        b.init = function(a) {
            this._text = a;
            this.stageText = c.StageText.create();
            this.stageText._setTextField(this._text)
        };
        b._addStageText = function() {
            this._text._inputEnabled || (this._text._DO_Props_._touchEnabled = !0);
            this.stageText._add();
            this.stageText._addListeners();
            this.stageText.addEventListener("updateText", this.updateTextHandler, this);
            this._text.addEventListener(c.TouchEvent.TOUCH_BEGIN, this.onMouseDownHandler, this);
            c.MainContext.instance.stage.addEventListener(c.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this);
            this.stageText.addEventListener("blur", this.blurHandler, this);
            this.stageText.addEventListener("focus", this.focusHandler, this)
        };
        b._removeStageText = function() {
            this._text._inputEnabled || (this._text._DO_Props_._touchEnabled = !1);
            this.stageText._remove();
            this.stageText._removeListeners();
            this.stageText._removeInput();
            this.stageText.removeEventListener("updateText", this.updateTextHandler, this);
            this._text.removeEventListener(c.TouchEvent.TOUCH_BEGIN, this.onMouseDownHandler, this);
            c.MainContext.instance.stage.removeEventListener(c.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this);
            this.stageText.removeEventListener("blur", this.blurHandler, this);
            this.stageText.removeEventListener("focus", this.focusHandler, this)
        };
        b._getText = function() {
            return this.stageText._getText()
        };
        b._setText = function(a) {
            this.stageText._setText(a)
        };
        b.focusHandler = function(a) {
            this._isFocus = !0;
            this._text._isTyping = !0;
            this._text.dispatchEvent(new c.FocusEvent(c.FocusEvent.FOCUS_IN))
        };
        b.blurHandler = function(a) {
            this._isFocus = !1;
            this._text._isTyping = !1;
            this._text.dispatchEvent(new c.FocusEvent(c.FocusEvent.FOCUS_OUT))
        };
        b.onMouseDownHandler = function(a) {
            a.stopPropagation();
            this._text._DO_Props_._visible && !this._isFocus && (this._isFocus = !0, this.stageText._show(this._text._TF_Props_._multiline, this._text.size, this._text.width, this._text.height), a = this._text.localToGlobal(), this.stageText._initElement(a.x, a.y, this._text._worldTransform.a, this._text._worldTransform.d))
        };
        b.onStageDownHandler = function(a) {
            this.stageText._hide()
        };
        b.updateTextHandler = function(a) {
            this.resetText();
            this._text.dispatchEvent(new c.Event(c.Event.CHANGE))
        };
        b.resetText = function() {
            this._text._setBaseText(this.stageText._getText())
        };
        b._hideInput = function() {
            this.stageText._removeInput()
        };
        b._updateTransform = function() {
            this._text._updateBaseTransform(); ! this._text._DO_Props_._visible && this.stageText && this._hideInput()
        };
        b._updateProperties = function() {
            if (!this._isFocus) {
                var a = this._text._DO_Props_._stage;
                if (null == a) this.stageText._setVisible(!1);
                else {
                    for (var e = this._text,
                    b = e._DO_Props_._visible; b;) {
                        e = e.parent;
                        if (e == a) break;
                        b = e._DO_Props_._visible
                    }
                    this.stageText._setVisible(b)
                }
                this.stageText._setMultiline(this._text._TF_Props_._multiline);
                this.stageText._setTextType(this._text._TF_Props_._displayAsPassword ? "password": "text");
                this.stageText._setText(this._text._TF_Props_._text);
                this.stageText._resetStageText()
            }
            this._updateTransform()
        };
        return d
    } (c.HashObject);
    c.InputController = g;
    g.prototype.__class__ = "egret.InputController"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(a, e) {
            c.call(this, a);
            this.firstCharHeight = 0;
            "string" == typeof e ? this.charList = this.parseConfig(e) : e && e.hasOwnProperty("frames") ? this.charList = e.frames: this.charList = {}
        }
        __extends(d, c);
        var b = d.prototype;
        b.getTexture = function(a) {
            var e = this._textureMap[a];
            if (!e) {
                e = this.charList[a];
                if (!e) return null;
                e = this.createTexture(a, e.x, e.y, e.w, e.h, e.offX, e.offY, e.sourceW, e.sourceH);
                this._textureMap[a] = e
            }
            return e
        };
        b._getFirstCharHeight = function() {
            if (0 == this.firstCharHeight) for (var a in this.charList) {
                var e = this.charList[a];
                if (e) {
                    var b = e.sourceH;
                    void 0 === b && (b = e.h, void 0 === b && (b = 0), e = e.offY, void 0 === e && (e = 0), b += e);
                    if (! (0 >= b)) {
                        this.firstCharHeight = b;
                        break
                    }
                }
            }
            return this.firstCharHeight
        };
        b.parseConfig = function(a) {
            a = a.split("\r\n").join("\n");
            a = a.split("\n");
            for (var e = this.getConfigByKey(a[3], "count"), b = {},
            c = 4; c < 4 + e; c++) {
                var d = a[c],
                f = String.fromCharCode(this.getConfigByKey(d, "id")),
                g = {};
                b[f] = g;
                g.x = this.getConfigByKey(d, "x");
                g.y = this.getConfigByKey(d, "y");
                g.w = this.getConfigByKey(d, "width");
                g.h = this.getConfigByKey(d, "height");
                g.offX = this.getConfigByKey(d, "xoffset");
                g.offY = this.getConfigByKey(d, "yoffset")
            }
            return b
        };
        b.getConfigByKey = function(a, e) {
            for (var b = a.split(" "), c = 0, d = b.length; c < d; c++) {
                var f = b[c];
                if (e == f.substring(0, e.length)) return b = f.substring(e.length + 1),
                parseInt(b)
            }
            return 0
        };
        return d
    } (c.SpriteSheet);
    c.BitmapFont = g;
    g.prototype.__class__ = "egret.BitmapFont"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a) {
            f.call(this);
            this._isAddedToStage = !1;
            this._frames = this._movieClipData = this._textureToRender = null;
            this._totalFrames = 0;
            this._frameLabels = null;
            this._frameIntervalTime = 0;
            this._eventPool = null;
            this._isPlaying = !1;
            this._isStopped = !0;
            this._passedTime = this._displayedKeyFrameNum = this._nextFrameNum = this._currentFrameNum = this._playTimes = 0;
            this._setMovieClipData(a);
            this.needDraw = !0
        }
        __extends(d, f);
        var b = d.prototype;
        b._init = function() {
            this._reset();
            var a = this._movieClipData;
            a && a._isDataValid() && (this._frames = a.frames, this._totalFrames = a.numFrames, this._frameLabels = a.labels, this._frameIntervalTime = 1E3 / a.frameRate, this._initFrame())
        };
        b._reset = function() {
            this._frames = null;
            this._playTimes = 0;
            this._isPlaying = !1;
            this.setIsStopped(!0);
            this._currentFrameNum = 0;
            this._nextFrameNum = 1;
            this._passedTime = this._displayedKeyFrameNum = 0;
            this._eventPool = []
        };
        b._initFrame = function() {
            this._movieClipData._isTextureValid() && (this._advanceFrame(), this._constructFrame())
        };
        b._render = function(a) {
            var e = this._textureToRender;
            if (this._texture_to_render = e) {
                var b = Math.round(e._offsetX),
                c = Math.round(e._offsetY),
                f = e._bitmapWidth || e._textureWidth,
                g = e._bitmapHeight || e._textureHeight,
                k = Math.round(f),
                l = Math.round(g);
                d.renderFilter.drawImage(a, this, e._bitmapX, e._bitmapY, f, g, b, c, k, l)
            }
        };
        b._measureBounds = function() {
            var a = this._textureToRender;
            return a ? c.Rectangle.identity.initialize(a._offsetX, a._offsetY, a._textureWidth, a._textureHeight) : f.prototype._measureBounds.call(this)
        };
        b._onAddToStage = function() {
            f.prototype._onAddToStage.call(this);
            this._isAddedToStage = !0;
            this._isPlaying && 1 < this._totalFrames && this.setIsStopped(!1)
        };
        b._onRemoveFromStage = function() {
            f.prototype._onRemoveFromStage.call(this);
            this._isAddedToStage = !1;
            this.setIsStopped(!0)
        };
        b._getFrameLabelByName = function(a, e) {
            void 0 === e && (e = !1);
            e && (a = a.toLowerCase());
            var b = this._frameLabels;
            if (b) for (var c = null,
            d = 0; d < b.length; d++) if (c = b[d], e ? c.name.toLowerCase() === a: c.name === a) return c;
            return null
        };
        b._getFrameLabelByFrame = function(a) {
            var e = this._frameLabels;
            if (e) for (var b = null,
            c = 0; c < e.length; c++) if (b = e[c], b.frame === a) return b;
            return null
        };
        b._getFrameLabelForFrame = function(a) {
            var e = null,
            b = null,
            c = this._frameLabels;
            if (c) for (var d = 0; d < c.length; d++) {
                b = c[d];
                if (b.frame > a) break;
                e = b
            }
            return e
        };
        b.play = function(a) {
            void 0 === a && (a = 0);
            this._isPlaying = !0;
            this.setPlayTimes(a);
            1 < this._totalFrames && this._isAddedToStage && this.setIsStopped(!1)
        };
        b.stop = function() {
            this._isPlaying = !1;
            this.setIsStopped(!0)
        };
        b.prevFrame = function() {
            this.gotoAndStop(this._currentFrameNum - 1)
        };
        b.nextFrame = function() {
            this.gotoAndStop(this._currentFrameNum + 1)
        };
        b.gotoAndPlay = function(a, e) {
            void 0 === e && (e = 0); (0 === arguments.length || 2 < arguments.length) && c.$error(1022, "MovieClip.gotoAndPlay()");
            this.play(e);
            this._gotoFrame(a)
        };
        b.gotoAndStop = function(a) {
            1 != arguments.length && c.$error(1022, "MovieClip.gotoAndStop()");
            this.stop();
            this._gotoFrame(a)
        };
        b._gotoFrame = function(a) {
            var e;
            "string" === typeof a ? e = this._getFrameLabelByName(a).frame: (e = parseInt(a + "", 10), e != a && c.$error(1022, "Frame Label Not Found"));
            1 > e ? e = 1 : e > this._totalFrames && (e = this._totalFrames);
            e !== this._nextFrameNum && (this._nextFrameNum = e, this._advanceFrame(), this._constructFrame(), this._handlePendingEvent())
        };
        b._advanceTime = function(a) {
            var e = this._frameIntervalTime;
            a = this._passedTime + a;
            this._passedTime = a % e;
            e = a / e;
            if (! (1 > e)) {
                for (; 1 <= e;) {
                    e--;
                    this._nextFrameNum++;
                    if (this._nextFrameNum > this._totalFrames) if ( - 1 == this._playTimes) this._eventPool.push(c.Event.LOOP_COMPLETE),
                    this._nextFrameNum = 1;
                    else if (this._playTimes--, 0 < this._playTimes) this._eventPool.push(c.Event.LOOP_COMPLETE),
                    this._nextFrameNum = 1;
                    else {
                        this._nextFrameNum = this._totalFrames;
                        this._eventPool.push(c.Event.COMPLETE);
                        this.stop();
                        break
                    }
                    this._advanceFrame()
                }
                this._constructFrame();
                this._handlePendingEvent();
                this._setDirty()
            }
        };
        b._advanceFrame = function() {
            this._currentFrameNum = this._nextFrameNum
        };
        b._constructFrame = function() {
            var a = this._currentFrameNum;
            this._displayedKeyFrameNum != a && (this._textureToRender = this._movieClipData.getTextureByFrame(a), this._DO_Props_._sizeDirty = !0, this._displayedKeyFrameNum = a)
        };
        b._handlePendingEvent = function() {
            if (0 != this._eventPool.length) {
                this._eventPool.reverse();
                for (var a = this._eventPool,
                e = a.length,
                b = !1,
                d = !1,
                f = 0; f < e; f++) {
                    var g = a.pop();
                    g == c.Event.LOOP_COMPLETE ? d = !0 : g == c.Event.COMPLETE ? b = !0 : this.dispatchEventWith(g)
                }
                d && this.dispatchEventWith(c.Event.LOOP_COMPLETE);
                b && this.dispatchEventWith(c.Event.COMPLETE)
            }
        };
        Object.defineProperty(b, "totalFrames", {
            get: function() {
                return this._totalFrames
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "currentFrame", {
            get: function() {
                return this._currentFrameNum
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "currentFrameLabel", {
            get: function() {
                var a = this._getFrameLabelByFrame(this._currentFrameNum);
                return a && a.name
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "currentLabel", {
            get: function() {
                var a = this._getFrameLabelForFrame(this._currentFrameNum);
                return a ? a.name: null
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "frameRate", {
            get: function() {
                return this.movieClipData.frameRate
            },
            set: function(a) {
                a != this._movieClipData.frameRate && (this._movieClipData.frameRate = a, this._frameIntervalTime = 1E3 / this._movieClipData.frameRate)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "isPlaying", {
            get: function() {
                return this._isPlaying
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "movieClipData", {
            get: function() {
                return this._movieClipData
            },
            set: function(a) {
                this._setMovieClipData(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMovieClipData = function(a) {
            this._movieClipData != a && (this._movieClipData = a, this._init())
        };
        b.setPlayTimes = function(a) {
            if (0 > a || 1 <= a) this._playTimes = 0 > a ? -1 : Math.floor(a)
        };
        b.setIsStopped = function(a) {
            this._isStopped != a && ((this._isStopped = a) ? (this._playTimes = 0, c.Ticker.getInstance().unregister(this._advanceTime, this)) : (this._playTimes = 0 == this._playTimes ? 1 : this._playTimes, c.Ticker.getInstance().register(this._advanceTime, this)))
        };
        d.renderFilter = c.RenderFilter.getInstance();
        return d
    } (c.DisplayObject);
    c.MovieClip = g;
    g.prototype.__class__ = "egret.MovieClip"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(a, e) {
            c.call(this);
            this._name = a;
            this._frame = e | 0
        }
        __extends(d, c);
        var b = d.prototype;
        Object.defineProperty(b, "name", {
            get: function() {
                return this._name
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "frame", {
            get: function() {
                return this._frame
            },
            enumerable: !0,
            configurable: !0
        });
        b.clone = function() {
            return new d(this._name, this._frame)
        };
        return d
    } (c.EventDispatcher);
    c.FrameLabel = g;
    g.prototype.__class__ = "egret.FrameLabel"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._mcData = null;
            this.numFrames = 1;
            this.frames = [];
            this.labels = null;
            this.frameRate = 0;
            this.spriteSheet = this.textureData = null
        }
        __extends(d, f);
        var b = d.prototype;
        b._init = function(a, e, b) {
            this.textureData = e;
            this.spriteSheet = b;
            this._setMCData(a)
        };
        b.getKeyFrameData = function(a) {
            a = this.frames[a - 1];
            a.frame && (a = this.frames[a.frame - 1]);
            return a
        };
        b.getTextureByFrame = function(a) {
            a = this.getKeyFrameData(a);
            if (a.res) {
                var e = this.getTextureByResName(a.res);
                e._offsetX = a.x | 0;
                e._offsetY = a.y | 0;
                return e
            }
            return null
        };
        b.getTextureByResName = function(a) {
            var e = this.spriteSheet.getTexture(a);
            e || (e = this.textureData[a], e = this.spriteSheet.createTexture(a, e.x, e.y, e.w, e.h));
            return e
        };
        b._isDataValid = function() {
            return 0 < this.frames.length
        };
        b._isTextureValid = function() {
            return null != this.textureData && null != this.spriteSheet
        };
        b._fillMCData = function(a) {
            this.frameRate = a.frameRate || 24;
            this._fillFramesData(a.frames);
            this._fillFrameLabelsData(a.labels)
        };
        b._fillFramesData = function(a) {
            for (var e = this.frames,
            b = a ? a.length: 0, c, d = 0; d < b; d++) if (c = a[d], e.push(c), c.duration) {
                var f = parseInt(c.duration);
                if (1 < f) {
                    c = e.length;
                    for (var g = 1; g < f; g++) e.push({
                        frame: c
                    })
                }
            }
            this.numFrames = e.length
        };
        b._fillFrameLabelsData = function(a) {
            if (a) {
                var e = a.length;
                if (0 < e) {
                    this.labels = [];
                    for (var b = 0; b < e; b++) {
                        var d = a[b];
                        this.labels.push(new c.FrameLabel(d.name, d.frame))
                    }
                }
            }
        };
        Object.defineProperty(b, "mcData", {
            get: function() {
                return this._mcData
            },
            set: function(a) {
                this._setMCData(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setMCData = function(a) {
            this._mcData != a && (this._mcData = a) && this._fillMCData(a)
        };
        return d
    } (c.HashObject);
    c.MovieClipData = g;
    g.prototype.__class__ = "egret.MovieClipData"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, e) {
            f.call(this);
            this.enableCache = !0;
            this._mcDataCache = {};
            this._mcDataSet = a;
            this.setTexture(e)
        }
        __extends(d, f);
        var b = d.prototype;
        b.clearCache = function() {
            this._mcDataCache = {}
        };
        b.generateMovieClipData = function(a) {
            void 0 === a && (a = "");
            if ("" == a && this._mcDataSet) for (a in this._mcDataSet.mc) break;
            if ("" == a) return null;
            var e = this._findFromCache(a, this._mcDataCache);
            e || (e = new c.MovieClipData, this._fillData(a, e, this._mcDataCache));
            return e
        };
        b._findFromCache = function(a, e) {
            return this.enableCache && e[a] ? e[a] : null
        };
        b._fillData = function(a, e, b) {
            if (this._mcDataSet) {
                var c = this._mcDataSet.mc[a];
                c && (e._init(c, this._mcDataSet.res, this._spriteSheet), this.enableCache && (b[a] = e))
            }
        };
        Object.defineProperty(b, "mcDataSet", {
            get: function() {
                return this._mcDataSet
            },
            set: function(a) {
                this._mcDataSet = a
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "texture", {
            set: function(a) {
                this.setTexture(a)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "spriteSheet", {
            get: function() {
                return this._spriteSheet
            },
            enumerable: !0,
            configurable: !0
        });
        b.setTexture = function(a) {
            this._spriteSheet = a ? new c.SpriteSheet(a) : null
        };
        return d
    } (c.EventDispatcher);
    c.MovieClipDataFactory = g;
    g.prototype.__class__ = "egret.MovieClipDataFactory"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this);
            this._scaleY = this._scaleX = 1;
            this._size = 30;
            this._color = "#FFFFFF";
            this._fontFamily = "Arial";
            this._italic = this._bold = !1;
            this._textAlign = "left";
            this._verticalAlign = "top";
            this._visible = !1;
            this._height = this._width = 0;
            this._multiline = !1;
            this._maxChars = 0
        }
        __extends(d, c);
        var b = d.prototype;
        b._setTextField = function(a) {
            this._textfield = a
        };
        b._getText = function() {
            return null
        };
        b._setText = function(a) {};
        b._setTextType = function(a) {};
        b._getTextType = function() {
            return null
        };
        b._show = function(a, e, b, c) {};
        b._add = function() {};
        b._remove = function() {};
        b._hide = function() {};
        b._addListeners = function() {};
        b._removeListeners = function() {};
        b._setScale = function(a, e) {
            this._scaleX = a;
            this._scaleY = e
        };
        b.changePosition = function(a, e) {};
        b._setSize = function(a) {
            this._size = a
        };
        b._setTextColor = function(a) {
            this._color = a
        };
        b._setTextFontFamily = function(a) {
            this._fontFamily = a
        };
        b._setBold = function(a) {
            this._bold = a
        };
        b._setItalic = function(a) {
            this._italic = a
        };
        b._setTextAlign = function(a) {
            this._textAlign = a
        };
        b._setVerticalAlign = function(a) {
            this._verticalAlign = a
        };
        b._setVisible = function(a) {
            this._visible = a
        };
        b._setWidth = function(a) {
            this._width = a
        };
        b._setHeight = function(a) {
            this._height = a
        };
        b._setMultiline = function(a) {
            this._multiline = a
        };
        b._setMaxChars = function(a) {
            this._maxChars = a
        };
        b._resetStageText = function() {};
        b._initElement = function(a, e, b, c) {};
        b._removeInput = function() {};
        d.create = function() {
            return null
        };
        return d
    } (c.EventDispatcher);
    c.StageText = g;
    g.prototype.__class__ = "egret.StageText"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.GET = "get";
        c.POST = "post";
        return c
    } ();
    c.URLRequestMethod = g;
    g.prototype.__class__ = "egret.URLRequestMethod"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.BINARY = "binary";
        c.TEXT = "text";
        c.VARIABLES = "variables";
        c.TEXTURE = "texture";
        c.SOUND = "sound";
        return c
    } ();
    c.URLLoaderDataFormat = g;
    g.prototype.__class__ = "egret.URLLoaderDataFormat"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(a) {
            void 0 === a && (a = null);
            c.call(this);
            this.variables = null;
            null !== a && this.decode(a)
        }
        __extends(d, c);
        var b = d.prototype;
        b.decode = function(a) {
            this.variables || (this.variables = {});
            a = a.split("+").join(" ");
            for (var e, b = /[?&]?([^=]+)=([^&]*)/g; e = b.exec(a);) {
                var c = decodeURIComponent(e[1]);
                e = decodeURIComponent(e[2]);
                if (!1 == c in this.variables) this.variables[c] = e;
                else {
                    var d = this.variables[c];
                    d instanceof Array ? d.push(e) : this.variables[c] = [d, e]
                }
            }
        };
        b.toString = function() {
            if (!this.variables) return "";
            var a = this.variables,
            e = [],
            b;
            for (b in a) e.push(this.encodeValue(b, a[b]));
            return e.join("&")
        };
        b.encodeValue = function(a, e) {
            return e instanceof Array ? this.encodeArray(a, e) : encodeURIComponent(a) + "=" + encodeURIComponent(e)
        };
        b.encodeArray = function(a, e) {
            return a ? 0 == e.length ? encodeURIComponent(a) + "=": e.map(function(e) {
                return encodeURIComponent(a) + "=" + encodeURIComponent(e)
            }).join("&") : ""
        };
        return d
    } (c.HashObject);
    c.URLVariables = g;
    g.prototype.__class__ = "egret.URLVariables"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        return function(c, d) {
            this.value = this.name = "";
            this.name = c;
            this.value = d
        }
    } ();
    c.URLRequestHeader = g;
    g.prototype.__class__ = "egret.URLRequestHeader"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(b) {
            void 0 === b && (b = null);
            f.call(this);
            this.data = null;
            this.method = c.URLRequestMethod.GET;
            this.url = "";
            this.url = b
        }
        __extends(d, f);
        return d
    } (c.HashObject);
    c.URLRequest = g;
    g.prototype.__class__ = "egret.URLRequest"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a) {
            void 0 === a && (a = null);
            f.call(this);
            this.dataFormat = c.URLLoaderDataFormat.TEXT;
            this._request = this.data = null;
            this._status = -1;
            a && this.load(a)
        }
        __extends(d, f);
        var b = d.prototype;
        b.load = function(a) {
            this._request = a;
            this.data = null;
            c.MainContext.instance.netContext.proceed(this)
        };
        b.__recycle = function() {
            this.data = this._request = null
        };
        return d
    } (c.EventDispatcher);
    c.URLLoader = g;
    g.prototype.__class__ = "egret.URLLoader"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._sourceHeight = this._sourceWidth = this._textureHeight = this._textureWidth = this._offsetY = this._offsetX = this._bitmapHeight = this._bitmapWidth = this._bitmapY = this._bitmapX = 0;
            this._bitmapData = null
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "textureWidth", {
            get: function() {
                return this._textureWidth
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "textureHeight", {
            get: function() {
                return this._textureHeight
            },
            enumerable: !0,
            configurable: !0
        });
        b._setBitmapData = function(a) {
            var e = c.MainContext.instance.rendererContext._texture_scale_factor;
            this._bitmapData = a;
            this._sourceWidth = a.width;
            this._sourceHeight = a.height;
            this._textureWidth = this._sourceWidth * e;
            this._textureHeight = this._sourceHeight * e;
            this._bitmapWidth = this._textureWidth;
            this._bitmapHeight = this._textureHeight;
            this._offsetX = this._offsetY = this._bitmapX = this._bitmapY = 0
        };
        b.getPixel32 = function(a, e) {
            return this._bitmapData.getContext("2d").getImageData(a, e, 1, 1).data
        };
        b.dispose = function() {
            var a = this._bitmapData;
            a.dispose && a.dispose()
        };
        b._clone = function() {
            var a = new d;
            a._bitmapData = this._bitmapData;
            return a
        };
        b.draw = function(a, e, b, c, d, f, g, l, m, n) {};
        b._drawForCanvas = function(a, e, b, c, d, f, g, l, m, n) {
            var q = this._bitmapData;
            q && q.avaliable && (void 0 != n ? this._drawRepeatImageForCanvas(a, e, b, c, d, f, g, l, m, n) : a.drawImage(q, e, b, c, d, f, g, l, m))
        };
        b._drawForNative = function(a, e, b, c, d, f, g, l, m, n) {
            var q = this._bitmapData;
            q && q.avaliable && (void 0 !== n ? this._drawRepeatImageForNative(a, e, b, c, d, f, g, l, m, n) : a.drawImage(q, e, b, c, d, f, g, l, m))
        };
        b._drawRepeatImageForNative = function(a, e, b, d, f, g, k, l, m, n) {
            n = c.MainContext.instance.rendererContext._texture_scale_factor;
            d *= n;
            for (f *= n; g < l; g += d) for (var q = k; q < m; q += f) {
                var s = Math.min(d, l - g),
                r = Math.min(f, m - q);
                this._drawForNative(a, e, b, s / n, r / n, g, q, s, r, void 0)
            }
        };
        b._drawRepeatImageForCanvas = function(a, e, b, d, f, g, k, l, m, n) {
            if (void 0 === this.pattern) {
                var q = c.MainContext.instance.rendererContext._texture_scale_factor,
                s = this._bitmapData,
                r = s;
                if (s.width != d || s.height != f || 1 != q) r = document.createElement("canvas"),
                r.width = d * q,
                r.height = f * q,
                r.getContext("2d").drawImage(s, e, b, d, f, 0, 0, d * q, f * q);
                this.pattern = a.createPattern(r, n)
            }
            a.fillStyle = this.pattern;
            a.translate(g, k);
            a.fillRect(0, 0, l, m);
            a.translate( - g, -k)
        };
        b._disposeForCanvas = function() {
            d.deleteWebGLTexture(this);
            var a = this._bitmapData;
            a.onload = null;
            a.onerror = null;
            a.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAATSURBVHjaYvj//z8DAAAA//8DAAj8Av7TpXVhAAAAAElFTkSuQmCC";
            a.avaliable = !1;
            console.log("_disposeForCanvas")
        };
        b._disposeForNative = function() {
            var a = this._bitmapData;
            a.dispose();
            a.avaliable = !1;
            console.log("_disposeForNative")
        };
        d.deleteWebGLTexture = function(a) {
            if (a = a._bitmapData) {
                var e = a.webGLTexture;
                if (e) for (var b in e) {
                    var c = e[b];
                    c.glContext.deleteTexture(c)
                }
                a.webGLTexture = null
            }
        };
        d.createBitmapData = function(a, e) {};
        d._createBitmapDataForCanvasAndWebGl = function(a, e) {
            var b = d._bitmapDataFactory[a];
            b || (b = document.createElement("img"), b.setAttribute("bitmapSrc", a), d._bitmapDataFactory[a] = b);
            if (b.avaliable) e(0, b);
            else {
                b.crossOrigin = d.crossOrigin;
                var f = window.URL || window.webkitURL;
                if (null == d._bitmapCallbackMap[a]) if (d._addToCallbackList(a, e), 0 != a.indexOf("data:") && 0 != a.indexOf("http:") && 0 != a.indexOf("https:") && c.Browser.getInstance().isIOS() && 7 <= parseInt(c.Browser.getInstance().getIOSVersion().charAt(0)) && f) {
                    var g = new XMLHttpRequest;
                    g.open("get", a, !0);
                    g.responseType = "blob";
                    g.onload = function() {
                        if (200 == this.status) {
                            var c = this.response;
                            b.onload = function() {
                                f.revokeObjectURL(b.src);
                                d._onLoad(a, b)
                            };
                            b.onerror = function() {
                                d._onError(a, b)
                            };
                            b.src = f.createObjectURL(c)
                        } else e(1, null)
                    };
                    g.send()
                } else b.onload = function() {
                    d._onLoad(a, b)
                },
                b.onerror = function() {
                    d._onError(a, b)
                },
                b.src = a;
                else d._addToCallbackList(a, e)
            }
        };
        d._onLoad = function(a, e) {
            e.avaliable = !0;
            e.onload && (e.onload = null);
            e.onerror && (e.onerror = null);
            var b = d._bitmapCallbackMap[a];
            if (b && b.length) {
                delete d._bitmapCallbackMap[a];
                for (var c = b.length,
                f = 0; f < c; f++)(0, b[f])(0, e)
            }
        };
        d._onError = function(a, e) {
            var b = d._bitmapCallbackMap[a];
            if (b && b.length) {
                delete d._bitmapCallbackMap[a];
                for (var c = b.length,
                f = 0; f < c; f++)(0, b[f])(1, e)
            }
        };
        d._createBitmapDataForNative = function(a, e) {
            console.log("_createBitmapDataForNative:" + a);
            var b = d._bitmapDataFactory[a];
            b ? (b.avaliable || (console.log("reload"), b.reload(), b.avaliable = !0), e(0, b)) : c.NativeNetContext.__use_asyn ? d._bitmapCallbackMap[a] ? d._addToCallbackList(a, e) : (d._addToCallbackList(a, e), b = new c.PromiseObject, b.onSuccessFunc = function(e) {
                d._bitmapDataFactory[a] = e;
                d._onLoad(a, e)
            },
            b.onErrorFunc = function() {
                d._onError(a, null)
            },
            console.log("addTextureAsyn"), egret_native.Texture.addTextureAsyn(a, b)) : (console.log("addTexture"), b = egret_native.Texture.addTexture(a), d._bitmapDataFactory[a] = b, b.avaliable = !0, e(0, b))
        };
        d._addToCallbackList = function(a, e) {
            var b = d._bitmapCallbackMap[a];
            b || (b = []);
            b.push(e);
            d._bitmapCallbackMap[a] = b
        };
        d.crossOrigin = null;
        d._bitmapDataFactory = {};
        d._bitmapCallbackMap = {};
        return d
    } (c.HashObject);
    c.Texture = g;
    g.prototype.__class__ = "egret.Texture"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this)
        }
        __extends(d, f);
        var b = d.prototype;
        b.init = function() {
            this._bitmapData = document.createElement("canvas");
            this._bitmapData.avaliable = !0;
            this.renderContext = c.RendererContext.createRendererContext(this._bitmapData)
        };
        b.drawToTexture = function(a, e, b) {
            var f = e || a.getBounds(c.Rectangle.identity);
            if (0 == f.width || 0 == f.height) return ! 1;
            this._bitmapData || this.init();
            var g = f.x,
            p = f.y,
            k = f.width,
            f = f.height,
            l, m, n = c.MainContext.instance.rendererContext._texture_scale_factor;
            l = k / n;
            m = f / n;
            l = Math.round(l);
            m = Math.round(m);
            this.setSize(l, m);
            this.begin();
            a._worldTransform.identity();
            a._worldTransform.a = 1 / n;
            a._worldTransform.d = 1 / n;
            b && (a._worldTransform.a *= b, a._worldTransform.d *= b);
            b = a._DO_Props_._anchorOffsetX;
            n = a._DO_Props_._anchorOffsetY;
            if (0 != a._DO_Props_._anchorX || 0 != a._DO_Props_._anchorY) b = a._DO_Props_._anchorX * l,
            n = a._DO_Props_._anchorY * m;
            this._offsetX = g + b;
            this._offsetY = p + n;
            a._worldTransform.append(1, 0, 0, 1, -this._offsetX, -this._offsetY);
            e && (this._offsetX -= g, this._offsetY -= p);
            a.worldAlpha = 1;
            if (a instanceof c.DisplayObjectContainer) for (e = a._children, g = 0, p = e.length; g < p; g++) e[g]._updateTransform();
            this.renderContext.setTransform(a._worldTransform);
            e = c.RenderFilter.getInstance();
            g = e._drawAreaList.concat();
            e._drawAreaList.length = 0;
            this.renderContext.clearScreen();
            this.renderContext.onRenderStart();
            c.Texture.deleteWebGLTexture(this);
            a._hasFilters() && a._setGlobalFilters(this.renderContext); (p = a.mask || a._DO_Props_._scrollRect) && this.renderContext.pushMask(p);
            b = c.MainContext.__use_new_draw;
            c.MainContext.__use_new_draw = !1;
            a._render(this.renderContext);
            c.MainContext.__use_new_draw = b;
            p && this.renderContext.popMask();
            a._hasFilters() && a._removeGlobalFilters(this.renderContext);
            d.identityRectangle.width = l;
            d.identityRectangle.height = m;
            e.addDrawArea(d.identityRectangle);
            this.renderContext.onRenderFinish();
            e._drawAreaList = g;
            this._sourceWidth = l;
            this._sourceHeight = m;
            this._textureWidth = Math.round(k);
            this._textureHeight = Math.round(f);
            this.end();
            return ! 0
        };
        b.setSize = function(a, b) {
            var c = this._bitmapData;
            c.width = a;
            c.height = b;
            c.style.width = a + "px";
            c.style.height = b + "px";
            this.renderContext._cacheCanvas && (this.renderContext._cacheCanvas.width = a, this.renderContext._cacheCanvas.height = b)
        };
        b.begin = function() {};
        b.end = function() {};
        b.dispose = function() {
            this._bitmapData && (this.renderContext = this._bitmapData = null)
        };
        d.create = function() {
            return d._pool.length ? d._pool.pop() : new d
        };
        d.release = function(a) {
            d._pool.push(a)
        };
        d.identityRectangle = new c.Rectangle;
        d._pool = [];
        return d
    } (c.Texture);
    c.RenderTexture = g;
    g.prototype.__class__ = "egret.RenderTexture"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.renderCost = 0;
            this._texture_scale_factor = 1;
            this.profiler = c.Profiler.getInstance();
            d.blendModesForGL || d.initBlendMode()
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "texture_scale_factor", {
            get: function() {
                return this._texture_scale_factor
            },
            set: function(a) {
                this._setTextureScaleFactor(a)
            },
            enumerable: !0,
            configurable: !0
        });
        b._setTextureScaleFactor = function(a) {
            this._texture_scale_factor = a
        };
        b.clearScreen = function() {};
        b.clearRect = function(a, b, c, d) {};
        b.drawImage = function(a, b, c, d, f, g, k, l, m, n) {
            this.profiler.onDrawImage()
        };
        b.drawImageScale9 = function(a, b, c, d, f, g, k, l, m, n) {
            return ! 1
        };
        b._addOneDraw = function() {
            this.profiler.onDrawImage()
        };
        b.setTransform = function(a) {};
        b.setAlpha = function(a, b) {};
        b.setupFont = function(a, b) {};
        b.measureText = function(a) {
            return 0
        };
        b.drawText = function(a, b, c, d, f, g) {
            this.profiler.onDrawImage()
        };
        b.strokeRect = function(a, b, c, d, f) {};
        b.pushMask = function(a) {};
        b.popMask = function() {};
        b.onRenderStart = function() {};
        b.onRenderFinish = function() {};
        b.createLinearGradient = function(a, b, c, d) {
            return null
        };
        b.createRadialGradient = function(a, b, c, d, f, g) {
            return null
        };
        b.setGlobalFilters = function(a) {};
        b.drawCursor = function(a, b, c, d) {};
        d.createRendererContext = function(a) {
            return null
        };
        d.initBlendMode = function() {
            d.blendModesForGL = {};
            d.blendModesForGL[c.BlendMode.NORMAL] = [1, 771];
            d.blendModesForGL[c.BlendMode.ADD] = [770, 1];
            d.blendModesForGL[c.BlendMode.ERASE] = [0, 771];
            d.blendModesForGL[c.BlendMode.ERASE_REVERSE] = [0, 770]
        };
        d.registerBlendModeForGL = function(a, b, h, f) {
            d.blendModesForGL[a] && !f ? c.$warn(1005, a) : d.blendModesForGL[a] = [b, h]
        };
        d.imageSmoothingEnabled = !0;
        d.blendModesForGL = null;
        return d
    } (c.HashObject);
    c.RendererContext = g;
    g.prototype.__class__ = "egret.RendererContext"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.MOUSE = "mouse";
        c.TOUCH = "touch";
        c.mode = "touch";
        return c
    } ();
    c.InteractionMode = g;
    g.prototype.__class__ = "egret.InteractionMode"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._currentTouchTarget = {};
            this.maxTouches = 2;
            this.touchDownTarget = {};
            this.touchingIdentifiers = [];
            this.lastTouchY = this.lastTouchX = -1
        }
        __extends(d, f);
        var b = d.prototype;
        b.run = function() {};
        b.getTouchData = function(a, b, c) {
            var d = this._currentTouchTarget[a];
            null == d && (d = {},
            this._currentTouchTarget[a] = d);
            d.stageX = b;
            d.stageY = c;
            d.identifier = a;
            return d
        };
        b.dispatchEvent = function(a, b) {
            c.TouchEvent.dispatchTouchEvent(b.target, a, b.identifier, b.stageX, b.stageY, !1, !1, !1, !0 == this.touchDownTarget[b.identifier])
        };
        b.onTouchBegan = function(a, b, d) {
            if (this.touchingIdentifiers.length != this.maxTouches) {
                this.lastTouchX = a;
                this.lastTouchY = b;
                var f = c.MainContext.instance.stage.hitTest(a, b);
                f && (a = this.getTouchData(d, a, b), this.touchDownTarget[d] = !0, a.target = f, a.beginTarget = f, this.dispatchEvent(c.TouchEvent.TOUCH_BEGIN, a));
                this.touchingIdentifiers.push(d)
            }
        };
        b.onTouchMove = function(a, b, d) {
            if ( - 1 != this.touchingIdentifiers.indexOf(d) && (a != this.lastTouchX || b != this.lastTouchY)) {
                this.lastTouchX = a;
                this.lastTouchY = b;
                var f = c.MainContext.instance.stage.hitTest(a, b);
                f && (a = this.getTouchData(d, a, b), a.target = f, this.dispatchEvent(c.TouchEvent.TOUCH_MOVE, a))
            }
        };
        b.onTouchEnd = function(a, b, d) {
            var f = this.touchingIdentifiers.indexOf(d); - 1 != f && (this.touchingIdentifiers.splice(f, 1), f = c.MainContext.instance.stage.hitTest(a, b)) && (a = this.getTouchData(d, a, b), delete this.touchDownTarget[d], d = a.beginTarget, a.target = f, this.dispatchEvent(c.TouchEvent.TOUCH_END, a), d == f ? this.dispatchEvent(c.TouchEvent.TOUCH_TAP, a) : a.beginTarget && (a.target = a.beginTarget, this.dispatchEvent(c.TouchEvent.TOUCH_RELEASE_OUTSIDE, a)), delete this._currentTouchTarget[a.identifier])
        };
        return d
    } (c.HashObject);
    c.TouchContext = g;
    g.prototype.__class__ = "egret.TouchContext"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this)
        }
        __extends(d, f);
        var b = d.prototype;
        b.proceed = function(a) {};
        d._getUrl = function(a) {
            var b = a.url; - 1 == b.indexOf("?") && a.method == c.URLRequestMethod.GET && a.data && a.data instanceof c.URLVariables && (b = b + "?" + a.data.toString());
            return b
        };
        b.getChangeList = function() {
            return []
        };
        return d
    } (c.HashObject);
    c.NetContext = g;
    g.prototype.__class__ = "egret.NetContext"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this)
        }
        __extends(d, c);
        var b = d.prototype;
        b.executeMainLoop = function(a, b) {};
        b.setFrameRate = function(a) {};
        return d
    } (c.HashObject);
    c.DeviceContext = g;
    g.prototype.__class__ = "egret.DeviceContext"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.call = function(c, b) {};
        c.addCallback = function(c, b) {};
        return c
    } ();
    c.ExternalInterface = g;
    g.prototype.__class__ = "egret.ExternalInterface"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.header = this.trans = null;
            this.ua = navigator.userAgent.toLowerCase();
            this.trans = this.getTrans("transform")
        }
        __extends(d, f);
        var b = d.prototype;
        d.getInstance = function() {
            null == d.instance && (d.instance = new d);
            return d.instance
        };
        Object.defineProperty(b, "isMobile", {
            get: function() {
                c.$warn(1E3);
                return c.MainContext.deviceType == c.MainContext.DEVICE_MOBILE
            },
            enumerable: !0,
            configurable: !0
        });
        b.isIOS = function() {
            return 0 > this.ua.indexOf("windows") && (0 <= this.ua.indexOf("iphone") || 0 <= this.ua.indexOf("ipad") || 0 <= this.ua.indexOf("ipod"))
        };
        b.getIOSVersion = function() {
            return this.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0].match(/\d(_\d)*/)[0]
        };
        b.getUserAgent = function() {
            return this.ua
        };
        b.getTrans = function(a, b) {
            void 0 === b && (b = !1);
            var c = "";
            b ? c = this.getHeader(a) : (null == this.header && (this.header = this.getHeader("transform")), c = this.header);
            return "" == c ? a: c + a.charAt(0).toUpperCase() + a.substring(1, a.length)
        };
        b.getHeader = function(a) {
            var b = document.createElement("div").style;
            if (a in b) return "";
            a = a.charAt(0).toUpperCase() + a.substring(1, a.length);
            for (var c = ["webkit", "ms", "Moz", "O"], d = 0; d < c.length; d++) if (c[d] + a in b) return c[d];
            return ""
        };
        b.$new = function(a) {
            return this.$(document.createElement(a))
        };
        b.$ = function(a) {
            var b = document;
            if (a = a instanceof HTMLElement ? a: b.querySelector(a)) a.find = a.find || this.$,
            a.hasClass = a.hasClass ||
            function(a) {
                return this.className.match(new RegExp("(\\s|^)" + a + "(\\s|$)"))
            },
            a.addClass = a.addClass ||
            function(a) {
                this.hasClass(a) || (this.className && (this.className += " "), this.className += a);
                return this
            },
            a.removeClass = a.removeClass ||
            function(a) {
                this.hasClass(a) && (this.className = this.className.replace(a, ""));
                return this
            },
            a.remove = a.remove ||
            function() {},
            a.appendTo = a.appendTo ||
            function(a) {
                a.appendChild(this);
                return this
            },
            a.prependTo = a.prependTo ||
            function(a) {
                a.childNodes[0] ? a.insertBefore(this, a.childNodes[0]) : a.appendChild(this);
                return this
            },
            a.transforms = a.transforms ||
            function() {
                this.style[d.getInstance().trans] = d.getInstance().translate(this.position) + d.getInstance().rotate(this.rotation) + d.getInstance().scale(this.scale) + d.getInstance().skew(this.skew);
                return this
            },
            a.position = a.position || {
                x: 0,
                y: 0
            },
            a.rotation = a.rotation || 0,
            a.scale = a.scale || {
                x: 1,
                y: 1
            },
            a.skew = a.skew || {
                x: 0,
                y: 0
            },
            a.translates = function(a, b) {
                this.position.x = a;
                this.position.y = b - c.MainContext.instance.stage.stageHeight;
                this.transforms();
                return this
            },
            a.rotate = function(a) {
                this.rotation = a;
                this.transforms();
                return this
            },
            a.resize = function(a, b) {
                this.scale.x = a;
                this.scale.y = b;
                this.transforms();
                return this
            },
            a.setSkew = function(a, b) {
                this.skew.x = a;
                this.skew.y = b;
                this.transforms();
                return this
            };
            return a
        };
        b.translate = function(a) {
            return "translate(" + a.x + "px, " + a.y + "px) "
        };
        b.rotate = function(a) {
            return "rotate(" + a + "deg) "
        };
        b.scale = function(a) {
            return "scale(" + a.x + ", " + a.y + ") "
        };
        b.skew = function(a) {
            return "skewX(" + -a.x + "deg) skewY(" + a.y + "deg)"
        };
        return d
    } (c.HashObject);
    c.Browser = g;
    g.prototype.__class__ = "egret.Browser"
})(egret || (egret = {})); (function(c) { (function(c) {
        c.getItem = function(c) {
            return null
        };
        c.setItem = function(c, d) {
            return ! 1
        };
        c.removeItem = function(c) {};
        c.clear = function() {}
    })(c.localStorage || (c.localStorage = {}))
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f() {}
        f.parse = function(d) {
            d = c.SAXParser.getInstance().parserXML(d);
            if (!d || !d.childNodes) return null;
            for (var b = d.childNodes.length,
            a = !1,
            e = 0; e < b; e++) {
                var h = d.childNodes[e];
                if (1 == h.nodeType) {
                    a = !0;
                    break
                }
            }
            return a ? f.parseNode(h) : null
        };
        f.parseNode = function(c) {
            if (!c || 1 != c.nodeType) return null;
            var b = {};
            b.localName = c.localName;
            b.name = c.nodeName;
            c.namespaceURI && (b.namespace = c.namespaceURI);
            c.prefix && (b.prefix = c.prefix);
            for (var a = c.attributes,
            e = a.length,
            h = 0; h < e; h++) {
                var g = a[h],
                u = g.name;
                0 != u.indexOf("xmlns:") && (b["$" + u] = g.value)
            }
            a = c.childNodes;
            e = a.length;
            for (h = 0; h < e; h++) if (g = f.parseNode(a[h])) b.children || (b.children = []),
            g.parent = b,
            b.children.push(g); ! b.children && (c = c.textContent.trim()) && (b.text = c);
            return b
        };
        f.findChildren = function(c, b, a) {
            a ? a.length = 0 : a = [];
            f.findByPath(c, b, a);
            return a
        };
        f.findByPath = function(c, b, a) {
            var e = b.indexOf("."),
            h; - 1 == e ? (h = b, e = !0) : (h = b.substring(0, e), b = b.substring(e + 1), e = !1);
            if (c = c.children) for (var g = c.length,
            u = 0; u < g; u++) {
                var p = c[u];
                p.localName == h && (e ? a.push(p) : f.findByPath(p, b, a))
            }
        };
        f.getAttributes = function(c, b) {
            b ? b.length = 0 : b = [];
            for (var a in c)"$" == a.charAt(0) && b.push(a.substring(1));
            return b
        };
        return f
    } ();
    c.XML = g;
    g.prototype.__class__ = "egret.XML"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.LITTLE_ENDIAN = "littleEndian";
        c.BIG_ENDIAN = "bigEndian";
        return c
    } ();
    c.Endian = g;
    g.prototype.__class__ = "egret.Endian";
    var f = function() {
        function d(a) {
            this.BUFFER_EXT_SIZE = 0;
            this.EOF_code_point = this.EOF_byte = -1;
            this._setArrayBuffer(a || new ArrayBuffer(this.BUFFER_EXT_SIZE));
            this.endian = g.BIG_ENDIAN
        }
        var b = d.prototype;
        b._setArrayBuffer = function(a) {
            this.write_position = a.byteLength;
            this.data = new DataView(a);
            this._position = 0
        };
        Object.defineProperty(b, "buffer", {
            get: function() {
                return this.data.buffer
            },
            set: function(a) {
                this.data = new DataView(a)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "dataView", {
            get: function() {
                return this.data
            },
            set: function(a) {
                this.data = a;
                this.write_position = a.byteLength
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bufferOffset", {
            get: function() {
                return this.data.byteOffset
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "position", {
            get: function() {
                return this._position
            },
            set: function(a) {
                this._position < a && !this.validate(a - this._position) || (this._position = a, this.write_position = a > this.write_position ? a: this.write_position)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "length", {
            get: function() {
                return this.write_position
            },
            set: function(a) {
                this.validateBuffer(a, !0)
            },
            enumerable: !0,
            configurable: !0
        });
        Object.defineProperty(b, "bytesAvailable", {
            get: function() {
                return this.data.byteLength - this._position
            },
            enumerable: !0,
            configurable: !0
        });
        b.clear = function() {
            this._setArrayBuffer(new ArrayBuffer(this.BUFFER_EXT_SIZE))
        };
        b.readBoolean = function() {
            return this.validate(d.SIZE_OF_BOOLEAN) ? 0 != this.data.getUint8(this.position++) : null
        };
        b.readByte = function() {
            return this.validate(d.SIZE_OF_INT8) ? this.data.getInt8(this.position++) : null
        };
        b.readBytes = function(a, b, c) {
            void 0 === b && (b = 0);
            void 0 === c && (c = 0);
            if (0 == c) c = this.bytesAvailable;
            else if (!this.validate(c)) return null;
            a ? a.validateBuffer(c) : a = new d(new ArrayBuffer(c));
            for (var f = 0; f < c; f++) a.data.setUint8(f + b, this.data.getUint8(this.position++))
        };
        b.readDouble = function() {
            if (!this.validate(d.SIZE_OF_FLOAT64)) return null;
            var a = this.data.getFloat64(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_FLOAT64;
            return a
        };
        b.readFloat = function() {
            if (!this.validate(d.SIZE_OF_FLOAT32)) return null;
            var a = this.data.getFloat32(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_FLOAT32;
            return a
        };
        b.readInt = function() {
            if (!this.validate(d.SIZE_OF_INT32)) return null;
            var a = this.data.getInt32(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_INT32;
            return a
        };
        b.readShort = function() {
            if (!this.validate(d.SIZE_OF_INT16)) return null;
            var a = this.data.getInt16(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_INT16;
            return a
        };
        b.readUnsignedByte = function() {
            return this.validate(d.SIZE_OF_UINT8) ? this.data.getUint8(this.position++) : null
        };
        b.readUnsignedInt = function() {
            if (!this.validate(d.SIZE_OF_UINT32)) return null;
            var a = this.data.getUint32(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT32;
            return a
        };
        b.readUnsignedShort = function() {
            if (!this.validate(d.SIZE_OF_UINT16)) return null;
            var a = this.data.getUint16(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT16;
            return a
        };
        b.readUTF = function() {
            if (!this.validate(d.SIZE_OF_UINT16)) return null;
            var a = this.data.getUint16(this.position, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT16;
            return 0 < a ? this.readUTFBytes(a) : ""
        };
        b.readUTFBytes = function(a) {
            if (!this.validate(a)) return null;
            var b = new Uint8Array(this.buffer, this.bufferOffset + this.position, a);
            this.position += a;
            return this.decodeUTF8(b)
        };
        b.writeBoolean = function(a) {
            this.validateBuffer(d.SIZE_OF_BOOLEAN);
            this.data.setUint8(this.position++, a ? 1 : 0)
        };
        b.writeByte = function(a) {
            this.validateBuffer(d.SIZE_OF_INT8);
            this.data.setInt8(this.position++, a)
        };
        b.writeBytes = function(a, b, c) {
            void 0 === b && (b = 0);
            void 0 === c && (c = 0);
            if (! (0 > b || 0 > c) && (c = 0 == c ? a.length - b: Math.min(a.length - b, c), 0 < c)) {
                this.validateBuffer(c);
                a = new DataView(a.buffer);
                for (var d = b; d < c + b; d++) this.data.setUint8(this.position++, a.getUint8(d))
            }
        };
        b.writeDouble = function(a) {
            this.validateBuffer(d.SIZE_OF_FLOAT64);
            this.data.setFloat64(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_FLOAT64
        };
        b.writeFloat = function(a) {
            this.validateBuffer(d.SIZE_OF_FLOAT32);
            this.data.setFloat32(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_FLOAT32
        };
        b.writeInt = function(a) {
            this.validateBuffer(d.SIZE_OF_INT32);
            this.data.setInt32(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_INT32
        };
        b.writeShort = function(a) {
            this.validateBuffer(d.SIZE_OF_INT16);
            this.data.setInt16(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_INT16
        };
        b.writeUnsignedInt = function(a) {
            this.validateBuffer(d.SIZE_OF_UINT32);
            this.data.setUint32(this.position, a, this.endian == g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT32
        };
        b.writeUTF = function(a) {
            a = this.encodeUTF8(a);
            var b = a.length;
            this.validateBuffer(d.SIZE_OF_UINT16 + b);
            this.data.setUint16(this.position, b, this.endian === g.LITTLE_ENDIAN);
            this.position += d.SIZE_OF_UINT16;
            this._writeUint8Array(a, !1)
        };
        b.writeUTFBytes = function(a) {
            this._writeUint8Array(this.encodeUTF8(a))
        };
        b.toString = function() {
            return "[ByteArray] length:" + this.length + ", bytesAvailable:" + this.bytesAvailable
        };
        b._writeUint8Array = function(a, b) {
            void 0 === b && (b = !0);
            b && this.validateBuffer(this.position + a.length);
            for (var c = 0; c < a.length; c++) this.data.setUint8(this.position++, a[c])
        };
        b.validate = function(a) {
            if (0 < this.data.byteLength && this._position + a <= this.data.byteLength) return ! 0;
            c.$error(1025)
        };
        b.validateBuffer = function(a, b) {
            void 0 === b && (b = !1);
            this.write_position = a > this.write_position ? a: this.write_position;
            a += this._position;
            if (this.data.byteLength < a || b) {
                var c = new Uint8Array(new ArrayBuffer(a + this.BUFFER_EXT_SIZE)),
                d = Math.min(this.data.buffer.byteLength, a + this.BUFFER_EXT_SIZE);
                c.set(new Uint8Array(this.data.buffer, 0, d));
                this.buffer = c.buffer
            }
        };
        b.encodeUTF8 = function(a) {
            var b = 0;
            a = this.stringToCodePoints(a);
            for (var c = []; a.length > b;) {
                var d = a[b++];
                if (this.inRange(d, 55296, 57343)) this.encoderError(d);
                else if (this.inRange(d, 0, 127)) c.push(d);
                else {
                    var f, g;
                    this.inRange(d, 128, 2047) ? (f = 1, g = 192) : this.inRange(d, 2048, 65535) ? (f = 2, g = 224) : this.inRange(d, 65536, 1114111) && (f = 3, g = 240);
                    for (c.push(this.div(d, Math.pow(64, f)) + g); 0 < f;) {
                        var k = this.div(d, Math.pow(64, f - 1));
                        c.push(128 + k % 64);
                        f -= 1
                    }
                }
            }
            return new Uint8Array(c)
        };
        b.decodeUTF8 = function(a) {
            for (var b = 0,
            c = "",
            d, f = 0,
            g = 0,
            k = 0,
            l = 0; a.length > b;) {
                d = a[b++];
                if (d === this.EOF_byte) d = 0 !== g ? this.decoderError(!1) : this.EOF_code_point;
                else if (0 === g) this.inRange(d, 0, 127) || (this.inRange(d, 194, 223) ? (g = 1, l = 128, f = d - 192) : this.inRange(d, 224, 239) ? (g = 2, l = 2048, f = d - 224) : this.inRange(d, 240, 244) ? (g = 3, l = 65536, f = d - 240) : this.decoderError(!1), f *= Math.pow(64, g), d = null);
                else if (this.inRange(d, 128, 191)) if (k += 1, f += (d - 128) * Math.pow(64, g - k), k !== g) d = null;
                else {
                    var m = f,
                    n = l,
                    l = k = g = f = 0;
                    d = this.inRange(m, n, 1114111) && !this.inRange(m, 55296, 57343) ? m: this.decoderError(!1, d)
                } else l = k = g = f = 0,
                b--,
                d = this.decoderError(!1, d);
                null !== d && d !== this.EOF_code_point && (65535 >= d ? 0 < d && (c += String.fromCharCode(d)) : (d -= 65536, c += String.fromCharCode(55296 + (d >> 10 & 1023)), c += String.fromCharCode(56320 + (d & 1023))))
            }
            return c
        };
        b.encoderError = function(a) {
            c.$error(1026, a)
        };
        b.decoderError = function(a, b) {
            a && c.$error(1027);
            return b || 65533
        };
        b.inRange = function(a, b, c) {
            return b <= a && a <= c
        };
        b.div = function(a, b) {
            return Math.floor(a / b)
        };
        b.stringToCodePoints = function(a) {
            for (var b = [], c = 0, d = a.length; c < a.length;) {
                var f = a.charCodeAt(c);
                if (this.inRange(f, 55296, 57343)) if (this.inRange(f, 56320, 57343)) b.push(65533);
                else if (c === d - 1) b.push(65533);
                else {
                    var g = a.charCodeAt(c + 1);
                    this.inRange(g, 56320, 57343) ? (f &= 1023, g &= 1023, c += 1, b.push(65536 + (f << 10) + g)) : b.push(65533)
                } else b.push(f);
                c += 1
            }
            return b
        };
        d.SIZE_OF_BOOLEAN = 1;
        d.SIZE_OF_INT8 = 1;
        d.SIZE_OF_INT16 = 2;
        d.SIZE_OF_INT32 = 4;
        d.SIZE_OF_UINT8 = 1;
        d.SIZE_OF_UINT16 = 2;
        d.SIZE_OF_UINT32 = 4;
        d.SIZE_OF_FLOAT32 = 4;
        d.SIZE_OF_FLOAT64 = 8;
        return d
    } ();
    c.ByteArray = f;
    f.prototype.__class__ = "egret.ByteArray"
})(egret || (egret = {})); (function(c) {
    c.getOption = function(c) {
        if (window.hasOwnProperty("location")) {
            var f = location.search;
            if ("" == f) return "";
            for (var f = f.slice(1), f = f.split("&"), d = f.length, b = 0; b < d; b++) {
                var a = f[b].split("=");
                if (a[0] == c) return a[1]
            }
        }
        return ""
    }
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a, b, c) {
            f.call(this);
            this._target = null;
            this.loop = this.ignoreGlobalPause = this._useTicks = !1;
            this._actions = this._steps = this.pluginData = null;
            this.paused = !1;
            this.duration = 0;
            this._prevPos = -1;
            this.position = null;
            this._stepPosition = this._prevPosition = 0;
            this.passive = !1;
            this.initialize(a, b, c)
        }
        __extends(d, f);
        var b = d.prototype;
        d.get = function(a, b, c, f) {
            void 0 === b && (b = null);
            void 0 === c && (c = null);
            void 0 === f && (f = !1);
            f && d.removeTweens(a);
            return new d(a, b, c)
        };
        d.removeTweens = function(a) {
            if (a.tween_count) {
                for (var b = d._tweens,
                c = b.length - 1; 0 <= c; c--) b[c]._target == a && (b[c].paused = !0, b.splice(c, 1));
                a.tween_count = 0
            }
        };
        d.pauseTweens = function(a) {
            if (a.tween_count) for (var b = c.Tween._tweens,
            d = b.length - 1; 0 <= d; d--) b[d]._target == a && (b[d].paused = !0)
        };
        d.resumeTweens = function(a) {
            if (a.tween_count) for (var b = c.Tween._tweens,
            d = b.length - 1; 0 <= d; d--) b[d]._target == a && (b[d].paused = !1)
        };
        d.tick = function(a, b) {
            void 0 === b && (b = !1);
            for (var c = d._tweens.concat(), f = c.length - 1; 0 <= f; f--) {
                var g = c[f];
                b && !g.ignoreGlobalPause || g.paused || g.tick(g._useTicks ? 1 : a)
            }
        };
        d._register = function(a, b) {
            var h = a._target,
            f = d._tweens;
            if (b) h && (h.tween_count = 0 < h.tween_count ? h.tween_count + 1 : 1),
            f.push(a),
            d._inited || (c.Ticker.getInstance().register(d.tick, null), d._inited = !0);
            else for (h && h.tween_count--, h = f.length; h--;) if (f[h] == a) {
                f.splice(h, 1);
                break
            }
        };
        d.removeAllTweens = function() {
            for (var a = d._tweens,
            b = 0,
            c = a.length; b < c; b++) {
                var f = a[b];
                f.paused = !0;
                f._target.tweenjs_count = 0
            }
            a.length = 0
        };
        b.initialize = function(a, b, c) {
            this._target = a;
            b && (this._useTicks = b.useTicks, this.ignoreGlobalPause = b.ignoreGlobalPause, this.loop = b.loop, b.onChange && this.addEventListener("change", b.onChange, b.onChangeObj), b.override && d.removeTweens(a));
            this.pluginData = c || {};
            this._curQueueProps = {};
            this._initQueueProps = {};
            this._steps = [];
            this._actions = [];
            b && b.paused ? this.paused = !0 : d._register(this, !0);
            b && null != b.position && this.setPosition(b.position, d.NONE)
        };
        b.setPosition = function(a, b) {
            void 0 === b && (b = 1);
            0 > a && (a = 0);
            var c = a,
            d = !1;
            c >= this.duration && (this.loop ? c %= this.duration: (c = this.duration, d = !0));
            if (c == this._prevPos) return d;
            var f = this._prevPos;
            this.position = this._prevPos = c;
            this._prevPosition = a;
            if (this._target) if (d) this._updateTargetProps(null, 1);
            else if (0 < this._steps.length) {
                for (var g = 0,
                k = this._steps.length; g < k && !(this._steps[g].t > c); g++);
                g = this._steps[g - 1];
                this._updateTargetProps(g, (this._stepPosition = c - g.t) / g.d)
            }
            0 != b && 0 < this._actions.length && (this._useTicks ? this._runActions(c, c) : 1 == b && c < f ? (f != this.duration && this._runActions(f, this.duration), this._runActions(0, c, !0)) : this._runActions(f, c));
            d && this.setPaused(!0);
            this.dispatchEventWith("change");
            return d
        };
        b._runActions = function(a, b, c) {
            void 0 === c && (c = !1);
            var d = a,
            f = b,
            g = -1,
            k = this._actions.length,
            l = 1;
            a > b && (d = b, f = a, g = k, k = l = -1);
            for (; (g += l) != k;) {
                b = this._actions[g];
                var m = b.t; (m == f || m > d && m < f || c && m == a) && b.f.apply(b.o, b.p)
            }
        };
        b._updateTargetProps = function(a, b) {
            var c, f, g, p;
            if (a || 1 != b) {
                if (this.passive = !!a.v) return;
                a.e && (b = a.e(b, 0, 1, 1));
                c = a.p0;
                f = a.p1
            } else this.passive = !1,
            c = f = this._curQueueProps;
            for (var k in this._initQueueProps) {
                null == (g = c[k]) && (c[k] = g = this._initQueueProps[k]);
                null == (p = f[k]) && (f[k] = p = g);
                g = g == p || 0 == b || 1 == b || "number" != typeof g ? 1 == b ? p: g: g + (p - g) * b;
                var l = !1;
                if (p = d._plugins[k]) for (var m = 0,
                n = p.length; m < n; m++) {
                    var q = p[m].tween(this, k, g, c, f, b, !!a && c == f, !a);
                    q == d.IGNORE ? l = !0 : g = q
                }
                l || (this._target[k] = g)
            }
        };
        b.setPaused = function(a) {
            this.paused = a;
            d._register(this, !a);
            return this
        };
        b._cloneProps = function(a) {
            var b = {},
            c;
            for (c in a) b[c] = a[c];
            return b
        };
        b._addStep = function(a) {
            0 < a.d && (this._steps.push(a), a.t = this.duration, this.duration += a.d);
            return this
        };
        b._appendQueueProps = function(a) {
            var b, c, f, g, p, k;
            for (k in a) if (void 0 === this._initQueueProps[k]) {
                c = this._target[k];
                if (b = d._plugins[k]) for (f = 0, g = b.length; f < g; f++) c = b[f].init(this, k, c);
                this._initQueueProps[k] = this._curQueueProps[k] = void 0 === c ? null: c
            }
            for (k in a) {
                c = this._curQueueProps[k];
                if (b = d._plugins[k]) for (p = p || {},
                f = 0, g = b.length; f < g; f++) b[f].step && b[f].step(this, k, c, a[k], p);
                this._curQueueProps[k] = a[k]
            }
            p && this._appendQueueProps(p);
            return this._curQueueProps
        };
        b._addAction = function(a) {
            a.t = this.duration;
            this._actions.push(a);
            return this
        };
        b._set = function(a, b) {
            for (var c in a) b[c] = a[c]
        };
        b.wait = function(a, b) {
            if (null == a || 0 >= a) return this;
            var c = this._cloneProps(this._curQueueProps);
            return this._addStep({
                d: a,
                p0: c,
                p1: c,
                v: b
            })
        };
        b.to = function(a, b, c) {
            void 0 === c && (c = void 0);
            if (isNaN(b) || 0 > b) b = 0;
            return this._addStep({
                d: b || 0,
                p0: this._cloneProps(this._curQueueProps),
                e: c,
                p1: this._cloneProps(this._appendQueueProps(a))
            })
        };
        b.call = function(a, b, c) {
            void 0 === b && (b = void 0);
            void 0 === c && (c = void 0);
            return this._addAction({
                f: a,
                p: c ? c: [],
                o: b ? b: this._target
            })
        };
        b.set = function(a, b) {
            void 0 === b && (b = null);
            return this._addAction({
                f: this._set,
                o: this,
                p: [a, b ? b: this._target]
            })
        };
        b.play = function(a) {
            a || (a = this);
            return this.call(a.setPaused, a, [!1])
        };
        b.pause = function(a) {
            a || (a = this);
            return this.call(a.setPaused, a, [!0])
        };
        b.tick = function(a) {
            this.paused || this.setPosition(this._prevPosition + a)
        };
        d.NONE = 0;
        d.LOOP = 1;
        d.REVERSE = 2;
        d._tweens = [];
        d.IGNORE = {};
        d._plugins = {};
        d._inited = !1;
        return d
    } (c.EventDispatcher);
    c.Tween = g;
    g.prototype.__class__ = "egret.Tween"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f() {
            c.$error(1014)
        }
        f.get = function(c) { - 1 > c && (c = -1);
            1 < c && (c = 1);
            return function(b) {
                return 0 == c ? b: 0 > c ? b * (b * -c + 1 + c) : b * ((2 - b) * c + (1 - c))
            }
        };
        f.getPowIn = function(c) {
            return function(b) {
                return Math.pow(b, c)
            }
        };
        f.getPowOut = function(c) {
            return function(b) {
                return 1 - Math.pow(1 - b, c)
            }
        };
        f.getPowInOut = function(c) {
            return function(b) {
                return 1 > (b *= 2) ? 0.5 * Math.pow(b, c) : 1 - 0.5 * Math.abs(Math.pow(2 - b, c))
            }
        };
        f.sineIn = function(c) {
            return 1 - Math.cos(c * Math.PI / 2)
        };
        f.sineOut = function(c) {
            return Math.sin(c * Math.PI / 2)
        };
        f.sineInOut = function(c) {
            return - 0.5 * (Math.cos(Math.PI * c) - 1)
        };
        f.getBackIn = function(c) {
            return function(b) {
                return b * b * ((c + 1) * b - c)
            }
        };
        f.getBackOut = function(c) {
            return function(b) {
                return--b * b * ((c + 1) * b + c) + 1
            }
        };
        f.getBackInOut = function(c) {
            c *= 1.525;
            return function(b) {
                return 1 > (b *= 2) ? 0.5 * b * b * ((c + 1) * b - c) : 0.5 * ((b -= 2) * b * ((c + 1) * b + c) + 2)
            }
        };
        f.circIn = function(c) {
            return - (Math.sqrt(1 - c * c) - 1)
        };
        f.circOut = function(c) {
            return Math.sqrt(1 - --c * c)
        };
        f.circInOut = function(c) {
            return 1 > (c *= 2) ? -0.5 * (Math.sqrt(1 - c * c) - 1) : 0.5 * (Math.sqrt(1 - (c -= 2) * c) + 1)
        };
        f.bounceIn = function(c) {
            return 1 - f.bounceOut(1 - c)
        };
        f.bounceOut = function(c) {
            return c < 1 / 2.75 ? 7.5625 * c * c: c < 2 / 2.75 ? 7.5625 * (c -= 1.5 / 2.75) * c + 0.75 : c < 2.5 / 2.75 ? 7.5625 * (c -= 2.25 / 2.75) * c + 0.9375 : 7.5625 * (c -= 2.625 / 2.75) * c + 0.984375
        };
        f.bounceInOut = function(c) {
            return 0.5 > c ? 0.5 * f.bounceIn(2 * c) : 0.5 * f.bounceOut(2 * c - 1) + 0.5
        };
        f.getElasticIn = function(c, b) {
            var a = 2 * Math.PI;
            return function(e) {
                if (0 == e || 1 == e) return e;
                var h = b / a * Math.asin(1 / c);
                return - (c * Math.pow(2, 10 * (e -= 1)) * Math.sin((e - h) * a / b))
            }
        };
        f.getElasticOut = function(c, b) {
            var a = 2 * Math.PI;
            return function(e) {
                if (0 == e || 1 == e) return e;
                var h = b / a * Math.asin(1 / c);
                return c * Math.pow(2, -10 * e) * Math.sin((e - h) * a / b) + 1
            }
        };
        f.getElasticInOut = function(c, b) {
            var a = 2 * Math.PI;
            return function(e) {
                var h = b / a * Math.asin(1 / c);
                return 1 > (e *= 2) ? -0.5 * c * Math.pow(2, 10 * (e -= 1)) * Math.sin((e - h) * a / b) : c * Math.pow(2, -10 * (e -= 1)) * Math.sin((e - h) * a / b) * 0.5 + 1
            }
        };
        f.quadIn = f.getPowIn(2);
        f.quadOut = f.getPowOut(2);
        f.quadInOut = f.getPowInOut(2);
        f.cubicIn = f.getPowIn(3);
        f.cubicOut = f.getPowOut(3);
        f.cubicInOut = f.getPowInOut(3);
        f.quartIn = f.getPowIn(4);
        f.quartOut = f.getPowOut(4);
        f.quartInOut = f.getPowInOut(4);
        f.quintIn = f.getPowIn(5);
        f.quintOut = f.getPowOut(5);
        f.quintInOut = f.getPowInOut(5);
        f.backIn = f.getBackIn(1.7);
        f.backOut = f.getBackOut(1.7);
        f.backInOut = f.getBackInOut(1.7);
        f.elasticIn = f.getElasticIn(1, 0.3);
        f.elasticOut = f.getElasticOut(1, 0.3);
        f.elasticInOut = f.getElasticInOut(1, 0.3 * 1.5);
        return f
    } ();
    c.Ease = g;
    g.prototype.__class__ = "egret.Ease"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.path = "";
            this.audio = null;
            this.type = d.EFFECT;
            this._pauseTime = 0;
            this._listeners = []
        }
        __extends(d, f);
        var b = d.prototype;
        Object.defineProperty(b, "position", {
            get: function() {
                return this.audio ? Math.floor(1E3 * this.audio._getCurrentTime()) : 0
            },
            enumerable: !0,
            configurable: !0
        });
        b.play = function(a, b) {
            void 0 === a && (a = !1);
            void 0 === b && (b = 0);
            var c = this.audio;
            c && (c._setCurrentTime(b / 1E3), c._setLoop(a), c._play(this.type))
        };
        b.stop = function() {
            var a = this.audio;
            a && (this._pauseTime = 0, a._setCurrentTime(0), a._pause())
        };
        b.pause = function() {
            var a = this.audio;
            a && (this._pauseTime = a._getCurrentTime(), a._pause())
        };
        b.resume = function() {
            var a = this.audio;
            a && (a._setCurrentTime(this._pauseTime), this._pauseTime = 0, a._play(this.type))
        };
        b.load = function() {
            var a = this.audio;
            a && a._load()
        };
        b.addEventListener = function(a, b, d) {
            f.prototype.addEventListener.call(this, a, b, d);
            var g = this;
            this.audio && 1 == this._eventsMap[a].length && (b = a == c.SoundEvent.SOUND_COMPLETE ?
            function(a) {
                c.Event._dispatchByTarget(c.SoundEvent, g, c.SoundEvent.SOUND_COMPLETE)
            }: function(a) {
                c.Event._dispatchByTarget(c.Event, g, a.type)
            },
            this._listeners.push({
                type: a,
                func: b
            }), a = g.getVirtualType(a), this.audio._addEventListener(a, b, !1))
        };
        b.removeEventListener = function(a, b, c) {
            f.prototype.removeEventListener.call(this, a, b, c);
            if (this.audio && (!this._eventsMap || !this._eventsMap[a] || 0 == this._eventsMap[a].length)) for (c = 0; c < this._listeners.length; c++) if (b = this._listeners[c], b.type == a) {
                this._listeners.splice(c, 1);
                a = this.getVirtualType(a);
                this.audio._removeEventListener(a, b.func, !1);
                break
            }
        };
        b.getVirtualType = function(a) {
            switch (a) {
            case c.SoundEvent.SOUND_COMPLETE:
                return "ended";
            default:
                return a
            }
        };
        Object.defineProperty(b, "volume", {
            get: function() {
                return this.audio ? this.audio._getVolume() : 0
            },
            set: function(a) {
                var b = this.audio;
                b && b._setVolume(Math.max(0, Math.min(a, 1)))
            },
            enumerable: !0,
            configurable: !0
        });
        b.setVolume = function(a) {
            c.$warn(1031);
            this.volume = a
        };
        b.getVolume = function() {
            c.$warn(1032);
            return this.volume
        };
        b.preload = function(a, b, c) {
            void 0 === b && (b = null);
            void 0 === c && (c = null);
            this.type = a;
            this.audio._preload(a, b, c)
        };
        b._setAudio = function(a) {
            this.audio = a
        };
        b.destroy = function() {
            this.audio._destroy()
        };
        d.MUSIC = "music";
        d.EFFECT = "effect";
        return d
    } (c.EventDispatcher);
    c.Sound = g;
    g.prototype.__class__ = "egret.Sound"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function c() {}
        c.isNumber = function(c) {
            return "number" === typeof c && !isNaN(c)
        };
        c.sin = function(d) {
            var b = Math.floor(d),
            a = b + 1,
            e = c.sinInt(b),
            h = c.sinInt(a);
            return (d - b) * h + (a - d) * e
        };
        c.sinInt = function(c) {
            c %= 360;
            0 > c && (c += 360);
            return 90 > c ? egret_sin_map[c] : 180 > c ? egret_cos_map[c - 90] : 270 > c ? -egret_sin_map[c - 180] : -egret_cos_map[c - 270]
        };
        c.cos = function(d) {
            var b = Math.floor(d),
            a = b + 1,
            e = c.cosInt(b),
            h = c.cosInt(a);
            return (d - b) * h + (a - d) * e
        };
        c.cosInt = function(c) {
            c %= 360;
            0 > c && (c += 360);
            return 90 > c ? egret_cos_map[c] : 180 > c ? -egret_sin_map[c - 90] : 270 > c ? -egret_cos_map[c - 180] : egret_sin_map[c - 270]
        };
        return c
    } ();
    c.NumberUtils = g;
    g.prototype.__class__ = "egret.NumberUtils"
})(egret || (egret = {}));
for (var egret_sin_map = {},
egret_cos_map = {},
NumberUtils_i = 0; 90 >= NumberUtils_i; NumberUtils_i++) egret_sin_map[NumberUtils_i] = Math.sin(NumberUtils_i * egret.Matrix.DEG_TO_RAD),
egret_cos_map[NumberUtils_i] = Math.cos(NumberUtils_i * egret.Matrix.DEG_TO_RAD);
Function.prototype.bind || (Function.prototype.bind = function(c) {
    "function" !== typeof this && egret.$error(1029);
    var g = Array.prototype.slice.call(arguments, 1),
    f = this,
    d = function() {},
    b = function() {
        return f.apply(this instanceof d && c ? this: c, g.concat(Array.prototype.slice.call(arguments)))
    };
    d.prototype = this.prototype;
    b.prototype = new d;
    return b
}); (function(c) {
    var g = function() {
        function f() {
            this.downloadingSizeThisObject = this.downloadingSizeFunc = this.onErrorThisObject = this.onErrorFunc = this.onSuccessThisObject = this.onSuccessFunc = null
        }
        var d = f.prototype;
        f.create = function() {
            return f.promiseObjectList.length ? f.promiseObjectList.pop() : new c.PromiseObject
        };
        d.onSuccess = function() {
            for (var b = [], a = 0; a < arguments.length; a++) b[a - 0] = arguments[a];
            this.onSuccessFunc && this.onSuccessFunc.apply(this.onSuccessThisObject, b);
            this.destroy()
        };
        d.onError = function() {
            for (var b = [], a = 0; a < arguments.length; a++) b[a - 0] = arguments[a];
            this.onErrorFunc && this.onErrorFunc.apply(this.onErrorThisObject, b);
            this.destroy()
        };
        d.downloadingSize = function() {
            for (var b = [], a = 0; a < arguments.length; a++) b[a - 0] = arguments[a];
            this.downloadingSizeFunc && this.downloadingSizeFunc.apply(this.downloadingSizeThisObject, b)
        };
        d.destroy = function() {
            this.downloadingSizeThisObject = this.downloadingSizeFunc = this.onErrorThisObject = this.onErrorFunc = this.onSuccessThisObject = this.onSuccessFunc = void 0;
            f.promiseObjectList.push(this)
        };
        f.promiseObjectList = [];
        return f
    } ();
    c.PromiseObject = g;
    g.prototype.__class__ = "egret.PromiseObject"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d(a) {
            void 0 === a && (a = 60);
            f.call(this);
            this.frameRate = a;
            this._time = 0;
            this._requestAnimationId = NaN;
            this._isActivate = !0;
            d.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;
            d.cancelAnimationFrame = window.cancelAnimationFrame || window.msCancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.oCancelAnimationFrame || window.cancelRequestAnimationFrame || window.msCancelRequestAnimationFrame || window.mozCancelRequestAnimationFrame || window.oCancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame;
            d.requestAnimationFrame || (d.requestAnimationFrame = function(b) {
                return window.setTimeout(b, 1E3 / a)
            });
            d.cancelAnimationFrame || (d.cancelAnimationFrame = function(a) {
                return window.clearTimeout(a)
            });
            d.instance = this;
            this.registerListener()
        }
        __extends(d, f);
        var b = d.prototype;
        b.setFrameRate = function(a) {
            0 == 60 % a && (d.countTime = 60 / a - 1)
        };
        b.enterFrame = function() {
            var a = d.instance,
            b = d._thisObject,
            h = d._callback,
            f = c.getTimer(),
            g = f - a._time;
            a._requestAnimationId = d.requestAnimationFrame.call(window, d.prototype.enterFrame);
            d.count < d.countTime ? d.count++:(d.count = 0, h.call(b, g), a._time = f)
        };
        b.executeMainLoop = function(a, b) {
            d._callback = a;
            d._thisObject = b;
            this.enterFrame()
        };
        b.reset = function() {
            var a = d.instance;
            a._requestAnimationId && (a._time = c.getTimer(), d.cancelAnimationFrame.call(window, a._requestAnimationId), a.enterFrame())
        };
        b.registerListener = function() {
            var a = this,
            b = function() {
                a._isActivate && (a._isActivate = !1, c.MainContext.instance.stage.dispatchEvent(new c.Event(c.Event.DEACTIVATE)))
            },
            h = function() {
                a._isActivate || (a._isActivate = !0, d.instance.reset(), c.MainContext.instance.stage.dispatchEvent(new c.Event(c.Event.ACTIVATE)))
            },
            f = function() {
                document[g] ? b() : h()
            };
            window.addEventListener("focus", h, !1);
            window.addEventListener("blur", b, !1);
            var g, p;
            "undefined" !== typeof document.hidden ? (g = "hidden", p = "visibilitychange") : "undefined" !== typeof document.mozHidden ? (g = "mozHidden", p = "mozvisibilitychange") : "undefined" !== typeof document.msHidden ? (g = "msHidden", p = "msvisibilitychange") : "undefined" !== typeof document.webkitHidden ? (g = "webkitHidden", p = "webkitvisibilitychange") : "undefined" !== typeof document.oHidden && (g = "oHidden", p = "ovisibilitychange");
            "onpageshow" in window && "onpagehide" in window && (window.addEventListener("pageshow", h, !1), window.addEventListener("pagehide", b, !1));
            g && p && document.addEventListener(p, f, !1);
            f = navigator.userAgent;
            p = /micromessenger/gi.test(f);
            var k = /mqq/ig.test(f);
            if (/mobile.*qq/gi.test(f) || p) k = !1;
            k && (f = window.browser || {},
            f.execWebFn = f.execWebFn || {},
            f.execWebFn.postX5GamePlayerMessage = function(a) {
                a = a.type;
                "app_enter_background" == a ? b() : "app_enter_foreground" == a && h()
            },
            window.browser = f)
        };
        d.instance = null;
        d.countTime = 0;
        d.requestAnimationFrame = null;
        d.cancelAnimationFrame = null;
        d._thisObject = null;
        d._callback = null;
        d.count = 0;
        return d
    } (c.DeviceContext);
    c.HTML5DeviceContext = g;
    g.prototype.__class__ = "egret.HTML5DeviceContext"
})(egret || (egret = {}));
var egret_html5_localStorage; (function(c) {
    c.getItem = function(c) {
        return window.localStorage.getItem(c)
    };
    c.setItem = function(c, f) {
        try {
            return window.localStorage.setItem(c, f),
            !0
        } catch(d) {
            return egret.$warn(1018, c, f),
            !1
        }
    };
    c.removeItem = function(c) {
        window.localStorage.removeItem(c)
    };
    c.clear = function() {
        window.localStorage.clear()
    };
    c.init = function() {
        for (var g in c) egret.localStorage[g] = c[g]
    }
})(egret_html5_localStorage || (egret_html5_localStorage = {}));
egret_html5_localStorage.init(); (function(c) {
    var g = function(f) {
        function d(a, b) {
            void 0 === b && (b = !0);
            f.call(this);
            this.useCacheCanvas = b;
            c.Texture.prototype.draw = c.Texture.prototype._drawForCanvas;
            c.Texture.prototype.dispose = c.Texture.prototype._disposeForCanvas;
            this.canvas = a || this.createCanvas();
            this.canvasContext = this.canvas.getContext("2d");
            b ? (this._cacheCanvas = document.createElement("canvas"), this._cacheCanvas.width = this.canvas.width, this._cacheCanvas.height = this.canvas.height, this.drawCanvasContext = this._cacheCanvasContext = this._cacheCanvas.getContext("2d")) : this.drawCanvasContext = this.canvasContext;
            var d = this.drawCanvasContext;
            if (void 0 == d.imageSmoothingEnabled) {
                for (var g = ["webkitImageSmoothingEnabled", "mozImageSmoothingEnabled", "msImageSmoothingEnabled"], u = 0; u < g.length; u++) {
                    var p = g[u];
                    if (void 0 != d[p]) break
                }
                Object.defineProperty(d, "imageSmoothingEnabled", {
                    get: function() {
                        return this[p]
                    },
                    set: function(a) {
                        this[p] = a
                    },
                    enumerable: !0,
                    configurable: !0
                })
            }
            this.onResize();
            var k = this.drawCanvasContext.setTransform,
            l = this;
            this.drawCanvasContext.setTransform = function(a, b, c, e, d, h) {
                l._matrixA = a;
                l._matrixB = b;
                l._matrixC = c;
                l._matrixD = e;
                l._matrixTx = d;
                l._matrixTy = h;
                k.call(l.drawCanvasContext, a, b, c, e, d, h)
            };
            this._matrixA = 1;
            this._matrixC = this._matrixB = 0;
            this._matrixD = 1;
            this._transformTy = this._transformTx = this._matrixTy = this._matrixTx = 0;
            this.initBlendMode()
        }
        __extends(d, f);
        var b = d.prototype;
        b.createCanvas = function() {
            var a = c.Browser.getInstance().$("#egretCanvas");
            if (!a) {
                var b = document.getElementById(c.StageDelegate.canvas_div_name),
                a = c.Browser.getInstance().$new("canvas");
                a.id = "egretCanvas";
                b.appendChild(a)
            }
            c.MainContext.instance.stage.addEventListener(c.Event.RESIZE, this.onResize, this);
            return a
        };
        b.onResize = function() {
            if (this.canvas) {
                var a = document.getElementById(c.StageDelegate.canvas_div_name);
                this.canvas.width = c.MainContext.instance.stage.stageWidth;
                this.canvas.height = c.MainContext.instance.stage.stageHeight;
                this.canvas.style.width = a.style.width;
                this.canvas.style.height = a.style.height;
                this.useCacheCanvas && (this._cacheCanvas.width = this.canvas.width, this._cacheCanvas.height = this.canvas.height);
                this.drawCanvasContext.imageSmoothingEnabled = c.RendererContext.imageSmoothingEnabled
            }
        };
        b.clearScreen = function() {
            for (var a = c.RenderFilter.getInstance().getDrawAreaList(), b = 0, d = a.length; b < d; b++) {
                var f = a[b];
                this.clearRect(f.x, f.y, f.width, f.height)
            }
            a = c.MainContext.instance.stage;
            this.useCacheCanvas && this._cacheCanvasContext.clearRect(0, 0, a.stageWidth, a.stageHeight);
            this.renderCost = 0
        };
        b.clearRect = function(a, b, c, d) {
            this.canvasContext.clearRect(a, b, c, d)
        };
        b.drawImage = function(a, b, d, g, u, p, k, l, m, n) {
            void 0 === n && (n = void 0);
            p += this._transformTx;
            k += this._transformTy;
            var q = c.getTimer();
            a.draw(this.drawCanvasContext, b, d, g, u, p, k, l, m, n);
            f.prototype.drawImage.call(this, a, b, d, g, u, p, k, l, m, n);
            this.renderCost += c.getTimer() - q
        };
        b.setTransform = function(a) {
            1 == a.a && 0 == a.b && 0 == a.c && 1 == a.d && 1 == this._matrixA && 0 == this._matrixB && 0 == this._matrixC && 1 == this._matrixD ? (this._transformTx = a.tx - this._matrixTx, this._transformTy = a.ty - this._matrixTy) : (this._transformTx = this._transformTy = 0, this._matrixA == a.a && this._matrixB == a.b && this._matrixC == a.c && this._matrixD == a.d && this._matrixTx == a.tx && this._matrixTy == a.ty || this.drawCanvasContext.setTransform(a.a, a.b, a.c, a.d, a.tx, a.ty))
        };
        b.setAlpha = function(a, b) {
            this.drawCanvasContext.globalAlpha = a;
            b ? (this.blendValue = this.blendModes[b], this.drawCanvasContext.globalCompositeOperation = this.blendValue) : this.blendValue != c.BlendMode.NORMAL && (this.blendValue = this.blendModes[c.BlendMode.NORMAL], this.drawCanvasContext.globalCompositeOperation = this.blendValue)
        };
        b.initBlendMode = function() {
            this.blendModes = {};
            this.blendModes[c.BlendMode.NORMAL] = "source-over";
            this.blendModes[c.BlendMode.ADD] = "lighter";
            this.blendModes[c.BlendMode.ERASE] = "destination-out";
            this.blendModes[c.BlendMode.ERASE_REVERSE] = "destination-in"
        };
        b.setupFont = function(a, b) {
            void 0 === b && (b = null);
            b = b || {};
            var c = a._TF_Props_,
            d = null == b.size ? c._size: b.size,
            f = null == b.fontFamily ? c._fontFamily: b.fontFamily,
            g = this.drawCanvasContext,
            k = (null == b.italic ? c._italic: b.italic) ? "italic ": "normal ",
            k = k + ((null == b.bold ? c._bold: b.bold) ? "bold ": "normal ");
            g.font = k + (d + "px " + f);
            g.textAlign = "left";
            g.textBaseline = "middle"
        };
        b.measureText = function(a) {
            return this.drawCanvasContext.measureText(a).width
        };
        b.drawText = function(a, b, d, g, u, p) {
            void 0 === p && (p = null);
            this.setupFont(a, p);
            p = p || {};
            var k = a._TF_Props_,
            l;
            l = null != p.textColor ? c.toColorString(p.textColor) : k._textColorString;
            var m;
            m = null != p.strokeColor ? c.toColorString(p.strokeColor) : k._strokeColorString;
            var k = null != p.stroke ? p.stroke: k._stroke,
            n = this.drawCanvasContext;
            n.fillStyle = l;
            n.strokeStyle = m;
            k && (n.lineWidth = 2 * k, n.strokeText(b, d + this._transformTx, g + this._transformTy, u || 65535));
            n.fillText(b, d + this._transformTx, g + this._transformTy, u || 65535);
            f.prototype.drawText.call(this, a, b, d, g, u, p)
        };
        b.strokeRect = function(a, b, c, d, f) {
            this.drawCanvasContext.strokeStyle = f;
            this.drawCanvasContext.strokeRect(a, b, c, d)
        };
        b.pushMask = function(a) {
            this.drawCanvasContext.save();
            this.drawCanvasContext.beginPath();
            this.drawCanvasContext.rect(a.x + this._transformTx, a.y + this._transformTy, a.width, a.height);
            this.drawCanvasContext.clip();
            this.drawCanvasContext.closePath()
        };
        b.popMask = function() {
            this.drawCanvasContext.restore();
            this.drawCanvasContext.setTransform(1, 0, 0, 1, 0, 0)
        };
        b.onRenderStart = function() {
            this.drawCanvasContext.save()
        };
        b.onRenderFinish = function() {
            this.drawCanvasContext.restore();
            this.drawCanvasContext.setTransform(1, 0, 0, 1, 0, 0);
            if (this.useCacheCanvas) for (var a = this._cacheCanvas.width,
            b = this._cacheCanvas.height,
            d = c.RenderFilter.getInstance().getDrawAreaList(), f = 0, g = d.length; f < g; f++) {
                var p = d[f],
                k = p.x,
                l = p.y,
                m = p.width,
                p = p.height;
                k + m > a && (m = a - k);
                l + p > b && (p = b - l);
                0 < m && 0 < p && this.canvasContext.drawImage(this._cacheCanvas, k, l, m, p, k, l, m, p)
            }
        };
        b.drawCursor = function(a, b, c, d) {
            this.drawCanvasContext.strokeStyle = "#40a5ff";
            this.drawCanvasContext.lineWidth = 2;
            this.drawCanvasContext.beginPath();
            this.drawCanvasContext.moveTo(Math.round(a + this._transformTx), Math.round(b + this._transformTy));
            this.drawCanvasContext.lineTo(Math.round(c + this._transformTx), Math.round(d + this._transformTy));
            this.drawCanvasContext.closePath();
            this.drawCanvasContext.stroke()
        };
        b.createLinearGradient = function(a, b, c, d) {
            return this.drawCanvasContext.createLinearGradient(a, b, c, d)
        };
        b.createRadialGradient = function(a, b, c, d, f, g) {
            return this.drawCanvasContext.createRadialGradient(a, b, c, d, f, g)
        };
        return d
    } (c.RendererContext);
    c.HTML5CanvasRenderer = g;
    g.prototype.__class__ = "egret.HTML5CanvasRenderer"
})(egret || (egret = {}));
egret.RendererContext.createRendererContext = function(c) {
    return new egret.HTML5CanvasRenderer(c, !1)
};
egret.Graphics.prototype._beginDraw = function(c) {
    this._renderContext = c.drawCanvasContext;
    var g = c._transformTx;
    c = c._transformTy;
    0 == g && 0 == c || this._renderContext.translate(g, c)
};
egret.Graphics.prototype._endDraw = function(c) {
    this._renderContext = c.drawCanvasContext;
    var g = c._transformTx;
    c = c._transformTy;
    0 == g && 0 == c || this._renderContext.translate( - g, -c)
};
var originCanvas2DFill = CanvasRenderingContext2D.prototype.fill;
CanvasRenderingContext2D.prototype.fill = function() {
    var c = this.fillStyle;
    "string" != typeof c ? (c = c.matrix) ? (this.transform(c.a, c.b, c.c, c.d, c.tx, c.ty), originCanvas2DFill.call(this), c = egret.MainContext.instance.rendererContext, c._transformTx = c._transformTy = 0, this.setTransform(c._matrixA, c._matrixB, c._matrixC, c._matrixD, c._matrixTx, c._matrixTy)) : originCanvas2DFill.call(this) : originCanvas2DFill.call(this)
}; (function(c) {
    var g = function(f) {
        function d(a) {
            f.call(this);
            this.glID = this.gl = this.canvas = null;
            this.size = 2E3;
            this.vertices = null;
            this.vertSize = 5;
            this.indices = null;
            this.projectionY = this.projectionX = NaN;
            this.shaderManager = null;
            this.contextLost = !1;
            this.glContextId = 0;
            this.currentBlendMode = "";
            this.currentBaseTexture = null;
            this.currentBatchSize = 0;
            this.worldTransform = null;
            this.worldAlpha = 1;
            this.maskList = [];
            this.maskDataFreeList = [];
            this.graphicsIndexBuffer = this.graphicsBuffer = this.graphicsIndices = this.graphicsPoints = this.filterType = this.colorTransformMatrix = null;
            this.graphicsStyle = {};
            c.Texture.prototype.dispose = c.Texture.prototype._disposeForCanvas;
            this.canvas = a || this.createCanvas();
            this.canvas.addEventListener("webglcontextlost", this.handleContextLost.bind(this), !1);
            this.canvas.addEventListener("webglcontextrestored", this.handleContextRestored.bind(this), !1);
            this.html5Canvas = document.createElement("canvas");
            this.canvasContext = new c.HTML5CanvasRenderer(this.html5Canvas);
            this.onResize();
            this.projectionX = this.canvas.width / 2;
            this.projectionY = -this.canvas.height / 2;
            a = 6 * this.size;
            this.vertices = new Float32Array(4 * this.size * this.vertSize);
            this.indices = new Uint16Array(a);
            for (var b = 0,
            d = 0; b < a; b += 6, d += 4) this.indices[b + 0] = d + 0,
            this.indices[b + 1] = d + 1,
            this.indices[b + 2] = d + 2,
            this.indices[b + 3] = d + 0,
            this.indices[b + 4] = d + 2,
            this.indices[b + 5] = d + 3;
            this.initWebGL();
            this.shaderManager = new c.WebGLShaderManager(this.gl);
            this.worldTransform = new c.Matrix;
            this.initAll()
        }
        __extends(d, f);
        var b = d.prototype;
        b.onRenderFinish = function() {
            this._drawWebGL()
        };
        d.initWebGLCanvas = function() {
            c.RenderTexture.WebGLCanvas || (c.RenderTexture.WebGLCanvas = document.createElement("canvas"), c.RenderTexture.WebGLCanvas.avaliable = !0, c.RenderTexture.WebGLRenderer = new c.WebGLRenderer(c.RenderTexture.WebGLCanvas), c.RenderTexture.WebGLRenderer.setAlpha(1))
        };
        b.initAll = function() {
            d.isInit || (d.isInit = !0, egret_webgl_graphics.init(), c.TextField.prototype._makeBitmapCache = function() {
                this.renderTexture || (this.renderTexture = new c.RenderTexture);
                var a = this.getBounds(c.Rectangle.identity);
                if (0 == a.width || 0 == a.height) return this._texture_to_render = null,
                !1;
                this._bitmapData || (this._bitmapData = document.createElement("canvas"), this._bitmapData.avaliable = !0, this.renderContext = c.RendererContext.createRendererContext(this._bitmapData));
                var b = this._bitmapData,
                d = a.width,
                a = a.height,
                f, g, p = c.MainContext.instance.rendererContext._texture_scale_factor;
                f = d / p;
                g = a / p;
                f = Math.round(f);
                g = Math.round(g);
                b.width = f;
                b.height = g;
                b.style.width = f + "px";
                b.style.height = g + "px";
                this.renderContext._cacheCanvas && (this.renderContext._cacheCanvas.width = f, this.renderContext._cacheCanvas.height = g);
                this._worldTransform.identity();
                this._worldTransform.a = 1 / p;
                this._worldTransform.d = 1 / p;
                this.renderContext.setTransform(this._worldTransform);
                this.worldAlpha = 1;
                b = c.RenderFilter.getInstance();
                p = b._drawAreaList.concat();
                b._drawAreaList.length = 0;
                this.renderContext.clearScreen();
                this.renderContext.onRenderStart();
                c.Texture.deleteWebGLTexture(this.renderTexture);
                this.renderTexture.dispose();
                this._hasFilters() && this._setGlobalFilters(this.renderContext);
                var k = this.mask || this._DO_Props_._scrollRect;
                k && this.renderContext.pushMask(k);
                this._render(this.renderContext);
                k && this.renderContext.popMask();
                this._hasFilters() && this._removeGlobalFilters(this.renderContext);
                c.RenderTexture.identityRectangle.width = f;
                c.RenderTexture.identityRectangle.height = g;
                b.addDrawArea(c.RenderTexture.identityRectangle);
                this.renderContext.onRenderFinish();
                b._drawAreaList = p;
                this.renderTexture._bitmapData = this._bitmapData;
                this.renderTexture._sourceWidth = f;
                this.renderTexture._sourceHeight = g;
                this.renderTexture._textureWidth = d;
                this.renderTexture._textureHeight = a;
                this._texture_to_render = this.renderTexture;
                return ! 0
            },
            c.TextField.prototype._draw = function(a) {
                this._TF_Props_._type == c.TextFieldType.INPUT && this._isTyping || (this.getDirty() && (this._texture_to_render = this.renderTexture, this._DO_Props_._cacheAsBitmap = !0), c.DisplayObject.prototype._draw.call(this, a))
            },
            c.RenderTexture.prototype.init = function() {
                this._bitmapData = document.createElement("canvas");
                this._bitmapData.avaliable = !0;
                this.canvasContext = this._bitmapData.getContext("2d");
                d.initWebGLCanvas();
                this._webglBitmapData = c.RenderTexture.WebGLCanvas;
                this.renderContext = c.RenderTexture.WebGLRenderer
            },
            c.RenderTexture.prototype.setSize = function(a, b) {
                this._webglBitmapData && this.renderContext.setSize(a, b);
                if (this._bitmapData) {
                    var c = this._bitmapData;
                    c.width = a;
                    c.height = b;
                    c.style.width = a + "px";
                    c.style.height = b + "px"
                }
            },
            c.RenderTexture.prototype.end = function() {},
            c.RenderTexture.prototype.drawToTexture = function(a, b, d) {
                var f = b || a.getBounds(c.Rectangle.identity);
                if (0 == f.width || 0 == f.height) return ! 1;
                "undefined" == typeof d && (d = 1);
                this._bitmapData || this.init();
                var g = f.x,
                p = f.y,
                k = f.width,
                f = f.height,
                f = f / d,
                l = c.MainContext.instance.rendererContext._texture_scale_factor,
                k = Math.round(k / d),
                f = Math.round(f);
                this.setSize(k, f);
                var m = this._bitmapData,
                n = k / l * d,
                q = f / l * d;
                m.width = n;
                m.height = q;
                m.style.width = n + "px";
                m.style.height = q + "px";
                this.begin();
                a._worldTransform.identity();
                m = a._DO_Props_._anchorOffsetX;
                n = a._DO_Props_._anchorOffsetY;
                if (0 != a._DO_Props_._anchorX || 0 != a._DO_Props_._anchorY) m = a._DO_Props_._anchorX * k,
                n = a._DO_Props_._anchorY * f;
                this._offsetX = g + m;
                this._offsetY = p + n;
                a._worldTransform.append(1, 0, 0, 1, -this._offsetX, -this._offsetY);
                b && (this._offsetX -= g, this._offsetY -= p);
                a.worldAlpha = 1;
                b = c.MainContext.__use_new_draw;
                c.MainContext.__use_new_draw = !1;
                if (a instanceof c.DisplayObjectContainer) for (g = a._children, p = 0, m = g.length; p < m; p++) g[p]._updateTransform();
                this.renderContext.setTransform(a._worldTransform);
                g = c.RenderFilter.getInstance();
                p = g._drawAreaList.concat();
                g._drawAreaList.length = 0;
                m = this.renderContext.gl;
                m.viewport(0, 0, k, f);
                m.bindFramebuffer(m.FRAMEBUFFER, null);
                m.clearColor(0, 0, 0, 0);
                m.clear(m.COLOR_BUFFER_BIT);
                this.renderContext.onRenderStart();
                c.Texture.deleteWebGLTexture(this);
                a._hasFilters() && a._setGlobalFilters(this.renderContext); (m = a.mask || a._DO_Props_._scrollRect) && this.renderContext.pushMask(m);
                a._render(this.renderContext);
                this.renderContext._drawWebGL();
                c.MainContext.__use_new_draw = b;
                m && this.renderContext.popMask();
                a._hasFilters() && a._removeGlobalFilters(this.renderContext);
                c.RenderTexture.identityRectangle.width = k;
                c.RenderTexture.identityRectangle.height = f;
                g.addDrawArea(c.RenderTexture.identityRectangle);
                this.renderContext.onRenderFinish();
                g._drawAreaList = p;
                this._sourceWidth = k / l * d;
                this._sourceHeight = f / l * d;
                this._textureWidth = k * d;
                this._textureHeight = f * d;
                this.canvasContext.drawImage(this._webglBitmapData, 0, 0, k, f, 0, 0, this._sourceWidth, this._sourceHeight);
                return ! 0
            })
        };
        b.createCanvas = function() {
            var a = c.Browser.getInstance().$("#egretCanvas");
            if (!a) {
                var b = document.getElementById(c.StageDelegate.canvas_div_name),
                a = c.Browser.getInstance().$new("canvas");
                a.id = "egretCanvas";
                b.appendChild(a)
            }
            c.MainContext.instance.stage.addEventListener(c.Event.RESIZE, this.onResize, this);
            return a
        };
        b.onResize = function() {
            this.setSize(c.MainContext.instance.stage.stageWidth, c.MainContext.instance.stage.stageHeight)
        };
        b.setSize = function(a, b) {
            var d = document.getElementById(c.StageDelegate.canvas_div_name);
            this.canvas && (this.canvas.width = a, this.canvas.height = b, this.canvas.style.width = d.style.width, this.canvas.style.height = d.style.height, this.projectionX = this.canvas.width / 2, this.projectionY = -this.canvas.height / 2);
            this.html5Canvas && (this.html5Canvas.width = a, this.html5Canvas.height = b, this.html5Canvas.style.width = d.style.width, this.html5Canvas.style.height = d.style.height);
            this.width = a;
            this.height = b
        };
        b.handleContextLost = function() {
            this.contextLost = !0
        };
        b.handleContextRestored = function() {
            this.initWebGL();
            this.shaderManager.setContext(this.gl);
            this.contextLost = !1
        };
        b.initWebGL = function() {
            for (var a = {},
            b, f = ["experimental-webgl", "webgl"], g = 0; g < f.length; g++) {
                try {
                    b = this.canvas.getContext(f[g], a)
                } catch(u) {}
                if (b) break
            }
            b || c.$error(1021);
            d.glID++;
            this.glID = d.glID;
            this.setContext(b)
        };
        b.setContext = function(a) {
            this.gl = a;
            a.id = this.glContextId++;
            this.vertexBuffer = a.createBuffer();
            this.indexBuffer = a.createBuffer();
            a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
            a.bufferData(a.ELEMENT_ARRAY_BUFFER, this.indices, a.STATIC_DRAW);
            a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
            a.bufferData(a.ARRAY_BUFFER, this.vertices, a.DYNAMIC_DRAW);
            a.disable(a.DEPTH_TEST);
            a.disable(a.CULL_FACE);
            a.enable(a.BLEND);
            a.colorMask(!0, !0, !0, !0)
        };
        b.start = function() {
            if (!this.contextLost) {
                var a = this.gl;
                a.activeTexture(a.TEXTURE0);
                a.bindBuffer(a.ARRAY_BUFFER, this.vertexBuffer);
                a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                var b;
                b = "colorTransform" == this.filterType ? this.shaderManager.colorTransformShader: "blur" == this.filterType ? this.shaderManager.blurShader: this.shaderManager.defaultShader;
                this.shaderManager.activateShader(b);
                b.syncUniforms();
                a.uniform2f(b.projectionVector, this.projectionX, this.projectionY);
                var c = 4 * this.vertSize;
                a.vertexAttribPointer(b.aVertexPosition, 2, a.FLOAT, !1, c, 0);
                a.vertexAttribPointer(b.aTextureCoord, 2, a.FLOAT, !1, c, 8);
                a.vertexAttribPointer(b.colorAttribute, 2, a.FLOAT, !1, c, 16)
            }
        };
        b.clearScreen = function() {
            var a = this.gl;
            a.colorMask(!0, !0, !0, !0);
            for (var b = c.RenderFilter.getInstance().getDrawAreaList(), d = 0, f = b.length; d < f; d++) {
                var g = b[d];
                a.viewport(g.x, g.y, g.width, g.height);
                a.bindFramebuffer(a.FRAMEBUFFER, null);
                a.clearColor(0, 0, 0, 0);
                a.clear(a.COLOR_BUFFER_BIT)
            }
            a.viewport(0, 0, this.width, this.height);
            this.renderCost = 0
        };
        b.setBlendMode = function(a) {
            a || (a = c.BlendMode.NORMAL);
            if (this.currentBlendMode != a) {
                var b = c.RendererContext.blendModesForGL[a];
                b && (this._drawWebGL(), this.gl.blendFunc(b[0], b[1]), this.currentBlendMode = a)
            }
        };
        b.drawRepeatImage = function(a, b, d, f, g, p, k, l, m, n) {
            n = c.MainContext.instance.rendererContext._texture_scale_factor;
            f *= n;
            for (g *= n; p < l; p += f) for (var q = k; q < m; q += g) {
                var s = Math.min(f, l - p),
                r = Math.min(g, m - q);
                this.drawImage(a, b, d, s / n, r / n, p, q, s, r)
            }
        };
        b.drawImage = function(a, b, c, d, f, g, k, l, m, n) {
            void 0 === n && (n = void 0);
            if (!this.contextLost) {
                var q = a._bitmapData;
                if (q && q.avaliable) if (void 0 !== n) this.drawRepeatImage(a, b, c, d, f, g, k, l, m, n);
                else {
                    if (this.filters) for (n = 0; 1 > n; n++) if ("glow" == this.filters[0].type) {
                        this.useGlow(a, b, c, d, f, g, k, l, m);
                        return
                    }
                    this._drawImage(a, b, c, d, f, g, k, l, m)
                }
            }
        };
        b._drawImage = function(a, b, c, d, f, g, k, l, m) {
            this.createWebGLTexture(a);
            var n = a._bitmapData.webGLTexture[this.glID];
            if (n !== this.currentBaseTexture || this.currentBatchSize >= this.size - 1) this._drawWebGL(),
            this.currentBaseTexture = n;
            var q = this.worldTransform,
            s = q.a,
            r = q.b,
            x = q.c,
            z = q.d,
            w = q.tx,
            y = q.ty;
            0 == g && 0 == k || q.append(1, 0, 0, 1, g, k);
            1 == d / l && 1 == f / m || q.append(l / d, 0, 0, m / f, 0, 0);
            g = q.a;
            k = q.b;
            l = q.c;
            m = q.d;
            var n = q.tx,
            v = q.ty;
            q.a = s;
            q.b = r;
            q.c = x;
            q.d = z;
            q.tx = w;
            q.ty = y;
            s = a._sourceWidth;
            r = a._sourceHeight;
            a = d;
            q = f;
            b /= s;
            c /= r;
            d /= s;
            f /= r;
            s = this.vertices;
            r = 4 * this.currentBatchSize * this.vertSize;
            x = this.worldAlpha;
            s[r++] = n;
            s[r++] = v;
            s[r++] = b;
            s[r++] = c;
            s[r++] = x;
            s[r++] = g * a + n;
            s[r++] = k * a + v;
            s[r++] = d + b;
            s[r++] = c;
            s[r++] = x;
            s[r++] = g * a + l * q + n;
            s[r++] = m * q + k * a + v;
            s[r++] = d + b;
            s[r++] = f + c;
            s[r++] = x;
            s[r++] = l * q + n;
            s[r++] = m * q + v;
            s[r++] = b;
            s[r++] = f + c;
            s[r++] = x;
            this.currentBatchSize++
        };
        b.useGlow = function(a, b, f, g, u, p, k, l, m) {
            var n = this.filters[0],
            q = n.distance || 0,
            s = n.angle || 0,
            r = 0,
            x = 0;
            0 != q && 0 != s && (r = Math.ceil(q * c.NumberUtils.cos(s)), x = Math.ceil(q * c.NumberUtils.sin(s)));
            var q = n.quality,
            s = n.blurX / 10,
            z = n.blurY / 10,
            w = l + 2 * s + 20 + Math.abs(r),
            y = m + 2 * z + 20 + Math.abs(x);
            d.initWebGLCanvas();
            var v = c.RenderTexture.WebGLRenderer,
            C = c.RenderTexture.WebGLCanvas,
            A = c.RenderTexture.create();
            A._bitmapData || A.init();
            A.setSize(w, y);
            A._sourceWidth = w;
            A._sourceHeight = y;
            var B = c.RenderTexture.create();
            B._bitmapData || B.init();
            B.setSize(w, y);
            B._sourceWidth = w;
            B._sourceHeight = y;
            v.clearScreen();
            v.filterType = "colorTransform";
            v.setGlobalColorTransform([0, 0, 0, 0, n._red, 0, 0, 0, 0, n._green, 0, 0, 0, 0, n._blue, 0, 0, 0, 0, 255 * n.alpha]);
            v.setAlpha(1, c.BlendMode.NORMAL);
            v.setTransform(new c.Matrix(1, 0, 0, 1, 0, 0));
            v.drawImage(a, b, f, g, u, s + 10, z + 10, l, m);
            v._drawWebGL();
            v.filterType = null;
            A.canvasContext.clearRect(0, 0, w, y);
            A.canvasContext.drawImage(C, 0, 0, w, y, 0, 0, w, y);
            v.clearScreen();
            v.setAlpha(1, c.BlendMode.NORMAL);
            v.setTransform(new c.Matrix(1, 0, 0, 1, 0, 0));
            v.filterType = "blur";
            v.setBlurData(s, 0);
            c.Texture.deleteWebGLTexture(A);
            v.drawImage(A, s, z, w - 2 * s, y - 2 * z, s, z, w - 2 * s, y - 2 * z);
            v._drawWebGL();
            v.filterType = null;
            B.canvasContext.clearRect(0, 0, w, y);
            B.canvasContext.drawImage(C, 0, 0, w, y, 0, 0, w, y);
            v.clearScreen();
            v.setAlpha(1, c.BlendMode.NORMAL);
            v.setTransform(new c.Matrix(1, 0, 0, 1, 0, 0));
            v.filterType = "blur";
            v.setBlurData(0, z);
            c.Texture.deleteWebGLTexture(B);
            v.drawImage(B, 0, z, w, y - 2 * z, 0, z + 5, w, y - 2 * z);
            v._drawWebGL();
            v.filterType = null;
            A.canvasContext.clearRect(0, 0, w, y);
            A.canvasContext.drawImage(C, 0, 0, w, y, 0, 0, w, y);
            v.clearScreen();
            v.setAlpha(1, c.BlendMode.NORMAL);
            v.setTransform(new c.Matrix(1, 0, 0, 1, 0, 0));
            c.Texture.deleteWebGLTexture(A);
            for (n = 0; n < q; n++) v.drawImage(A, 0, 0, w, y, r, x, w, y);
            v._drawWebGL();
            v.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
            v.currentBlendMode = null;
            v.drawImage(a, b, f, g, u, p + s + 10, k + z + 15, l, m);
            v._drawWebGL();
            B.canvasContext.clearRect(0, 0, w, y);
            B.canvasContext.drawImage(C, 0, 0, w, y, 0, 0, w, y);
            c.Texture.deleteWebGLTexture(B);
            this._drawImage(B, 0, 0, w, y, p - s - 10, k - z - 15, w, y);
            this._drawWebGL();
            c.RenderTexture.release(A);
            c.RenderTexture.release(B)
        };
        b._drawWebGL = function() {
            if (0 != this.currentBatchSize && !this.contextLost) {
                var a = c.getTimer();
                this.start();
                var b = this.gl;
                b.bindTexture(b.TEXTURE_2D, this.currentBaseTexture);
                var d = this.vertices.subarray(0, 4 * this.currentBatchSize * this.vertSize);
                b.bufferSubData(b.ARRAY_BUFFER, 0, d);
                b.drawElements(b.TRIANGLES, 6 * this.currentBatchSize, b.UNSIGNED_SHORT, 0);
                this.currentBatchSize = 0;
                this.renderCost += c.getTimer() - a;
                c.Profiler.getInstance().onDrawImage()
            }
        };
        b.setTransform = function(a) {
            var b = this.worldTransform;
            b.a = a.a;
            b.b = a.b;
            b.c = a.c;
            b.d = a.d;
            b.tx = a.tx;
            b.ty = a.ty
        };
        b.setAlpha = function(a, b) {
            this.worldAlpha = a;
            this.setBlendMode(b)
        };
        b.createWebGLTexture = function(a) {
            a = a._bitmapData;
            a.webGLTexture || (a.webGLTexture = {});
            if (!a.webGLTexture[this.glID]) {
                var b = this.gl;
                a.webGLTexture[this.glID] = b.createTexture();
                a.webGLTexture[this.glID].glContext = b;
                b.bindTexture(b.TEXTURE_2D, a.webGLTexture[this.glID]);
                b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL, !0);
                b.texImage2D(b.TEXTURE_2D, 0, b.RGBA, b.RGBA, b.UNSIGNED_BYTE, a);
                b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MAG_FILTER, b.LINEAR);
                b.texParameteri(b.TEXTURE_2D, b.TEXTURE_MIN_FILTER, b.LINEAR);
                b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_S, b.CLAMP_TO_EDGE);
                b.texParameteri(b.TEXTURE_2D, b.TEXTURE_WRAP_T, b.CLAMP_TO_EDGE);
                b.bindTexture(b.TEXTURE_2D, null)
            }
        };
        b.pushMask = function(a) {
            this._drawWebGL();
            var b = this.gl;
            0 == this.maskList.length && b.enable(b.SCISSOR_TEST);
            a = this.getScissorRect(a);
            this.maskList.push(a);
            this.scissor(a.x, a.y, a.width, a.height)
        };
        b.getScissorRect = function(a) {
            var b = this.maskList[this.maskList.length - 1],
            d,
            f,
            g;
            b ? b.intersects(b) ? (d = Math.max(a.x + this.worldTransform.tx, b.x), f = Math.max(a.y + this.worldTransform.ty, b.y), g = Math.min(a.x + this.worldTransform.tx + a.width, b.x + b.width) - d, a = Math.min(a.y + this.worldTransform.ty + a.height, b.y + b.height) - f) : a = g = f = d = 0 : (d = a.x + this.worldTransform.tx, f = a.y + this.worldTransform.ty, g = a.width, a = a.height); (b = this.maskDataFreeList.pop()) ? (b.x = d, b.y = f, b.width = g, b.height = a) : b = new c.Rectangle(d, f, g, a);
            return b
        };
        b.popMask = function() {
            this._drawWebGL();
            var a = this.gl,
            b = this.maskList.pop();
            this.maskDataFreeList.push(b);
            b = this.maskList.length;
            0 != b ? (b = this.maskList[b - 1], (0 < b.width || 0 < b.height) && this.scissor(b.x, b.y, b.width, b.height)) : a.disable(a.SCISSOR_TEST)
        };
        b.scissor = function(a, b, d, f) {
            var g = this.gl;
            0 > d && (d = 0);
            0 > f && (f = 0);
            g.scissor(a, -b + c.MainContext.instance.stage.stageHeight - f, d, f)
        };
        b.setGlobalColorTransform = function(a) {
            if (this.colorTransformMatrix != a && (this._drawWebGL(), this.colorTransformMatrix = a)) {
                a = a.concat();
                var b = this.shaderManager.colorTransformShader;
                b.uniforms.colorAdd.value.w = a.splice(19, 1)[0] / 255;
                b.uniforms.colorAdd.value.z = a.splice(14, 1)[0] / 255;
                b.uniforms.colorAdd.value.y = a.splice(9, 1)[0] / 255;
                b.uniforms.colorAdd.value.x = a.splice(4, 1)[0] / 255;
                b.uniforms.matrix.value = a
            }
        };
        b.setBlurData = function(a, b) {
            var c = this.shaderManager.blurShader;
            c.uniforms.blur.value.x = a;
            c.uniforms.blur.value.y = b
        };
        b.setGlobalFilters = function(a) {
            this._drawWebGL();
            this.setFilterProperties(a)
        };
        b.setFilterProperties = function(a) {
            if ((this.filters = a) && a.length) for (var b = 0; 1 > b; b++) {
                var c = a[b];
                this.filterType = c.type;
                switch (c.type) {
                case "blur":
                    this.setBlurData(c.blurX, c.blurY);
                    break;
                case "colorTransform":
                    this.setGlobalColorTransform(c._matrix)
                }
            } else this.filterType = null
        };
        b.setupFont = function(a, b) {
            void 0 === b && (b = null);
            this.canvasContext.setupFont(a, b)
        };
        b.measureText = function(a) {
            return this.canvasContext.measureText(a)
        };
        b.renderGraphics = function(a) {
            this._drawWebGL();
            var b = this.gl,
            c = this.shaderManager.primitiveShader;
            this.graphicsPoints ? (this.graphicsPoints.length = 0, this.graphicsIndices.length = 0) : (this.graphicsPoints = [], this.graphicsIndices = [], this.graphicsBuffer = b.createBuffer(), this.graphicsIndexBuffer = b.createBuffer());
            this.updateGraphics(a);
            this.shaderManager.activateShader(c);
            b.blendFunc(b.ONE, b.ONE_MINUS_SRC_ALPHA);
            b.uniformMatrix3fv(c.translationMatrix, !1, this.worldTransform.toArray(!0));
            b.uniform2f(c.projectionVector, this.projectionX, -this.projectionY);
            b.uniform2f(c.offsetVector, 0, 0);
            b.uniform3fv(c.tintColor, [1, 1, 1]);
            b.uniform1f(c.alpha, this.worldAlpha);
            b.bindBuffer(b.ARRAY_BUFFER, this.graphicsBuffer);
            b.vertexAttribPointer(c.aVertexPosition, 2, b.FLOAT, !1, 24, 0);
            b.vertexAttribPointer(c.colorAttribute, 4, b.FLOAT, !1, 24, 8);
            b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, this.graphicsIndexBuffer);
            b.drawElements(b.TRIANGLE_STRIP, this.graphicsIndices.length, b.UNSIGNED_SHORT, 0);
            this.shaderManager.activateShader(this.shaderManager.defaultShader)
        };
        b.updateGraphics = function(a) {
            var b = this.gl;
            this.buildRectangle(a);
            b.bindBuffer(b.ARRAY_BUFFER, this.graphicsBuffer);
            b.bufferData(b.ARRAY_BUFFER, new Float32Array(this.graphicsPoints), b.STATIC_DRAW);
            b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, this.graphicsIndexBuffer);
            b.bufferData(b.ELEMENT_ARRAY_BUFFER, new Uint16Array(this.graphicsIndices), b.STATIC_DRAW)
        };
        b.buildRectangle = function(a) {
            var b = a.x,
            c = a.y,
            d = a.w;
            a = a.h;
            var f = this.graphicsStyle.a,
            g = this.graphicsStyle.r * f,
            k = this.graphicsStyle.g * f,
            l = this.graphicsStyle.b * f,
            m = this.graphicsPoints,
            n = this.graphicsIndices,
            q = m.length / 6;
            m.push(b, c);
            m.push(g, k, l, f);
            m.push(b + d, c);
            m.push(g, k, l, f);
            m.push(b, c + a);
            m.push(g, k, l, f);
            m.push(b + d, c + a);
            m.push(g, k, l, f);
            n.push(q, q, q + 1, q + 2, q + 3, q + 3)
        };
        b.setGraphicsStyle = function(a, b, c, d) {
            this.graphicsStyle.r = a;
            this.graphicsStyle.g = b;
            this.graphicsStyle.b = c;
            this.graphicsStyle.a = d
        };
        d.glID = 0;
        d.isInit = !1;
        return d
    } (c.RendererContext);
    c.WebGLRenderer = g;
    g.prototype.__class__ = "egret.WebGLRenderer"
})(egret || (egret = {}));
var egret_webgl_graphics; (function(c) {
    c.beginFill = function(c, d) {
        void 0 === d && (d = 1);
        this._pushCommand(new g(this._setStyle, this, [(c >> 16) / 255, ((c & 65280) >> 8) / 255, (c & 255) / 255, d]))
    };
    c.beginGradientFill = function(c, d, b, a, e) {};
    c.drawRect = function(c, d, b, a) {
        this._pushCommand(new g(function(a) {
            this.renderContext.renderGraphics(a)
        },
        this, [{
            x: c,
            y: d,
            w: b,
            h: a
        }]));
        this._checkRect(c, d, b, a)
    };
    c.drawCircle = function(c, d, b) {};
    c.drawRoundRect = function(c, d, b, a, e, h) {};
    c.drawEllipse = function(c, d, b, a) {};
    c.lineStyle = function(c, d, b, a, e, h, g, u) {};
    c.lineTo = function(c, d) {};
    c.curveTo = function(c, d, b, a) {};
    c.cubicCurveTo = function(c, d, b, a, e, h) {};
    c.moveTo = function(c, d) {};
    c.clear = function() {
        this._maxY = this._maxX = this._minY = this._minX = this.commandQueue.length = 0
    };
    c.endFill = function() {};
    c._pushCommand = function(c) {
        this.commandQueue.push(c)
    };
    c._draw = function(c) {
        var d = this.commandQueue.length;
        if (0 != d) for (this.renderContext = c, c = 0; c < d; c++) {
            var b = this.commandQueue[c];
            b.method.apply(b.thisObject, b.args)
        }
    };
    var g = function() {
        return function(c, d, b) {
            this.method = c;
            this.thisObject = d;
            this.args = b
        }
    } ();
    g.prototype.__class__ = "egret_webgl_graphics.Command";
    c._setStyle = function(c, d, b, a) {
        this.renderContext.setGraphicsStyle(c, d, b, a)
    };
    c.init = function() {
        for (var f in c) egret.Graphics.prototype[f] = c[f]
    }
})(egret_webgl_graphics || (egret_webgl_graphics = {})); (function(c) {
    var g = function() {
        function f() {}
        f.compileProgram = function(d, b, a) {
            a = f.compileFragmentShader(d, a);
            b = f.compileVertexShader(d, b);
            var e = d.createProgram();
            d.attachShader(e, b);
            d.attachShader(e, a);
            d.linkProgram(e);
            d.getProgramParameter(e, d.LINK_STATUS) || c.$warn(1020);
            return e
        };
        f.compileFragmentShader = function(c, b) {
            return f._compileShader(c, b, c.FRAGMENT_SHADER)
        };
        f.compileVertexShader = function(c, b) {
            return f._compileShader(c, b, c.VERTEX_SHADER)
        };
        f._compileShader = function(d, b, a) {
            a = d.createShader(a);
            d.shaderSource(a, b);
            d.compileShader(a);
            return d.getShaderParameter(a, d.COMPILE_STATUS) ? a: (c.Logger.info(d.getShaderInfoLog(a)), null)
        };
        f.checkCanUseWebGL = function() {
            if (void 0 == f.canUseWebGL) try {
                var c = document.createElement("canvas");
                f.canUseWebGL = !!window.WebGLRenderingContext && !(!c.getContext("webgl") && !c.getContext("experimental-webgl"))
            } catch(b) {
                f.canUseWebGL = !1
            }
            return f.canUseWebGL
        };
        return f
    } ();
    c.WebGLUtils = g;
    g.prototype.__class__ = "egret.WebGLUtils"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f(b) {
            this.defaultVertexSrc = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec2 aColor;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nconst vec2 center = vec2(-1.0, 1.0);\nvoid main(void) {\n   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n}";
            this.program = this.gl = null;
            this.fragmentSrc = "precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void) {\ngl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}";
            this.uniforms = null;
            this.gl = b;
            this.init()
        }
        var d = f.prototype;
        d.init = function() {
            var b = this.gl,
            a = c.WebGLUtils.compileProgram(b, this.defaultVertexSrc, this.fragmentSrc);
            b.useProgram(a);
            this.uSampler = b.getUniformLocation(a, "uSampler");
            this.projectionVector = b.getUniformLocation(a, "projectionVector");
            this.offsetVector = b.getUniformLocation(a, "offsetVector");
            this.dimensions = b.getUniformLocation(a, "dimensions");
            this.aVertexPosition = b.getAttribLocation(a, "aVertexPosition");
            this.aTextureCoord = b.getAttribLocation(a, "aTextureCoord");
            this.colorAttribute = b.getAttribLocation(a, "aColor"); - 1 === this.colorAttribute && (this.colorAttribute = 2);
            this.attributes = [this.aVertexPosition, this.aTextureCoord, this.colorAttribute];
            for (var e in this.uniforms) this.uniforms[e].uniformLocation = b.getUniformLocation(a, e);
            this.initUniforms();
            this.program = a
        };
        d.initUniforms = function() {
            if (this.uniforms) {
                var b = this.gl,
                a, c;
                for (c in this.uniforms) {
                    a = this.uniforms[c];
                    var d = a.type;
                    "mat2" === d || "mat3" === d || "mat4" === d ? (a.glMatrix = !0, a.glValueLength = 1, "mat2" === d ? a.glFunc = b.uniformMatrix2fv: "mat3" === d ? a.glFunc = b.uniformMatrix3fv: "mat4" === d && (a.glFunc = b.uniformMatrix4fv)) : (a.glFunc = b["uniform" + d], a.glValueLength = "2f" === d || "2i" === d ? 2 : "3f" === d || "3i" === d ? 3 : "4f" === d || "4i" === d ? 4 : 1)
                }
            }
        };
        d.syncUniforms = function() {
            if (this.uniforms) {
                var b, a = this.gl,
                c;
                for (c in this.uniforms) b = this.uniforms[c],
                1 === b.glValueLength ? !0 === b.glMatrix ? b.glFunc.call(a, b.uniformLocation, b.transpose, b.value) : b.glFunc.call(a, b.uniformLocation, b.value) : 2 === b.glValueLength ? b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y) : 3 === b.glValueLength ? b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y, b.value.z) : 4 === b.glValueLength && b.glFunc.call(a, b.uniformLocation, b.value.x, b.value.y, b.value.z, b.value.w)
            }
        };
        return f
    } ();
    c.EgretShader = g;
    g.prototype.__class__ = "egret.EgretShader"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(b) {
            c.call(this, b);
            this.fragmentSrc = "precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform float invert;\nuniform mat4 matrix;\nuniform vec4 colorAdd;\nuniform sampler2D uSampler;\nvoid main(void) {\nvec4 texColor = texture2D(uSampler, vTextureCoord);\nvec4 locColor = texColor * matrix;\nif(texColor.a != 0.0){\nlocColor += colorAdd;\n}\ngl_FragColor = vColor*vec4(locColor.rgb*locColor.a,locColor.a);\n}";
            this.uniforms = {
                matrix: {
                    type: "mat4",
                    value: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]
                },
                colorAdd: {
                    type: "4f",
                    value: {
                        x: 0,
                        y: 0,
                        z: 0,
                        w: 0
                    }
                }
            };
            this.init()
        }
        __extends(d, c);
        return d
    } (c.EgretShader);
    c.ColorTransformShader = g;
    g.prototype.__class__ = "egret.ColorTransformShader"
})(egret || (egret = {})); (function(c) {
    var g = function(c) {
        function d(b) {
            c.call(this, b);
            this.fragmentSrc = "precision mediump float;uniform vec2 blur;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){gl_FragColor = vec4(0.0);gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.028 * blur.x, -0.028 * blur.y))) * 0.0044299121055113265;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.024 * blur.x, -0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.020 * blur.x, -0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.016 * blur.x, -0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.012 * blur.x, -0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.008 * blur.x, -0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2(-0.004 * blur.x, -0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, vTextureCoord) * 0.159576912161;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.004 * blur.x,  0.004 * blur.y))) * 0.147308056121;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.008 * blur.x,  0.008 * blur.y))) * 0.115876621105;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.012 * blur.x,  0.012 * blur.y))) * 0.0776744219933;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.016 * blur.x,  0.016 * blur.y))) * 0.0443683338718;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.020 * blur.x,  0.020 * blur.y))) * 0.0215963866053;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.024 * blur.x,  0.024 * blur.y))) * 0.00895781211794;gl_FragColor += texture2D(uSampler, (vTextureCoord + vec2( 0.028 * blur.x,  0.028 * blur.y))) * 0.0044299121055113265;}";
            this.uniforms = {
                blur: {
                    type: "2f",
                    value: {
                        x: 2,
                        y: 2
                    }
                }
            };
            this.init()
        }
        __extends(d, c);
        return d
    } (c.EgretShader);
    c.BlurShader = g;
    g.prototype.__class__ = "egret.BlurShader"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f(c) {
            this.alpha = this.translationMatrix = this.attributes = this.colorAttribute = this.aVertexPosition = this.tintColor = this.offsetVector = this.projectionVector = this.program = this.gl = null;
            this.fragmentSrc = "precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n   gl_FragColor = vColor;\n}";
            this.vertexSrc = "attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void) {\n   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);\n   v -= offsetVector.xyx;\n   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}";
            this.gl = c;
            this.init()
        }
        f.prototype.init = function() {
            var d = this.gl,
            b = c.WebGLUtils.compileProgram(d, this.vertexSrc, this.fragmentSrc);
            d.useProgram(b);
            this.projectionVector = d.getUniformLocation(b, "projectionVector");
            this.offsetVector = d.getUniformLocation(b, "offsetVector");
            this.tintColor = d.getUniformLocation(b, "tint");
            this.aVertexPosition = d.getAttribLocation(b, "aVertexPosition");
            this.colorAttribute = d.getAttribLocation(b, "aColor");
            this.attributes = [this.aVertexPosition, this.colorAttribute];
            this.translationMatrix = d.getUniformLocation(b, "translationMatrix");
            this.alpha = d.getUniformLocation(b, "alpha");
            this.program = b
        };
        return f
    } ();
    c.PrimitiveShader = g;
    g.prototype.__class__ = "egret.PrimitiveShader"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f(b) {
            this.gl = null;
            this.maxAttibs = 10;
            this.attribState = [];
            this.tempAttribState = [];
            this.blurShader = this.colorTransformShader = this.primitiveShader = this.defaultShader = this.currentShader = null;
            for (var a = 0; a < this.maxAttibs; a++) this.attribState[a] = !1;
            this.setContext(b)
        }
        var d = f.prototype;
        d.setContext = function(b) {
            this.gl = b;
            this.primitiveShader = new c.PrimitiveShader(b);
            this.defaultShader = new c.EgretShader(b);
            this.colorTransformShader = new c.ColorTransformShader(b);
            this.blurShader = new c.BlurShader(b);
            this.activateShader(this.defaultShader)
        };
        d.activateShader = function(b) {
            this.currentShader != b && (this.gl.useProgram(b.program), this.setAttribs(b.attributes), this.currentShader = b)
        };
        d.setAttribs = function(b) {
            var a, c;
            c = this.tempAttribState.length;
            for (a = 0; a < c; a++) this.tempAttribState[a] = !1;
            c = b.length;
            for (a = 0; a < c; a++) this.tempAttribState[b[a]] = !0;
            b = this.gl;
            c = this.attribState.length;
            for (a = 0; a < c; a++) this.attribState[a] !== this.tempAttribState[a] && (this.attribState[a] = this.tempAttribState[a], this.tempAttribState[a] ? b.enableVertexAttribArray(a) : b.disableVertexAttribArray(a))
        };
        return f
    } ();
    c.WebGLShaderManager = g;
    g.prototype.__class__ = "egret.WebGLShaderManager"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            c.Texture.createBitmapData = c.Texture._createBitmapDataForCanvasAndWebGl
        }
        __extends(d, f);
        var b = d.prototype;
        b.initVersion = function(a) {
            this._versionCtr = a
        };
        b.proceed = function(a) {
            function b() {
                if (4 == f.readyState) if (f.status != a._status && (a._status = f.status, c.HTTPStatusEvent.dispatchHTTPStatusEvent(a, f.status)), 400 <= f.status || 0 == f.status) c.IOErrorEvent.dispatchIOErrorEvent(a);
                else {
                    switch (a.dataFormat) {
                    case c.URLLoaderDataFormat.TEXT:
                        a.data = f.responseText;
                        break;
                    case c.URLLoaderDataFormat.VARIABLES:
                        a.data = new c.URLVariables(f.responseText);
                        break;
                    case c.URLLoaderDataFormat.BINARY:
                        a.data = f.response;
                        break;
                    default:
                        a.data = f.responseText
                    }
                    c.__callAsync(c.Event.dispatchEvent, c.Event, a, c.Event.COMPLETE)
                }
            }
            if (a.dataFormat == c.URLLoaderDataFormat.TEXTURE) this.loadTexture(a);
            else if (a.dataFormat == c.URLLoaderDataFormat.SOUND) c.Html5Capatibility._audioType == c.AudioType.WEB_AUDIO ? this.loadWebAudio(a) : c.Html5Capatibility._audioType == c.AudioType.QQ_AUDIO ? this.loadQQAudio(a) : this.loadSound(a);
            else {
                var d = a._request,
                f = this.getXHR();
                f.onreadystatechange = b;
                var g = this.getVirtualUrl(c.NetContext._getUrl(d));
                f.open(d.method, g, !0);
                this.setResponseType(f, a.dataFormat);
                d.method != c.URLRequestMethod.GET && d.data ? d.data instanceof c.URLVariables ? (f.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), f.send(d.data.toString())) : (f.setRequestHeader("Content-Type", "multipart/form-data"), f.send(d.data)) : f.send()
            }
        };
        b.loadSound = function(a) {
            function b(f) {
                c.clearTimeout(g.__timeoutId);
                g.removeEventListener("canplaythrough", b, !1);
                g.removeEventListener("error", d, !1);
                f = new c.Html5Audio;
                f._setAudio(g);
                var t = new c.Sound;
                t._setAudio(f);
                a.data = t;
                c.__callAsync(c.Event.dispatchEvent, c.Event, a, c.Event.COMPLETE)
            }
            function d(f) {
                c.clearTimeout(g.__timeoutId);
                g.removeEventListener("canplaythrough", b, !1);
                g.removeEventListener("error", d, !1);
                c.IOErrorEvent.dispatchIOErrorEvent(a)
            }
            var f = this.getVirtualUrl(a._request.url),
            g = new Audio(f);
            g.__timeoutId = c.setTimeout(b, this, 100);
            g.addEventListener("canplaythrough", b, !1);
            g.addEventListener("error", d, !1);
            g.load()
        };
        b.loadQQAudio = function(a) {
            var b = c.Html5Capatibility._QQRootPath + this.getVirtualUrl(a._request.url);
            console.log("loadQQAudio");
            QZAppExternal.preloadSound(function(d) {
                if (0 == d.code) {
                    d = new c.QQAudio;
                    d._setPath(b);
                    var f = new c.Sound;
                    f._setAudio(d);
                    a.data = f;
                    c.__callAsync(c.Event.dispatchEvent, c.Event, a, c.Event.COMPLETE)
                } else c.IOErrorEvent.dispatchIOErrorEvent(a)
            },
            {
                bid: -1,
                url: b,
                refresh: 1
            })
        };
        b.loadWebAudio = function(a) {
            var b = this.getVirtualUrl(a._request.url),
            d = new XMLHttpRequest;
            d.open("GET", b, !0);
            d.responseType = "arraybuffer";
            console.log("loadWebAudio");
            d.onload = function() {
                var b = new c.WebAudio;
                b._setArrayBuffer(d.response,
                function() {
                    var e = new c.Sound;
                    e._setAudio(b);
                    a.data = e;
                    c.__callAsync(c.Event.dispatchEvent, c.Event, a, c.Event.COMPLETE)
                })
            };
            d.send()
        };
        b.getXHR = function() {
            return window.XMLHttpRequest ? new window.XMLHttpRequest: new ActiveXObject("MSXML2.XMLHTTP")
        };
        b.setResponseType = function(a, b) {
            switch (b) {
            case c.URLLoaderDataFormat.TEXT:
            case c.URLLoaderDataFormat.VARIABLES:
                a.responseType = c.URLLoaderDataFormat.TEXT;
                break;
            case c.URLLoaderDataFormat.BINARY:
                a.responseType = "arraybuffer";
                break;
            default:
                a.responseType = b
            }
        };
        b.loadTexture = function(a) {
            var b = this.getVirtualUrl(a._request.url);
            c.Texture.createBitmapData(b,
            function(b, e) {
                if (0 != b) c.IOErrorEvent.dispatchIOErrorEvent(a);
                else {
                    var d = new c.Texture;
                    d._setBitmapData(e);
                    a.data = d;
                    c.__callAsync(c.Event.dispatchEvent, c.Event, a, c.Event.COMPLETE)
                }
            })
        };
        b.getVirtualUrl = function(a) {
            return this._versionCtr ? this._versionCtr.getVirtualUrl(a) : a
        };
        return d
    } (c.NetContext);
    c.HTML5NetContext = g;
    g.prototype.__class__ = "egret.HTML5NetContext"
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this._isTouchDown = !1;
            this.rootDiv = null;
            this.rootDiv = document.getElementById(c.StageDelegate.canvas_div_name);
            if (!this.rootDiv) {
                var a = document.getElementById(c.StageDelegate.egret_root_div);
                this.rootDiv = c.Browser.getInstance().$new("div");
                this.rootDiv.id = c.StageDelegate.canvas_div_name;
                a.appendChild(this.rootDiv)
            }
        }
        __extends(d, f);
        var b = d.prototype;
        b.prevent = function(a) {
            a.stopPropagation(); ! 0 == a.isScroll || c.HTMLInput.getInstance().isInputOn() || a.preventDefault()
        };
        b.run = function() {
            var a = this;
            window.navigator.msPointerEnabled ? (this.rootDiv.addEventListener("MSPointerDown",
            function(b) {
                a._onTouchBegin(b);
                a.prevent(b)
            },
            !1), this.rootDiv.addEventListener("MSPointerMove",
            function(b) {
                a._onTouchMove(b);
                a.prevent(b)
            },
            !1), this.rootDiv.addEventListener("MSPointerUp",
            function(b) {
                a._onTouchEnd(b);
                a.prevent(b)
            },
            !1)) : c.MainContext.deviceType == c.MainContext.DEVICE_MOBILE ? this.addTouchListener() : c.MainContext.deviceType == c.MainContext.DEVICE_PC && (this.addTouchListener(), this.addMouseListener());
            window.addEventListener("mousedown",
            function(b) {
                a.inOutOfCanvas(b) ? a.dispatchLeaveStageEvent() : a._isTouchDown = !0
            });
            window.addEventListener("mouseup",
            function(b) {
                a._isTouchDown && (a.inOutOfCanvas(b) ? a.dispatchLeaveStageEvent() : a._onTouchEnd(b));
                a._isTouchDown = !1
            })
        };
        b.addMouseListener = function() {
            var a = this;
            this.rootDiv.addEventListener("mousedown",
            function(b) {
                a._onTouchBegin(b)
            });
            this.rootDiv.addEventListener("mousemove",
            function(b) {
                a._onTouchMove(b)
            });
            this.rootDiv.addEventListener("mouseup",
            function(b) {
                a._onTouchEnd(b)
            })
        };
        b.addTouchListener = function() {
            var a = this;
            this.rootDiv.addEventListener("touchstart",
            function(b) {
                for (var c = b.changedTouches.length,
                d = 0; d < c; d++) a._onTouchBegin(b.changedTouches[d]);
                a.prevent(b)
            },
            !1);
            this.rootDiv.addEventListener("touchmove",
            function(b) {
                for (var c = b.changedTouches.length,
                d = 0; d < c; d++) a._onTouchMove(b.changedTouches[d]);
                a.prevent(b)
            },
            !1);
            this.rootDiv.addEventListener("touchend",
            function(b) {
                for (var c = b.changedTouches.length,
                d = 0; d < c; d++) a._onTouchEnd(b.changedTouches[d]);
                a.prevent(b)
            },
            !1);
            this.rootDiv.addEventListener("touchcancel",
            function(b) {
                for (var c = b.changedTouches.length,
                d = 0; d < c; d++) a._onTouchEnd(b.changedTouches[d]);
                a.prevent(b)
            },
            !1)
        };
        b.inOutOfCanvas = function(a) {
            var b = this.getLocation(this.rootDiv, a);
            a = b.x;
            var b = b.y,
            d = c.MainContext.instance.stage;
            return 0 > a || 0 > b || a > d.stageWidth || b > d.stageHeight ? !0 : !1
        };
        b.dispatchLeaveStageEvent = function() {
            this.touchingIdentifiers.length = 0;
            c.MainContext.instance.stage.dispatchEventWith(c.Event.LEAVE_STAGE)
        };
        b._onTouchBegin = function(a) {
            var b = this.getLocation(this.rootDiv, a),
            c = -1;
            a.hasOwnProperty("identifier") && (c = a.identifier);
            this.onTouchBegan(b.x, b.y, c)
        };
        b._onTouchMove = function(a) {
            var b = this.getLocation(this.rootDiv, a),
            c = -1;
            a.hasOwnProperty("identifier") && (c = a.identifier);
            this.onTouchMove(b.x, b.y, c)
        };
        b._onTouchEnd = function(a) {
            var b = this.getLocation(this.rootDiv, a),
            c = -1;
            a.hasOwnProperty("identifier") && (c = a.identifier);
            this.onTouchEnd(b.x, b.y, c)
        };
        b.getLocation = function(a, b) {
            var d = document.documentElement,
            f = window,
            g, p;
            "function" === typeof a.getBoundingClientRect ? (p = a.getBoundingClientRect(), g = p.left, p = p.top) : p = g = 0;
            g += f.pageXOffset - d.clientLeft;
            p += f.pageYOffset - d.clientTop;
            null != b.pageX ? (d = b.pageX, f = b.pageY) : (g -= document.body.scrollLeft, p -= document.body.scrollTop, d = b.clientX, f = b.clientY);
            var k = c.Point.identity;
            k.x = (d - g) / c.StageDelegate.getInstance().getScaleX();
            k.y = (f - p) / c.StageDelegate.getInstance().getScaleY();
            return k
        };
        return d
    } (c.TouchContext);
    c.HTML5TouchContext = g;
    g.prototype.__class__ = "egret.HTML5TouchContext"
})(egret || (egret = {})); (function(c) {
    var g = function(d) {
        function b() {
            d.call(this);
            this._isNeedShow = !1;
            this.inputDiv = this.inputElement = null;
            this._gscaleY = this._gscaleX = 0;
            this._isNeesHide = !1;
            this.textValue = "";
            this._styleInfoes = {};
            f.getInstance()
        }
        __extends(b, d);
        var a = b.prototype;
        a._initElement = function(a, b, d, f) {
            var g = c.StageDelegate.getInstance().getScaleX(),
            k = c.StageDelegate.getInstance().getScaleY();
            this.inputDiv.style.left = a * g + "px";
            this.inputDiv.style.top = b * k + "px";
            this._gscaleX = g * d;
            this._gscaleY = k * f
        };
        a._show = function(a, b, c, d) {
            this._multiline = a;
            f.getInstance().isCurrentStageText(this) ? this.inputElement.onblur = null: (this.inputElement = f.getInstance().getInputElement(this), this.inputDiv = f.getInstance()._inputDIV);
            this._isNeedShow = f.getInstance()._needShow = !0
        };
        a.onBlurHandler = function() {
            f.getInstance().clearInputElement();
            window.scrollTo(0, 0)
        };
        a.executeShow = function() {
            this.inputElement.value = this._getText();
            null == this.inputElement.onblur && (this.inputElement.onblur = this.onBlurHandler);
            this._resetStageText();
            0 < this._textfield._TF_Props_._maxChars ? this.inputElement.setAttribute("maxlength", this._textfield._TF_Props_._maxChars) : this.inputElement.removeAttribute("maxlength");
            this.inputElement.selectionStart = this.inputElement.value.length;
            this.inputElement.selectionEnd = this.inputElement.value.length;
            this.inputElement.focus()
        };
        a._hide = function() {
            this._isNeesHide = !0;
            0 <= c.Browser.getInstance().getUserAgent().indexOf("ios") && f.getInstance().disconnectStageText(this)
        };
        a._getText = function() {
            this.textValue || (this.textValue = "");
            return this.textValue
        };
        a._setText = function(a) {
            this.textValue = a;
            this.resetText()
        };
        a.resetText = function() {
            this.inputElement && (this.inputElement.value = this.textValue)
        };
        a._onInput = function() {
            this.textValue = this.inputElement.value;
            c.Event.dispatchEvent(this, "updateText", !1)
        };
        a._onClickHandler = function(a) {
            this._isNeedShow && (a.stopImmediatePropagation(), this._isNeedShow = !1, this.executeShow(), this.dispatchEvent(new c.Event("focus")))
        };
        a._onDisconnect = function() {
            this.inputElement = null;
            this.dispatchEvent(new c.Event("blur"))
        };
        a.setElementStyle = function(a, b) {
            this.inputElement && this._styleInfoes[a] != b && (this.inputElement.style[a] = b)
        };
        a._removeInput = function() {
            this.inputElement && f.getInstance().disconnectStageText(this)
        };
        a._resetStageText = function() {
            if (this.inputElement) {
                var a = this._textfield,
                b = a._TF_Props_;
                this.setElementStyle("fontFamily", b._fontFamily);
                this.setElementStyle("fontStyle", b._italic ? "italic": "normal");
                this.setElementStyle("fontWeight", b._bold ? "bold": "normal");
                this.setElementStyle("textAlign", b._textAlign);
                this.setElementStyle("fontSize", b._size * this._gscaleY + "px");
                this.setElementStyle("lineHeight", b._size * this._gscaleY + "px");
                this.setElementStyle("color", b._textColorString);
                this.setElementStyle("width", a._getSize(c.Rectangle.identity).width * this._gscaleX + "px");
                this.setElementStyle("height", a._getSize(c.Rectangle.identity).height * this._gscaleY + "px");
                this.setElementStyle("verticalAlign", b._verticalAlign)
            }
        };
        return b
    } (c.StageText);
    c.HTML5StageText = g;
    g.prototype.__class__ = "egret.HTML5StageText";
    var f = function() {
        function d() {
            this._needShow = !1
        }
        var b = d.prototype;
        b.isInputOn = function() {
            return null != this._stageText
        };
        b.isCurrentStageText = function(a) {
            return this._stageText == a
        };
        b.initValue = function(a) {
            a.style.position = "absolute";
            a.style.left = "0px";
            a.style.top = "0px";
            a.style.border = "none";
            a.style.padding = "0"
        };
        b._initStageDelegateDiv = function() {
            var a = this,
            b = c.Browser.getInstance().$("#StageDelegateDiv");
            b || (b = c.Browser.getInstance().$new("div"), b.id = "StageDelegateDiv", document.getElementById(c.StageDelegate.egret_root_div).appendChild(b), a.initValue(b), b.style.width = "0px", b.style.height = "0px", a._inputDIV = c.Browser.getInstance().$new("div"), a.initValue(a._inputDIV), a._inputDIV.style.width = "0px", a._inputDIV.style.height = "0px", a._inputDIV.style.left = "0px", a._inputDIV.style.top = "-100px", a._inputDIV.style[c.Browser.getInstance().getTrans("transformOrigin")] = "0% 0% 0px", b.appendChild(a._inputDIV), document.getElementById(c.StageDelegate.canvas_div_name).addEventListener("click",
            function(b) {
                a._needShow ? (a._needShow = !1, c.MainContext.instance.stage._changeSizeDispatchFlag = !1, a._stageText._onClickHandler(b), d.getInstance().show()) : a._inputElement && (a.clearInputElement(), a._inputElement.blur(), a._inputElement = null)
            }), a.initInputElement(!0), a.initInputElement(!1))
        };
        b.initInputElement = function(a) {
            var b = this;
            a ? (a = document.createElement("textarea"), a.style.resize = "none", b._multiElement = a, a.id = "egretTextarea") : (a = document.createElement("input"), b._simpleElement = a, a.id = "egretInput");
            a.type = "text";
            b._inputDIV.appendChild(a);
            a.setAttribute("tabindex", "-1");
            a.style.width = "1px";
            a.style.height = "12px";
            b.initValue(a);
            a.style.outline = "thin";
            a.style.background = "none";
            a.style.overflow = "hidden";
            a.style.wordBreak = "break-all";
            a.style.opacity = 0;
            a.oninput = function() {
                b._stageText && b._stageText._onInput()
            }
        };
        b.show = function() {
            var a = this._inputElement;
            c.__callAsync(function() {
                a.style.opacity = 1
            },
            this)
        };
        b.disconnectStageText = function(a) {
            if (null == this._stageText || this._stageText == a) this.clearInputElement(),
            this._inputElement && this._inputElement.blur()
        };
        b.clearInputElement = function() {
            this._inputElement && (this._inputElement.value = "", this._inputElement.onblur = null, this._inputElement.style.width = "1px", this._inputElement.style.height = "12px", this._inputElement.style.left = "0px", this._inputElement.style.top = "0px", this._inputElement.style.opacity = 0, (this._simpleElement == this._inputElement ? this._multiElement: this._simpleElement).style.display = "block", this._inputDIV.style.left = "0px", this._inputDIV.style.top = "-100px");
            this._stageText && (this._stageText._onDisconnect(), this._stageText = null);
            c.MainContext.instance.stage._changeSizeDispatchFlag = !0
        };
        b.getInputElement = function(a) {
            this.clearInputElement();
            this._stageText = a;
            this._inputElement = this._stageText._multiline ? this._multiElement: this._simpleElement; (this._simpleElement == this._inputElement ? this._multiElement: this._simpleElement).style.display = "none";
            return this._inputElement
        };
        d.getInstance = function() {
            null == d._instance && (d._instance = new c.HTMLInput);
            return d._instance
        };
        return d
    } ();
    c.HTMLInput = f;
    f.prototype.__class__ = "egret.HTMLInput"
})(egret || (egret = {}));
egret.StageText.create = function() {
    egret.HTMLInput.getInstance()._initStageDelegateDiv();
    return new egret.HTML5StageText
}; (function(c) {
    var g = function() {
        function f() {
            this._loop = !1;
            this.paused = !0;
            this._listeners = [];
            this._onEndedCall = null;
            this._volume = 1;
            this._startTime = 0
        }
        var d = f.prototype;
        d._play = function(b) {
            this.removeListeners();
            c.Html5Capatibility._audioMustLoad && this._audio.load();
            this.paused = !1;
            this._audio.autoplay = !0;
            this._audio.volume = this._volume;
            var a = this,
            d = function(b) {
                a._audio.removeEventListener("ended", d);
                a._onEndedCall && a._onEndedCall.call(null, b);
                a.clear()
            };
            this._audio.addEventListener("ended", d);
            this.initStart();
            try {
                this._audio.currentTime = this._startTime
            } catch(f) {} finally {
                this._audio.play()
            }
        };
        d.clear = function() {
            try {
                this._audio.pause()
            } catch(b) {} finally {
                this.removeListeners(),
                this._loop && !this.paused && this._play()
            }
        };
        d._pause = function() {
            this.paused = !0;
            this._audio.pause()
        };
        d._load = function() {
            this._audio.load()
        };
        d._setAudio = function(b) {
            this._audio = b
        };
        d.initStart = function() {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this._audio.addEventListener(a.type, a.listener, a.useCapture)
            }
        };
        d._addEventListener = function(b, a, c) {
            void 0 === c && (c = !1);
            "ended" == b ? this._onEndedCall = a: (this._listeners.push({
                type: b,
                listener: a,
                useCapture: c
            }), this._audio && this._audio.addEventListener(b, a, c))
        };
        d.removeListeners = function() {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this._audio && this._audio.removeEventListener(a.type, a.listener, a.useCapture)
            }
        };
        d._removeEventListener = function(b, a, c) {
            void 0 === c && (c = !1);
            if ("ended" == b) this._onEndedCall = null;
            else for (var d = 0; d < this._listeners.length; d++) {
                var f = this._listeners[d];
                if (f.listener == a && f.useCapture == c && f.type == b) {
                    this._listeners.splice(d, 1);
                    this._audio && this._audio.removeEventListener(b, a, c);
                    break
                }
            }
        };
        d._preload = function(b, a, d) {
            void 0 === a && (a = null);
            void 0 === d && (d = null);
            c.callLater(a, d)
        };
        d._destroy = function() {};
        d._getVolume = function() {
            return this._volume
        };
        d._setVolume = function(b) {
            this._volume = Math.max(0, Math.min(b, 1));
            this._audio.volume = this._volume
        };
        d._setLoop = function(b) {
            this._loop = b
        };
        d._getCurrentTime = function() {
            return this._audio.currentTime
        };
        d._setCurrentTime = function(b) {
            this._startTime = b
        };
        return f
    } ();
    c.Html5Audio = g;
    g.prototype.__class__ = "egret.Html5Audio"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f() {
            this.context = f.ctx;
            this.bufferSource = null;
            this.paused = !0;
            this._loop = !1;
            this._listeners = [];
            this._onEndedCall = null;
            this._volume = 1;
            this._currentTime = this._startTime = 0;
            this.gain = f.ctx.createGain ? f.ctx.createGain() : f.ctx.createGainNode()
        }
        var d = f.prototype;
        f.decodeAudios = function() {
            if (! (0 >= f.decodeArr.length || f.isDecoding)) {
                f.isDecoding = !0;
                var b = f.decodeArr.shift();
                f.ctx.decodeAudioData(b.buffer,
                function(a) {
                    b.self.audioBuffer = a;
                    b.callback && b.callback();
                    f.isDecoding = !1;
                    f.decodeAudios()
                })
            }
        };
        d._play = function(b) {
            var a = this;
            this.bufferSource && (this.bufferSource.onended = null, this.removeListeners(), this.bufferSource = null);
            b = this.context;
            var c = this.gain,
            d = b.createBufferSource();
            this.bufferSource = d;
            this.addListeners();
            d.buffer = this.audioBuffer;
            d.connect(c);
            c.connect(b.destination);
            d.onended = function(b) {
                a.clear();
                a._onEndedCall && a._onEndedCall.call(null, b);
                a._loop && !a.paused && a._play()
            };
            this.paused = !1;
            this._startTime = Date.now();
            this.gain.gain.value = this._volume;
            d.start(0, this._currentTime);
            this._currentTime = 0
        };
        d.clear = function() {
            if (this.bufferSource) {
                this.removeListeners();
                var b = this.bufferSource;
                b.stop ? b.stop(0) : b.noteOff(0);
                this.bufferSource.disconnect();
                this.bufferSource = null
            }
        };
        d.addListeners = function() {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this.bufferSource.addEventListener(a.type, a.listener, a.useCapture)
            }
        };
        d.removeListeners = function() {
            for (var b = 0; b < this._listeners.length; b++) {
                var a = this._listeners[b];
                this.bufferSource.removeEventListener(a.type, a.listener, a.useCapture)
            }
        };
        d._pause = function() {
            this.paused = !0;
            this.clear()
        };
        d._addEventListener = function(b, a, c) {
            void 0 === c && (c = !1);
            "ended" == b ? this._onEndedCall = a: (this._listeners.push({
                type: b,
                listener: a,
                useCapture: c
            }), this.bufferSource && this.bufferSource.addEventListener(b, a, c))
        };
        d._removeEventListener = function(b, a, c) {
            void 0 === c && (c = !1);
            if ("ended" == b) this._onEndedCall = null;
            else for (var d = 0; d < this._listeners.length; d++) {
                var f = this._listeners[d];
                if (f.listener == a && f.useCapture == c && f.type == b) {
                    this._listeners.splice(d, 1);
                    this.bufferSource && this.bufferSource.removeEventListener(b, a, c);
                    break
                }
            }
        };
        d._load = function() {
            this._setArrayBuffer(this._arrayBuffer, null)
        };
        d._setArrayBuffer = function(b, a) {
            this._arrayBuffer = b;
            f.decodeArr.push({
                buffer: b,
                callback: a,
                self: this
            });
            f.decodeAudios()
        };
        d._preload = function(b, a, d) {
            void 0 === a && (a = null);
            void 0 === d && (d = null);
            c.callLater(a, d)
        };
        d._getVolume = function() {
            return this._volume
        };
        d._setVolume = function(b) {
            this._volume = b;
            this.gain.gain.value = b
        };
        d._setLoop = function(b) {
            this._loop = b
        };
        d._getCurrentTime = function() {
            return this.bufferSource ? (Date.now() - this._startTime) / 1E3: 0
        };
        d._setCurrentTime = function(b) {
            this._currentTime = b
        };
        d._destroy = function() {};
        f.canUseWebAudio = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;
        f.ctx = f.canUseWebAudio ? new(window.AudioContext || window.webkitAudioContext || window.mozAudioContext) : void 0;
        f.decodeArr = [];
        f.isDecoding = !1;
        return f
    } ();
    c.WebAudio = g;
    g.prototype.__class__ = "egret.WebAudio"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function f() {
            this._loop = !1;
            this._currentTime = 0
        }
        var d = f.prototype;
        d._play = function(b) {
            this._type = b;
            b == c.Sound.EFFECT ? QZAppExternal.playLocalSound(function(a) {
                alert(JSON.stringify(a))
            },
            {
                bid: -1,
                url: this._path,
                loop: this._loop ? -1 : 0
            }) : QZAppExternal.playLocalBackSound({
                bid: -1,
                url: this._path,
                loop: this._loop ? -1 : 0
            })
        };
        d._pause = function() {
            this._type == c.Sound.EFFECT ? QZAppExternal.stopSound() : QZAppExternal.stopBackSound()
        };
        d._addEventListener = function(b, a, c) {};
        d._removeEventListener = function(b, a, c) {};
        d._load = function() {};
        d._preload = function(b, a, d) {
            void 0 === a && (a = null);
            void 0 === d && (d = null);
            c.callLater(a, d)
        };
        d._setPath = function(b) {
            this._path = b
        };
        d._getVolume = function() {
            return 1
        };
        d._setVolume = function(b) {};
        d._setLoop = function(b) {
            this._loop = b
        };
        d._getCurrentTime = function() {
            return 0
        };
        d._setCurrentTime = function(b) {
            this._currentTime = b
        };
        d._destroy = function() {};
        return f
    } ();
    c.QQAudio = g;
    g.prototype.__class__ = "egret.QQAudio"
})(egret || (egret = {})); (function(c) {
    var g = function() {
        function b() {}
        b.QQ_AUDIO = 1;
        b.WEB_AUDIO = 2;
        b.HTML5_AUDIO = 3;
        return b
    } ();
    c.AudioType = g;
    g.prototype.__class__ = "egret.AudioType";
    var f = function() {
        function b() {}
        b.WPHONE = 1;
        b.IOS = 2;
        b.ADNROID = 3;
        return b
    } ();
    c.SystemOSType = f;
    f.prototype.__class__ = "egret.SystemOSType";
    var d = function(b) {
        function a() {
            b.call(this)
        }
        __extends(a, b);
        a._init = function() {
            var b = navigator.userAgent.toLowerCase();
            a.ua = b;
            a._canUseBlob = !1;
            a._audioType = g.HTML5_AUDIO;
            a._AudioClass = c.Html5Audio;
            a._audioMustLoad = !0;
            if (0 <= b.indexOf("windows phone")) a._System_OS = f.WPHONE,
            a._audioMustLoad = !1;
            else if (0 <= b.indexOf("android")) a._System_OS = f.ADNROID,
            0 <= b.indexOf("ucbrowser") && (a._audioMustLoad = !1),
            window.hasOwnProperty("QZAppExternal") && 0 <= b.indexOf("qzone") && (a._AudioClass = c.QQAudio, a._audioType = g.QQ_AUDIO, (b = document.getElementsByTagName("base")) && 0 < b.length ? a._QQRootPath = b[0].baseURI: (b = window.location.href.indexOf("?"), -1 == b && (b = window.location.href.length), b = window.location.href.substring(0, b), b = b.substring(0, b.lastIndexOf("/")), a._QQRootPath = b + "/"));
            else if (0 <= b.indexOf("iphone") || 0 <= b.indexOf("ipad") || 0 <= b.indexOf("ipod")) a._System_OS = f.IOS,
            7 <= a.getIOSVersion() && (a._canUseBlob = !0, a._AudioClass = c.WebAudio, a._audioType = g.WEB_AUDIO);
            window.URL || window.webkitURL || (a._canUseBlob = !1);
            window.AudioContext || window.webkitAudioContext || window.mozAudioContext || a._audioType != g.WEB_AUDIO || (a._audioType = g.HTML5_AUDIO, a._AudioClass = c.Html5Audio)
        };
        a.getIOSVersion = function() {
            var b = a.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0];
            return parseInt(b.match(/\d(_\d)*/)[0]) || 0
        };
        a._canUseBlob = !1;
        a._audioType = 0;
        a._audioMustLoad = !1;
        a._QQRootPath = "";
        a._System_OS = 0;
        a.ua = "";
        return a
    } (c.HashObject);
    c.Html5Capatibility = d;
    d.prototype.__class__ = "egret.Html5Capatibility";
    d._init()
})(egret || (egret = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.localVersionDataPath = "localVersion.manifest";
            this.localVersionData = null;
            this.changeVersionDataPath = "version.manifest";
            this.changeVersionData = null;
            this.baseVersionDataPath = "base.manifest";
            this.baseVersionData = null;
            this.localVersionCodePath = "localCode.manifest";
            this.serverVersionCodePath = "code.manifest";
            this._call = this._load = null
        }
        __extends(d, f);
        var b = d.prototype;
        b.fetchVersion = function() {
            this._load = new c.NativeResourceLoader;
            this._load.addEventListener(c.IOErrorEvent.IO_ERROR, this.loadError, this);
            this._load.addEventListener(c.Event.COMPLETE, this.fileLoadComplete, this);
            this.initLocalVersionData()
        };
        b.initLocalVersionData = function() {
            var a = this.getData("appVersion.manifest", !0);
            if (a) {
                if (1 == a.debug) {
                    this.baseVersionData = null;
                    if (a = this.getData(this.localVersionDataPath, !1)) for (var b in a) this.deleteFile(b);
                    this.deleteFile(this.localVersionDataPath);
                    this.deleteFile(this.localVersionCodePath);
                    this.loadOver();
                    return
                }
                var c = this.getData("appVersion.manifest", !1);
                if (null == c || c.version != a.version) {
                    this.localVersionData = this.getData(this.localVersionDataPath, !0);
                    null == this.localVersionData && (this.localVersionData = {});
                    this.deleteFile(this.localVersionCodePath);
                    this.save("appVersion.manifest", JSON.stringify(a));
                    if (a = this.getData(this.localVersionCodePath, !1)) for (b in a) a[b] != this.localVersionData[b] && this.deleteFile(b);
                    else a = {};
                    for (b in this.localVersionData) a[b] != this.localVersionData[b] && this.deleteFile(b);
                    this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData));
                    this.loadCodeVersion();
                    return
                }
            }
            this.localVersionData = this.getLocalData(this.localVersionDataPath);
            null == this.localVersionData && (this.localVersionData = this.getLocalData(this.baseVersionDataPath), null == this.localVersionData && (this.localVersionData = {}), this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData)));
            this.loadCodeVersion()
        };
        b.deleteFile = function(a) {
            egret_native.deleteUpdateFile && egret_native.deleteUpdateFile(a)
        };
        b.loadCodeVersion = function() {
            var a = 1;
            this.newCode = 1;
            var b = this.getLocalData(this.localVersionCodePath);
            null != b && (a = b.code);
            b = this.getLocalData(this.serverVersionCodePath);
            null != b && (this.newCode = b.code);
            this.loadBaseVersion(a != this.newCode)
        };
        b.loadBaseVersion = function(a) {
            this.baseVersionData = this.getLocalData(this.baseVersionDataPath);
            this.changeVersionData = this.getLocalData(this.changeVersionDataPath);
            var b = this;
            null == b.baseVersionData || a ? b.loadFile(b.baseVersionDataPath,
            function() {
                b.baseVersionData = b.getLocalData(b.baseVersionDataPath);
                b.loadBaseOver()
            }) : b.loadBaseOver()
        };
        b.loadBaseOver = function() {
            this.save(this.localVersionCodePath, JSON.stringify({
                code: this.newCode
            }));
            this.loadOver()
        };
        b.loadFile = function(a, b) {
            void 0 === b && (b = null);
            this._call = b;
            this._load.load(a, 1E3)
        };
        b.fileLoadComplete = function(a) {
            this._call && this._call()
        };
        b.loadError = function(a) {
            this._load.removeEventListener(c.IOErrorEvent.IO_ERROR, this.loadError, this);
            this._load.removeEventListener(c.Event.COMPLETE, this.fileLoadComplete, this);
            this.dispatchEvent(a)
        };
        b.loadOver = function() {
            this._load.removeEventListener(c.IOErrorEvent.IO_ERROR, this.loadError, this);
            this._load.removeEventListener(c.Event.COMPLETE, this.fileLoadComplete, this);
            this.dispatchEvent(new c.Event(c.Event.COMPLETE))
        };
        b.save = function(a, b) {
            egret_native.writeFileSync ? egret_native.writeFileSync(a, b) : egret_native.saveRecord && egret_native.saveRecord(a, b)
        };
        b.getData = function(a, b) {
            if (egret_native.readUpdateFileSync && egret_native.readResourceFileSync) {
                var c = b ? egret_native.readResourceFileSync(a) : egret_native.readUpdateFileSync(a);
                return null != c ? JSON.parse(c) : null
            }
            return this.getLocalDataByOld(a)
        };
        b.getLocalData = function(a) {
            if (egret_native.readUpdateFileSync && egret_native.readResourceFileSync) {
                var b = egret_native.readUpdateFileSync(a);
                if (null != b) return JSON.parse(b);
                b = egret_native.readResourceFileSync(a);
                return null != b ? JSON.parse(b) : null
            }
            return this.getLocalDataByOld(a)
        };
        b.getLocalDataByOld = function(a) {
            var b = null;
            egret_native.isRecordExists(a) ? (a = egret_native.loadRecord(a), b = JSON.parse(a)) : egret_native.isFileExists(a) && (a = egret_native.readFileSync(a), b = JSON.parse(a));
            return b
        };
        b.getChangeList = function() {
            if (!this.baseVersionData) return [];
            var a = {},
            b;
            for (b in this.changeVersionData) 1 == this.changeVersionData[b].d ? delete this.baseVersionData[b] : this.baseVersionData[b] = this.changeVersionData[b];
            for (b in this.baseVersionData) null != this.localVersionData[b] && this.compareVersion(this.localVersionData, this.baseVersionData, b) || (a[b] = {
                url: b,
                size: this.baseVersionData[b].s
            });
            var c = [];
            for (b in a) c.push(a[b]);
            return c
        };
        b.compareVersion = function(a, b, c) {
            return null == a[c] || null == b[c] ? !1 : a[c].v == b[c].v
        };
        b.checkIsNewVersion = function(a) {
            return this.baseVersionData ? null != this.changeVersionData[a] ? this.compareVersion(this.changeVersionData, this.localVersionData, a) : null != this.baseVersionData[a] ? this.compareVersion(this.baseVersionData, this.localVersionData, a) : !0 : !0
        };
        b.saveVersion = function(a) {
            if (this.baseVersionData) {
                var b = !1;
                null != this.changeVersionData[a] ? this.compareVersion(this.changeVersionData, this.localVersionData, a) || (b = !0, this.localVersionData[a] = this.changeVersionData[a]) : null == this.baseVersionData[a] || this.compareVersion(this.baseVersionData, this.localVersionData, a) || (b = !0, this.localVersionData[a] = this.baseVersionData[a]);
                b && this.save(this.localVersionDataPath, JSON.stringify(this.localVersionData))
            }
        };
        b.getVirtualUrl = function(a) {
            return a
        };
        return d
    } (c.EventDispatcher);
    c.NativeVersionController = g;
    g.prototype.__class__ = "egret.NativeVersionController"
})(egret || (egret = {}));
var RES; (function(c) {
    var g = function(c) {
        function d(b, a, d) {
            void 0 === a && (a = !1);
            void 0 === d && (d = !1);
            c.call(this, b, a, d);
            this.itemsTotal = this.itemsLoaded = 0;
            this.groupName = "";
            this.resItem = null
        }
        __extends(d, c);
        d.dispatchResourceEvent = function(b, a, c, f, g, u) {
            void 0 === c && (c = "");
            void 0 === f && (f = null);
            void 0 === g && (g = 0);
            void 0 === u && (u = 0);
            var p = egret.Event._getPropertyData(d);
            p.groupName = c;
            p.resItem = f;
            p.itemsLoaded = g;
            p.itemsTotal = u;
            egret.Event._dispatchByTarget(d, b, a, p)
        };
        d.ITEM_LOAD_ERROR = "itemLoadError";
        d.CONFIG_COMPLETE = "configComplete";
        d.CONFIG_LOAD_ERROR = "configLoadError";
        d.GROUP_PROGRESS = "groupProgress";
        d.GROUP_COMPLETE = "groupComplete";
        d.GROUP_LOAD_ERROR = "groupLoadError";
        return d
    } (egret.Event);
    c.ResourceEvent = g;
    g.prototype.__class__ = "RES.ResourceEvent"
})(RES || (RES = {})); (function(c) {
    var g = function() {
        function c(b, a, d) {
            this.groupName = "";
            this.data = null;
            this._loaded = !1;
            this.name = b;
            this.url = a;
            this.type = d
        }
        var d = c.prototype;
        Object.defineProperty(d, "loaded", {
            get: function() {
                return this.data ? this.data.loaded: this._loaded
            },
            set: function(b) {
                this.data && (this.data.loaded = b);
                this._loaded = b
            },
            enumerable: !0,
            configurable: !0
        });
        d.toString = function() {
            return '[ResourceItem name="' + this.name + '" url="' + this.url + '" type="' + this.type + '"]'
        };
        c.TYPE_XML = "xml";
        c.TYPE_IMAGE = "image";
        c.TYPE_BIN = "bin";
        c.TYPE_TEXT = "text";
        c.TYPE_JSON = "json";
        c.TYPE_SHEET = "sheet";
        c.TYPE_FONT = "font";
        c.TYPE_SOUND = "sound";
        return c
    } ();
    c.ResourceItem = g;
    g.prototype.__class__ = "RES.ResourceItem"
})(RES || (RES = {})); (function(c) {
    var g = function() {
        function f() {
            this.keyMap = {};
            this.groupDic = {};
            c.configInstance = this
        }
        var d = f.prototype;
        d.getGroupByName = function(b) {
            var a = [];
            if (!this.groupDic[b]) return a;
            b = this.groupDic[b];
            for (var c = b.length,
            d = 0; d < c; d++) a.push(this.parseResourceItem(b[d]));
            return a
        };
        d.getRawGroupByName = function(b) {
            return this.groupDic[b] ? this.groupDic[b] : []
        };
        d.createGroup = function(b, a, c) {
            void 0 === c && (c = !1);
            if (!c && this.groupDic[b] || !a || 0 == a.length) return ! 1;
            c = this.groupDic;
            for (var d = [], f = a.length, g = 0; g < f; g++) {
                var p = a[g],
                k = c[p];
                if (k) for (var p = k.length,
                l = 0; l < p; l++) {
                    var m = k[l]; - 1 == d.indexOf(m) && d.push(m)
                } else(m = this.keyMap[p]) ? -1 == d.indexOf(m) && d.push(m) : egret.$warn(2E3, p)
            }
            if (0 == d.length) return ! 1;
            this.groupDic[b] = d;
            return ! 0
        };
        d.parseConfig = function(b, a) {
            if (b) {
                var c = b.resources;
                if (c) for (var d = c.length,
                f = 0; f < d; f++) {
                    var g = c[f],
                    p = g.url;
                    p && -1 == p.indexOf("://") && (g.url = a + p);
                    this.addItemToKeyMap(g)
                }
                if (c = b.groups) for (d = c.length, f = 0; f < d; f++) {
                    for (var p = c[f], k = [], l = p.keys.split(","), m = l.length, n = 0; n < m; n++) g = l[n].trim(),
                    (g = this.keyMap[g]) && -1 == k.indexOf(g) && k.push(g);
                    this.groupDic[p.name] = k
                }
            }
        };
        d.addSubkey = function(b, a) {
            var c = this.keyMap[a];
            c && !this.keyMap[b] && (this.keyMap[b] = c)
        };
        d.addItemToKeyMap = function(b) {
            this.keyMap[b.name] || (this.keyMap[b.name] = b);
            if (b.hasOwnProperty("subkeys")) {
                var a = b.subkeys.split(",");
                b.subkeys = a;
                for (var c = a.length,
                d = 0; d < c; d++) {
                    var f = a[d];
                    null == this.keyMap[f] && (this.keyMap[f] = b)
                }
            }
        };
        d.getName = function(b) {
            return (b = this.keyMap[b]) ? b.name: ""
        };
        d.getType = function(b) {
            return (b = this.keyMap[b]) ? b.type: ""
        };
        d.getRawResourceItem = function(b) {
            return this.keyMap[b]
        };
        d.getResourceItem = function(b) {
            return (b = this.keyMap[b]) ? this.parseResourceItem(b) : null
        };
        d.parseResourceItem = function(b) {
            var a = new c.ResourceItem(b.name, b.url, b.type);
            a.data = b;
            return a
        };
        return f
    } ();
    c.ResourceConfig = g;
    g.prototype.__class__ = "RES.ResourceConfig"
})(RES || (RES = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.thread = 2;
            this.loadingCount = 0;
            this.resInstance = this.callBack = null;
            this.groupTotalDic = {};
            this.numLoadedDic = {};
            this.itemListDic = {};
            this.groupErrorDic = {};
            this.retryTimesDic = {};
            this.maxRetryTimes = 3;
            this.failedList = [];
            this.priorityQueue = {};
            this.lazyLoadList = [];
            this.analyzerDic = {};
            this.queueIndex = 0
        }
        __extends(d, f);
        var b = d.prototype;
        b.isGroupInLoading = function(a) {
            return void 0 !== this.itemListDic[a]
        };
        b.loadGroup = function(a, b, d) {
            void 0 === d && (d = 0);
            if (!this.itemListDic[b] && b) if (a && 0 != a.length) {
                this.priorityQueue[d] ? this.priorityQueue[d].push(b) : this.priorityQueue[d] = [b];
                this.itemListDic[b] = a;
                d = a.length;
                for (var f = 0; f < d; f++) a[f].groupName = b;
                this.groupTotalDic[b] = a.length;
                this.numLoadedDic[b] = 0;
                this.next()
            } else egret.$warn(2001, b),
            a = new c.ResourceEvent(c.ResourceEvent.GROUP_LOAD_ERROR),
            a.groupName = b,
            this.dispatchEvent(a)
        };
        b.loadItem = function(a) {
            this.lazyLoadList.push(a);
            a.groupName = "";
            this.next()
        };
        b.next = function() {
            for (; this.loadingCount < this.thread;) {
                var a = this.getOneResourceItem();
                if (!a) break;
                this.loadingCount++;
                if (a.loaded) this.onItemComplete(a);
                else {
                    var b = this.analyzerDic[a.type];
                    b || (b = this.analyzerDic[a.type] = egret.Injector.getInstance(c.AnalyzerBase, a.type));
                    b.loadFile(a, this.onItemComplete, this)
                }
            }
        };
        b.getOneResourceItem = function() {
            if (0 < this.failedList.length) return this.failedList.shift();
            var a = Number.NEGATIVE_INFINITY,
            b;
            for (b in this.priorityQueue) a = Math.max(a, b);
            a = this.priorityQueue[a];
            if (!a || 0 == a.length) return 0 == this.lazyLoadList.length ? null: this.lazyLoadList.pop();
            b = a.length;
            for (var c, d = 0; d < b; d++) {
                this.queueIndex >= b && (this.queueIndex = 0);
                c = this.itemListDic[a[this.queueIndex]];
                if (0 < c.length) break;
                this.queueIndex++
            }
            return 0 == c.length ? null: c.shift()
        };
        b.onItemComplete = function(a) {
            this.loadingCount--;
            var b = a.groupName;
            if (!a.loaded) {
                var d = this.retryTimesDic[a.name] || 1;
                if (d > this.maxRetryTimes) delete this.retryTimesDic[a.name],
                c.ResourceEvent.dispatchResourceEvent(this.resInstance, c.ResourceEvent.ITEM_LOAD_ERROR, b, a);
                else {
                    this.retryTimesDic[a.name] = d + 1;
                    this.failedList.push(a);
                    this.next();
                    return
                }
            }
            if (b) {
                this.numLoadedDic[b]++;
                var d = this.numLoadedDic[b],
                f = this.groupTotalDic[b];
                a.loaded || (this.groupErrorDic[b] = !0);
                c.ResourceEvent.dispatchResourceEvent(this.resInstance, c.ResourceEvent.GROUP_PROGRESS, b, a, d, f);
                d == f && (a = this.groupErrorDic[b], this.removeGroupName(b), delete this.groupTotalDic[b], delete this.numLoadedDic[b], delete this.itemListDic[b], delete this.groupErrorDic[b], a ? c.ResourceEvent.dispatchResourceEvent(this, c.ResourceEvent.GROUP_LOAD_ERROR, b) : c.ResourceEvent.dispatchResourceEvent(this, c.ResourceEvent.GROUP_COMPLETE, b))
            } else this.callBack.call(this.resInstance, a);
            this.next()
        };
        b.removeGroupName = function(a) {
            for (var b in this.priorityQueue) {
                for (var c = this.priorityQueue[b], d = c.length, f = 0, g = !1, d = c.length, k = 0; k < d; k++) {
                    if (c[k] == a) {
                        c.splice(f, 1);
                        g = !0;
                        break
                    }
                    f++
                }
                if (g) {
                    0 == c.length && delete this.priorityQueue[b];
                    break
                }
            }
        };
        return d
    } (egret.EventDispatcher);
    c.ResourceLoader = g;
    g.prototype.__class__ = "RES.ResourceLoader"
})(RES || (RES = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.resourceConfig = null;
            this.resourceConfig = c.configInstance
        }
        __extends(d, f);
        var b = d.prototype;
        b.addSubkey = function(a, b) {
            this.resourceConfig.addSubkey(a, b)
        };
        b.loadFile = function(a, b, c) {};
        b.getRes = function(a) {};
        b.destroyRes = function(a) {
            return ! 1
        };
        d.getStringPrefix = function(a) {
            if (!a) return "";
            var b = a.indexOf(".");
            return - 1 != b ? a.substring(0, b) : ""
        };
        d.getStringTail = function(a) {
            if (!a) return "";
            var b = a.indexOf(".");
            return - 1 != b ? a.substring(b + 1) : ""
        };
        return d
    } (egret.HashObject);
    c.AnalyzerBase = g;
    g.prototype.__class__ = "RES.AnalyzerBase"
})(RES || (RES = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this);
            this.fileDic = {};
            this.resItemDic = [];
            this._dataFormat = egret.URLLoaderDataFormat.BINARY;
            this.recycler = new egret.Recycler
        }
        __extends(d, c);
        var b = d.prototype;
        b.loadFile = function(a, b, c) {
            if (this.fileDic[a.name]) b.call(c, a);
            else {
                var d = this.getLoader();
                this.resItemDic[d.hashCode] = {
                    item: a,
                    func: b,
                    thisObject: c
                };
                d.load(new egret.URLRequest(a.url))
            }
        };
        b.getLoader = function() {
            var a = this.recycler.pop();
            a || (a = new egret.URLLoader, a.addEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), a.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this));
            a.dataFormat = this._dataFormat;
            return a
        };
        b.onLoadFinish = function(a) {
            var b = a.target,
            c = this.resItemDic[b.hashCode];
            delete this.resItemDic[b.hashCode];
            var d = c.item,
            f = c.func;
            d.loaded = a.type == egret.Event.COMPLETE;
            d.loaded && this.analyzeData(d, b.data);
            this.recycler.push(b);
            f.call(c.thisObject, d)
        };
        b.analyzeData = function(a, b) {
            var c = a.name; ! this.fileDic[c] && b && (this.fileDic[c] = b)
        };
        b.getRes = function(a) {
            return this.fileDic[a]
        };
        b.hasRes = function(a) {
            return null != this.getRes(a)
        };
        b.destroyRes = function(a) {
            return this.fileDic[a] ? (this.onResourceDestroy(this.fileDic[a]), delete this.fileDic[a], !0) : !1
        };
        b.onResourceDestroy = function(a) {};
        return d
    } (c.AnalyzerBase);
    c.BinAnalyzer = g;
    g.prototype.__class__ = "RES.BinAnalyzer"
})(RES || (RES = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXTURE
        }
        __extends(d, c);
        var b = d.prototype;
        b.analyzeData = function(a, b) {
            var c = a.name; ! this.fileDic[c] && b && (this.fileDic[c] = b, (c = a.data) && c.scale9grid && (c = c.scale9grid.split(","), b.scale9Grid = new egret.Rectangle(parseInt(c[0]), parseInt(c[1]), parseInt(c[2]), parseInt(c[3]))))
        };
        b.onResourceDestroy = function(a) {
            a.dispose()
        };
        return d
    } (c.BinAnalyzer);
    c.ImageAnalyzer = g;
    g.prototype.__class__ = "RES.ImageAnalyzer"
})(RES || (RES = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }
        __extends(d, c);
        d.prototype.analyzeData = function(b, a) {
            var c = b.name;
            if (!this.fileDic[c] && a) try {
                this.fileDic[c] = JSON.parse(a)
            } catch(d) {
                egret.$warn(1017, b.url, a)
            }
        };
        return d
    } (c.BinAnalyzer);
    c.JsonAnalyzer = g;
    g.prototype.__class__ = "RES.JsonAnalyzer"
})(RES || (RES = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }
        __extends(d, c);
        return d
    } (c.BinAnalyzer);
    c.TextAnalyzer = g;
    g.prototype.__class__ = "RES.TextAnalyzer"
})(RES || (RES = {})); (function(c) {
    var g = function(f) {
        function d() {
            f.call(this);
            this.sheetMap = {};
            this.textureMap = {};
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }
        __extends(d, f);
        var b = d.prototype;
        b.getRes = function(a) {
            var b = this.fileDic[a];
            b || (b = this.textureMap[a]); ! b && (b = c.AnalyzerBase.getStringPrefix(a), b = this.fileDic[b]) && (a = c.AnalyzerBase.getStringTail(a), b = b.getTexture(a));
            return b
        };
        b.onLoadFinish = function(a) {
            var b = a.target,
            c = this.resItemDic[b.hashCode];
            delete this.resItemDic[b.hashCode];
            var d = c.item,
            f = c.func;
            d.loaded = a.type == egret.Event.COMPLETE;
            if (d.loaded) if ("string" == typeof b.data) {
                if (d.loaded = !1, a = this.analyzeConfig(d, b.data)) {
                    b = d.url;
                    d.url = a;
                    this._dataFormat = egret.URLLoaderDataFormat.TEXTURE;
                    this.loadFile(d, f, c.thisObject);
                    this._dataFormat = egret.URLLoaderDataFormat.TEXT;
                    d.url = b;
                    return
                }
            } else this.analyzeBitmap(d, b.data);
            this.recycler.push(b);
            f.call(c.thisObject, d)
        };
        b.analyzeConfig = function(a, b) {
            var c = a.name,
            d, f = "";
            try {
                d = JSON.parse(b)
            } catch(g) {
                egret.$warn(1017, a.url, b)
            }
            d && (this.sheetMap[c] = d, f = this.getRelativePath(a.url, d.file));
            return f
        };
        b.analyzeBitmap = function(a, b) {
            var c = a.name;
            if (!this.fileDic[c] && b) {
                var d = this.sheetMap[c];
                delete this.sheetMap[c];
                d = this.parseSpriteSheet(b, d, a.data && a.data.subkeys ? "": c);
                this.fileDic[c] = d
            }
        };
        b.getRelativePath = function(a, b) {
            a = a.split("\\").join("/");
            var c = a.lastIndexOf("/");
            return a = -1 != c ? a.substring(0, c + 1) + b: b
        };
        b.parseSpriteSheet = function(a, b, c) {
            b = b.frames;
            if (!b) return null;
            var d = new egret.SpriteSheet(a),
            f = this.textureMap,
            g;
            for (g in b) {
                var k = b[g];
                a = d.createTexture(g, k.x, k.y, k.w, k.h, k.offX, k.offY, k.sourceW, k.sourceH);
                k.scale9grid && (k = k.scale9grid.split(","), a.scale9Grid = new egret.Rectangle(parseInt(k[0]), parseInt(k[1]), parseInt(k[2]), parseInt(k[3])));
                null == f[g] && (f[g] = a, c && this.addSubkey(g, c))
            }
            return d
        };
        b.destroyRes = function(a) {
            var b = this.fileDic[a];
            if (b) {
                delete this.fileDic[a];
                for (var c in b._textureMap) this.textureMap[c] && delete this.textureMap[c];
                this.onResourceDestroy(b);
                return ! 0
            }
            return ! 1
        };
        b.onResourceDestroy = function(a) {
            a.dispose()
        };
        return d
    } (c.BinAnalyzer);
    c.SheetAnalyzer = g;
    g.prototype.__class__ = "RES.SheetAnalyzer"
})(RES || (RES = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this)
        }
        __extends(d, c);
        var b = d.prototype;
        b.analyzeConfig = function(a, b) {
            var c = a.name,
            d, f = "";
            try {
                d = JSON.parse(b)
            } catch(g) {}
            d ? f = this.getRelativePath(a.url, d.file) : (d = b, f = this.getTexturePath(a.url, d));
            this.sheetMap[c] = d;
            return f
        };
        b.analyzeBitmap = function(a, b) {
            var c = a.name;
            if (!this.fileDic[c] && b) {
                var d = this.sheetMap[c];
                delete this.sheetMap[c];
                d = new egret.BitmapFont(b, d);
                this.fileDic[c] = d
            }
        };
        b.getTexturePath = function(a, b) {
            var c = "",
            d = b.split("\n")[2],
            f = d.indexOf('file="'); - 1 != f && (d = d.substring(f + 6), f = d.indexOf('"'), c = d.substring(0, f));
            a = a.split("\\").join("/");
            f = a.lastIndexOf("/");
            return a = -1 != f ? a.substring(0, f + 1) + c: c
        };
        b.onResourceDestroy = function(a) {
            a.dispose()
        };
        return d
    } (c.SheetAnalyzer);
    c.FontAnalyzer = g;
    g.prototype.__class__ = "RES.FontAnalyzer"
})(RES || (RES = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.SOUND
        }
        __extends(d, c);
        d.prototype.analyzeData = function(b, a) {
            var c = b.name; ! this.fileDic[c] && a && (this.fileDic[c] = a, (c = b.data) && c.soundType ? a.preload(c.soundType) : a.preload(egret.Sound.EFFECT))
        };
        return d
    } (c.BinAnalyzer);
    c.SoundAnalyzer = g;
    g.prototype.__class__ = "RES.SoundAnalyzer"
})(RES || (RES = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.call(this);
            this._dataFormat = egret.URLLoaderDataFormat.TEXT
        }
        __extends(d, c);
        d.prototype.analyzeData = function(b, a) {
            var c = b.name;
            if (!this.fileDic[c] && a) try {
                var d = egret.XML.parse(a);
                this.fileDic[c] = d
            } catch(f) {}
        };
        return d
    } (c.BinAnalyzer);
    c.XMLAnalyzer = g;
    g.prototype.__class__ = "RES.XMLAnalyzer"
})(RES || (RES = {})); (function(c) {
    c.loadConfig = function(c, b, a) {
        void 0 === b && (b = "");
        void 0 === a && (a = "json");
        f.loadConfig(c, b, a)
    };
    c.loadGroup = function(c, b) {
        void 0 === b && (b = 0);
        f.loadGroup(c, b)
    };
    c.isGroupLoaded = function(c) {
        return f.isGroupLoaded(c)
    };
    c.getGroupByName = function(c) {
        return f.getGroupByName(c)
    };
    c.createGroup = function(c, b, a) {
        void 0 === a && (a = !1);
        return f.createGroup(c, b, a)
    };
    c.hasRes = function(c) {
        return f.hasRes(c)
    };
    c.parseConfig = function(c, b) {
        void 0 === b && (b = "");
        f.parseConfig(c, b)
    };
    c.getRes = function(c) {
        return f.getRes(c)
    };
    c.getResAsync = function(c, b, a) {
        f.getResAsync(c, b, a)
    };
    c.getResByUrl = function(c, b, a, e) {
        void 0 === e && (e = "");
        f.getResByUrl(c, b, a, e)
    };
    c.destroyRes = function(c, b) {
        return f.destroyRes(c, b)
    };
    c.setMaxLoadingThread = function(c) {
        f.setMaxLoadingThread(c)
    };
    c.setMaxRetryTimes = function(c) {
        f.setMaxRetryTimes(c)
    };
    c.addEventListener = function(c, b, a, e, g) {
        void 0 === e && (e = !1);
        void 0 === g && (g = 0);
        f.addEventListener(c, b, a, e, g)
    };
    c.removeEventListener = function(c, b, a, e) {
        void 0 === e && (e = !1);
        f.removeEventListener(c, b, a, e)
    };
    var g = function(d) {
        function b() {
            d.call(this);
            this.analyzerDic = {};
            this.configItemList = [];
            this.configComplete = this.callLaterFlag = !1;
            this.loadedGroups = [];
            this.groupNameList = [];
            this.asyncDic = {};
            this.init()
        }
        __extends(b, d);
        var a = b.prototype;
        a.getAnalyzerByType = function(a) {
            var b = this.analyzerDic[a];
            b || (b = this.analyzerDic[a] = egret.Injector.getInstance(c.AnalyzerBase, a));
            return b
        };
        a.init = function() {
            egret.Injector.hasMapRule(c.AnalyzerBase, c.ResourceItem.TYPE_BIN) || egret.Injector.mapClass(c.AnalyzerBase, c.BinAnalyzer, c.ResourceItem.TYPE_BIN);
            egret.Injector.hasMapRule(c.AnalyzerBase, c.ResourceItem.TYPE_IMAGE) || egret.Injector.mapClass(c.AnalyzerBase, c.ImageAnalyzer, c.ResourceItem.TYPE_IMAGE);
            egret.Injector.hasMapRule(c.AnalyzerBase, c.ResourceItem.TYPE_TEXT) || egret.Injector.mapClass(c.AnalyzerBase, c.TextAnalyzer, c.ResourceItem.TYPE_TEXT);
            egret.Injector.hasMapRule(c.AnalyzerBase, c.ResourceItem.TYPE_JSON) || egret.Injector.mapClass(c.AnalyzerBase, c.JsonAnalyzer, c.ResourceItem.TYPE_JSON);
            egret.Injector.hasMapRule(c.AnalyzerBase, c.ResourceItem.TYPE_SHEET) || egret.Injector.mapClass(c.AnalyzerBase, c.SheetAnalyzer, c.ResourceItem.TYPE_SHEET);
            egret.Injector.hasMapRule(c.AnalyzerBase, c.ResourceItem.TYPE_FONT) || egret.Injector.mapClass(c.AnalyzerBase, c.FontAnalyzer, c.ResourceItem.TYPE_FONT);
            egret.Injector.hasMapRule(c.AnalyzerBase, c.ResourceItem.TYPE_SOUND) || egret.Injector.mapClass(c.AnalyzerBase, c.SoundAnalyzer, c.ResourceItem.TYPE_SOUND);
            egret.Injector.hasMapRule(c.AnalyzerBase, c.ResourceItem.TYPE_XML) || egret.Injector.mapClass(c.AnalyzerBase, c.XMLAnalyzer, c.ResourceItem.TYPE_XML);
            this.resConfig = new c.ResourceConfig;
            this.resLoader = new c.ResourceLoader;
            this.resLoader.callBack = this.onResourceItemComp;
            this.resLoader.resInstance = this;
            this.resLoader.addEventListener(c.ResourceEvent.GROUP_COMPLETE, this.onGroupComp, this);
            this.resLoader.addEventListener(c.ResourceEvent.GROUP_LOAD_ERROR, this.onGroupError, this)
        };
        a.loadConfig = function(a, b, c) {
            void 0 === c && (c = "json");
            this.configItemList.push({
                url: a,
                resourceRoot: b,
                type: c
            });
            this.callLaterFlag || (egret.callLater(this.startLoadConfig, this), this.callLaterFlag = !0)
        };
        a.startLoadConfig = function() {
            this.callLaterFlag = !1;
            var a = this.configItemList;
            this.configItemList = [];
            this.loadingConfigList = a;
            for (var d = a.length,
            f = [], g = 0; g < d; g++) {
                var p = a[g],
                p = new c.ResourceItem(p.url, p.url, p.type);
                f.push(p)
            }
            this.resLoader.loadGroup(f, b.GROUP_CONFIG, Number.MAX_VALUE)
        };
        a.isGroupLoaded = function(a) {
            return - 1 != this.loadedGroups.indexOf(a)
        };
        a.getGroupByName = function(a) {
            return this.resConfig.getGroupByName(a)
        };
        a.loadGroup = function(a, b) {
            void 0 === b && (b = 0);
            if ( - 1 != this.loadedGroups.indexOf(a)) c.ResourceEvent.dispatchResourceEvent(this, c.ResourceEvent.GROUP_COMPLETE, a);
            else if (!this.resLoader.isGroupInLoading(a)) if (this.configComplete) {
                var d = this.resConfig.getGroupByName(a);
                this.resLoader.loadGroup(d, a, b)
            } else this.groupNameList.push({
                name: a,
                priority: b
            })
        };
        a.createGroup = function(a, b, c) {
            void 0 === c && (c = !1);
            if (c) {
                var d = this.loadedGroups.indexOf(a); - 1 != d && this.loadedGroups.splice(d, 1)
            }
            return this.resConfig.createGroup(a, b, c)
        };
        a.onGroupComp = function(a) {
            if (a.groupName == b.GROUP_CONFIG) {
                a = this.loadingConfigList.length;
                for (var d = 0; d < a; d++) {
                    var f = this.loadingConfigList[d],
                    g = this.getAnalyzerByType(f.type),
                    p = g.getRes(f.url);
                    g.destroyRes(f.url);
                    this.resConfig.parseConfig(p, f.resourceRoot)
                }
                this.configComplete = !0;
                this.loadingConfigList = null;
                c.ResourceEvent.dispatchResourceEvent(this, c.ResourceEvent.CONFIG_COMPLETE);
                this.loadDelayGroups()
            } else this.loadedGroups.push(a.groupName),
            this.dispatchEvent(a)
        };
        a.loadDelayGroups = function() {
            var a = this.groupNameList;
            this.groupNameList = [];
            for (var b = a.length,
            c = 0; c < b; c++) {
                var d = a[c];
                this.loadGroup(d.name, d.priority)
            }
        };
        a.onGroupError = function(a) {
            a.groupName == b.GROUP_CONFIG ? (this.loadingConfigList = null, c.ResourceEvent.dispatchResourceEvent(this, c.ResourceEvent.CONFIG_LOAD_ERROR)) : this.dispatchEvent(a)
        };
        a.hasRes = function(a) {
            var b = this.resConfig.getType(a);
            return "" == b && (a = c.AnalyzerBase.getStringPrefix(a), b = this.resConfig.getType(a), "" == b) ? !1 : !0
        };
        a.parseConfig = function(a, b) {
            this.resConfig.parseConfig(a, b);
            this.configComplete || this.loadingConfigList || (this.configComplete = !0, this.loadDelayGroups())
        };
        a.getRes = function(a) {
            var b = this.resConfig.getType(a);
            return "" == b && (b = c.AnalyzerBase.getStringPrefix(a), b = this.resConfig.getType(b), "" == b) ? null: this.getAnalyzerByType(b).getRes(a)
        };
        a.getResAsync = function(a, b, d) {
            var f = this.resConfig.getType(a),
            g = this.resConfig.getName(a);
            if ("" == f && (g = c.AnalyzerBase.getStringPrefix(a), f = this.resConfig.getType(g), "" == f)) {
                b.call(d, null);
                return
            } (f = this.getAnalyzerByType(f).getRes(a)) ? b.call(d, f) : (a = {
                key: a,
                compFunc: b,
                thisObject: d
            },
            this.asyncDic[g] ? this.asyncDic[g].push(a) : (this.asyncDic[g] = [a], g = this.resConfig.getResourceItem(g), this.resLoader.loadItem(g)))
        };
        a.getResByUrl = function(a, b, d, f) {
            void 0 === f && (f = "");
            if (a) {
                f || (f = this.getTypeByUrl(a));
                var g = this.getAnalyzerByType(f).getRes(a);
                g ? b.call(d, g) : (b = {
                    key: a,
                    compFunc: b,
                    thisObject: d
                },
                this.asyncDic[a] ? this.asyncDic[a].push(b) : (this.asyncDic[a] = [b], a = new c.ResourceItem(a, a, f), this.resLoader.loadItem(a)))
            } else b.call(d, null)
        };
        a.getTypeByUrl = function(a) { (a = a.substr(a.lastIndexOf(".") + 1)) && (a = a.toLowerCase());
            switch (a) {
            case c.ResourceItem.TYPE_XML:
            case c.ResourceItem.TYPE_JSON:
            case c.ResourceItem.TYPE_SHEET:
                break;
            case "png":
            case "jpg":
            case "gif":
            case "jpeg":
            case "bmp":
                a = c.ResourceItem.TYPE_IMAGE;
                break;
            case "fnt":
                a = c.ResourceItem.TYPE_FONT;
                break;
            case "txt":
                a = c.ResourceItem.TYPE_TEXT;
                break;
            case "mp3":
            case "ogg":
            case "mpeg":
            case "wav":
            case "m4a":
            case "mp4":
            case "aiff":
            case "wma":
            case "mid":
                a = c.ResourceItem.TYPE_SOUND;
                break;
            default:
                a = c.ResourceItem.TYPE_BIN
            }
            return a
        };
        a.onResourceItemComp = function(a) {
            var b = this.asyncDic[a.name];
            delete this.asyncDic[a.name];
            a = this.getAnalyzerByType(a.type);
            for (var c = b.length,
            d = 0; d < c; d++) {
                var f = b[d],
                g = a.getRes(f.key);
                f.compFunc.call(f.thisObject, g, f.key)
            }
        };
        a.destroyRes = function(a, b) {
            void 0 === b && (b = !0);
            var c = this.resConfig.getRawGroupByName(a);
            if (c && 0 < c.length) {
                var d = this.loadedGroups.indexOf(a); - 1 != d && this.loadedGroups.splice(d, 1);
                for (var f = c.length,
                g = 0; g < f; g++) if (d = c[g], b || !this.isResInLoadedGroup(d.name)) {
                    d.loaded = !1;
                    var l = this.getAnalyzerByType(d.type);
                    l.destroyRes(d.name);
                    this.removeLoadedGroupsByItemName(d.name)
                }
                return ! 0
            }
            c = this.resConfig.getType(a);
            if ("" == c) return ! 1;
            d = this.resConfig.getRawResourceItem(a);
            d.loaded = !1;
            l = this.getAnalyzerByType(c);
            c = l.destroyRes(a);
            this.removeLoadedGroupsByItemName(d.name);
            return c
        };
        a.removeLoadedGroupsByItemName = function(a) {
            for (var b = this.loadedGroups,
            c = b.length,
            d = 0; d < c; d++) for (var f = this.resConfig.getRawGroupByName(b[d]), g = f.length, l = 0; l < g; l++) if (f[l].name == a) {
                b.splice(d, 1);
                d--;
                c = b.length;
                break
            }
        };
        a.isResInLoadedGroup = function(a) {
            for (var b = this.loadedGroups,
            c = b.length,
            d = 0; d < c; d++) for (var f = this.resConfig.getRawGroupByName(b[d]), g = f.length, l = 0; l < g; l++) if (f[l].name == a) return ! 0;
            return ! 1
        };
        a.setMaxLoadingThread = function(a) {
            1 > a && (a = 1);
            this.resLoader.thread = a
        };
        a.setMaxRetryTimes = function(a) {
            a = Math.max(a, 0);
            this.resLoader.maxRetryTimes = a
        };
        b.GROUP_CONFIG = "RES__CONFIG";
        return b
    } (egret.EventDispatcher);
    g.prototype.__class__ = "RES.Resource";
    var f = new g
})(RES || (RES = {}));
var particle; (function(c) {
    var g = function() {
        function c() {
            this.reset()
        }
        c.prototype.reset = function() {
            this.y = this.x = 0;
            this.scale = 1;
            this.rotation = 0;
            this.alpha = 1;
            this.currentTime = 0;
            this.totalTime = 1E3
        };
        return c
    } ();
    c.Particle = g;
    g.prototype.__class__ = "particle.Particle"
})(particle || (particle = {})); (function(c) {
    var g = function(f) {
        function d(a, b) {
            f.call(this);
            this._pool = [];
            this.frameTime = 0;
            this.particles = [];
            this.emissionTime = -1;
            this.emitterY = this.emitterX = 0;
            this.maxParticles = 200;
            this.numParticles = 0;
            this.particleClass = null;
            this.transformForRender = new egret.Matrix;
            this._texture_to_render = a;
            this.emissionRate = b;
            this.texture = a
        }
        __extends(d, f);
        var b = d.prototype;
        b.getParticle = function() {
            return this._pool.length ? this._pool.pop() : this.particleClass ? new this.particleClass: new c.Particle
        };
        b.removeParticle = function(a) {
            var b = this.particles.indexOf(a);
            return - 1 != b ? (a.reset(), this.particles.splice(b, 1), this._pool.push(a), this.numParticles--, !0) : !1
        };
        b.initParticle = function(a) {
            a.x = this.emitterX;
            a.y = this.emitterY;
            a.currentTime = 0;
            a.totalTime = 1E3
        };
        b.start = function(a) {
            void 0 === a && (a = -1);
            0 != this.emissionRate && (this.emissionTime = a, egret.Ticker.getInstance().register(this.update, this))
        };
        b.stop = function(a) {
            void 0 === a && (a = !1);
            this.emissionTime = 0;
            egret.Ticker.getInstance().unregister(this.update, this);
            a && this.clear()
        };
        b.update = function(a) {
            if ( - 1 == this.emissionTime || 0 < this.emissionTime) {
                for (this.frameTime += a; 0 < this.frameTime;) this.numParticles < this.maxParticles && this.addOneParticle(),
                this.frameTime -= this.emissionRate; - 1 != this.emissionTime && (this.emissionTime -= a, 0 > this.emissionTime && (this.emissionTime = 0))
            }
            for (var b, c = 0; c < this.numParticles;) b = this.particles[c],
            b.currentTime < b.totalTime ? (this.advanceParticle(b, a), b.currentTime += a, c++) : this.removeParticle(b);
            0 == this.numParticles && 0 == this.emissionTime && (this.stop(), this.dispatchEventWith(egret.Event.COMPLETE))
        };
        b.setCurrentParticles = function(a) {
            for (var b = this.numParticles; b < a && this.numParticles < this.maxParticles; b++) this.addOneParticle()
        };
        b.changeTexture = function(a) {
            this.texture != a && (this._texture_to_render = this.texture = a)
        };
        b.clear = function() {
            for (; this.particles.length;) this.removeParticle(this.particles[0]);
            this.numParticles = 0
        };
        b.addOneParticle = function() {
            var a = this.getParticle();
            this.initParticle(a);
            0 < a.totalTime && (this.particles.push(a), this.numParticles++)
        };
        b.advanceParticle = function(a, b) {
            a.y -= b / 6
        };
        b._render = function(a) {
            if (0 < this.numParticles) for (var b = egret.RenderFilter.getInstance(), c = this.texture, d = c._textureWidth, f = c._textureHeight, g = c._offsetX, k = c._offsetY, l = c._bitmapX, m = c._bitmapY, n = c._bitmapWidth, c = c._bitmapHeight, q, s = 0; s < this.numParticles; s++) q = this.particles[s],
            this.transformForRender.identityMatrix(this._worldTransform),
            this.transformForRender.appendTransform(q.x, q.y, q.scale, q.scale, q.rotation, 0, 0, d / 2, f / 2),
            a.setTransform(this.transformForRender),
            a.setAlpha(q.alpha, egret.BlendMode.NORMAL),
            b.drawImage(a, this, l, m, n, c, g, k, d, f)
        };
        return d
    } (egret.DisplayObject);
    c.ParticleSystem = g;
    g.prototype.__class__ = "particle.ParticleSystem"
})(particle || (particle = {})); (function(c) {
    var g = function(c) {
        function d() {
            c.apply(this, arguments)
        }
        __extends(d, c);
        d.prototype.reset = function() {
            c.prototype.reset.call(this);
            this.scaleDelta = this.rotationDelta = this.tangentialAcceleration = this.radialAcceleration = this.velocityY = this.velocityX = this.startY = this.startX = 0
        };
        return d
    } (c.Particle);
    c.GravityParticle = g;
    g.prototype.__class__ = "particle.GravityParticle"
})(particle || (particle = {})); (function(c) {
    var g = function(f) {
        function d(a, b) {
            f.call(this, a, 200);
            this.parseConfig(b);
            this.emissionRate = this.lifespan / this.maxParticles;
            this.particleClass = c.GravityParticle
        }
        __extends(d, f);
        var b = d.prototype;
        b.parseConfig = function(a) {
            function b(a) {
                return "undefined" == typeof a ? 0 : a
            }
            this.emitterX = b(a.emitter.x);
            this.emitterY = b(a.emitter.y);
            this.emitterXVariance = b(a.emitterVariance.x);
            this.emitterYVariance = b(a.emitterVariance.y);
            this.gravityX = b(a.gravity.x);
            this.gravityY = b(a.gravity.y);
            this.maxParticles = b(a.maxParticles);
            this.speed = b(a.speed);
            this.speedVariance = b(a.speedVariance);
            this.lifespan = Math.max(0.01, b(a.lifespan));
            this.lifespanVariance = b(a.lifespanVariance);
            this.emitAngle = b(a.emitAngle);
            this.emitAngleVariance = b(a.emitAngleVariance);
            this.startSize = b(a.startSize);
            this.startSizeVariance = b(a.startSizeVariance);
            this.endSize = b(a.endSize);
            this.endSizeVariance = b(a.endSizeVariance);
            this.startRotation = b(a.startRotation);
            this.startRotationVariance = b(a.startRotationVariance);
            this.endRotation = b(a.endRotation);
            this.endRotationVariance = b(a.endRotationVariance);
            this.radialAcceleration = b(a.radialAcceleration);
            this.radialAccelerationVariance = b(a.radialAccelerationVariance);
            this.tangentialAcceleration = b(a.tangentialAcceleration);
            this.tangentialAccelerationVariance = b(a.tangentialAccelerationVariance);
            this.startAlpha = b(a.startAlpha);
            this.startAlphaVariance = b(a.startAlphaVariance);
            this.endAlpha = b(a.endAlpha);
            this.endAlphaVariance = b(a.endAlphaVariance)
        };
        b.initParticle = function(a) {
            var b = d.getValue(this.lifespan, this.lifespanVariance);
            a.currentTime = 0;
            a.totalTime = 0 < b ? b: 0;
            if (! (0 >= b)) {
                a.x = d.getValue(this.emitterX, this.emitterXVariance);
                a.y = d.getValue(this.emitterY, this.emitterYVariance);
                a.startX = this.emitterX;
                a.startY = this.emitterY;
                var c = d.getValue(this.emitAngle, this.emitAngleVariance),
                c = c * Math.PI / 180,
                f = d.getValue(this.speed, this.speedVariance);
                a.velocityX = f * Math.cos(c);
                a.velocityY = f * Math.sin(c);
                a.radialAcceleration = d.getValue(this.radialAcceleration, this.radialAccelerationVariance);
                a.tangentialAcceleration = d.getValue(this.tangentialAcceleration, this.tangentialAccelerationVariance);
                c = d.getValue(this.startSize, this.startSizeVariance);
                0.1 > c && (c = 0.1);
                f = d.getValue(this.endSize, this.endSizeVariance);
                0.1 > f && (f = 0.1);
                var g = this.texture.textureWidth;
                a.scale = c / g;
                a.scaleDelta = (f - c) / b / g;
                c = d.getValue(this.startRotation, this.startRotationVariance);
                f = d.getValue(this.endRotation, this.endRotationVariance);
                a.rotation = c;
                a.rotationDelta = (f - c) / b;
                c = d.getValue(this.startAlpha, this.startAlphaVariance);
                f = d.getValue(this.endAlpha, this.endAlphaVariance);
                a.alpha = c;
                a.alphaDelta = (f - c) / b
            }
        };
        d.getValue = function(a, b) {
            return a + b * (2 * Math.random() - 1)
        };
        b.advanceParticle = function(a, b) {
            b /= 1E3;
            var c = a.totalTime - a.currentTime;
            b = c > b ? b: c;
            a.currentTime += b;
            var c = a.x - a.startX,
            d = a.y - a.startY,
            f = Math.sqrt(c * c + d * d);
            0.01 > f && (f = 0.01);
            var c = c / f,
            d = d / f,
            f = c,
            g = d,
            c = c * a.radialAcceleration,
            d = d * a.radialAcceleration,
            k = f,
            f = -g * a.tangentialAcceleration,
            g = k * a.tangentialAcceleration;
            a.velocityX += b * (this.gravityX + c + f);
            a.velocityY += b * (this.gravityY + d + g);
            a.x += a.velocityX * b;
            a.y += a.velocityY * b;
            a.scale += a.scaleDelta * b * 1E3;
            a.rotation += a.rotationDelta * b * 1E3;
            a.alpha += a.alphaDelta * b * 1E3
        };
        return d
    } (c.ParticleSystem);
    c.GravityParticleSystem = g;
    g.prototype.__class__ = "particle.GravityParticleSystem"
})(particle || (particle = {}));
var Loading = function(c) {
    function g(d) {
        c.call(this);
        this.isfinish = !1;
        this.mood = "loading";
        this.total = this.current = 0;
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this);
        this.mood = d || "loading"
    }
    __extends(g, c);
    var f = g.prototype;
    f.onAddToStage = function(c) {
        this.removeEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this);
        tool.setWH(this);
        this.createView()
    };
    f.createView = function() {
        this.bg = tool.initRect(2236962, 0, 0, tool.stageW, tool.stageH);
        this.addChild(this.bg);
        this.textField = tool.initTextField("", tool.stageW / 2, tool.stageH - 100, 16777215, 25, "helvetica", egret.HorizontalAlign.CENTER, 0.5, 1);
        "stinger" === this.mood && (this.textField.text = "\u0394 by DKZ\nhttps://davidkingzyb.github.io\n");
        this.addChild(this.textField);
        this.doLogo()
    };
    f.doLogo = function() {
        function c(b, d, e, f) {
            void 0 === f && (f = 16777215);
            b.lineStyle(2, f);
            for (f = 1; 21 >= f; f++) a["drawWhite" + f](b, d, e);
            for (f = 1; 5 >= f; f++) a["drawBlack" + f](b, d, e);
            for (f = 1; 4 >= f; f++) a["drawGrey" + f](b, d, e)
        }
        function b(b, c, d, e) {
            var f = 0; (function() {
                var g = Math.random();
                b.beginFill(16777215 * Math.random());
                if (0.2 > g) a["drawGrey" + Math.ceil(4 * Math.random())](b, c, d);
                else if (0.4 > g) a["drawBlack" + Math.ceil(5 * Math.random())](b, c, d);
                else a["drawWhite" + Math.ceil(21 * Math.random())](b, c, d);
                b.endFill();
                f++;
                50 > f && egret.setTimeout(arguments.callee, e, 50)
            })()
        }
        var a = {
            drawWhite1: function(a, b, c) {
                a.moveTo(1 * b, 7 * c);
                a.lineTo(1 * b, 15 * c);
                a.lineTo(2 * b, 16 * c);
                a.lineTo(2 * b, 8 * c);
                a.lineTo(1 * b, 7 * c)
            },
            drawWhite2: function(a, b, c) {
                a.moveTo(1 * b, 7 * c);
                a.lineTo(3 * b, 5 * c);
                a.lineTo(3 * b, 7 * c);
                a.lineTo(2 * b, 8 * c);
                a.lineTo(1 * b, 7 * c)
            },
            drawWhite3: function(a, b, c) {
                a.moveTo(3 * b, 5 * c);
                a.lineTo(3 * b, 7 * c);
                a.lineTo(4 * b, 6 * c);
                a.lineTo(3 * b, 5 * c)
            },
            drawWhite4: function(a, b, c) {
                a.moveTo(4 * b, 6 * c);
                a.lineTo(3 * b, 7 * c);
                a.lineTo(4 * b, 8 * c);
                a.lineTo(4 * b, 6 * c)
            },
            drawWhite5: function(a, b, c) {
                a.moveTo(4 * b, 6 * c);
                a.lineTo(5 * b, 7 * c);
                a.lineTo(4 * b, 8 * c);
                a.lineTo(4 * b, 6 * c)
            },
            drawWhite6: function(a, b, c) {
                a.moveTo(5 * b, 7 * c);
                a.lineTo(4 * b, 8 * c);
                a.lineTo(4 * b, 12 * c);
                a.lineTo(5 * b, 11 * c);
                a.lineTo(5 * b, 7 * c)
            },
            drawWhite7: function(a, b, c) {
                a.moveTo(4 * b, 12 * c);
                a.lineTo(3 * b, 13 * c);
                a.lineTo(4 * b, 14 * c);
                a.lineTo(4 * b, 12 * c)
            },
            drawWhite8: function(a, b, c) {
                a.moveTo(4 * b, 14 * c);
                a.lineTo(2 * b, 16 * c);
                a.lineTo(2 * b, 8 * c);
                a.lineTo(3 * b, 7 * c);
                a.lineTo(4 * b, 8 * c);
                a.lineTo(3 * b, 9 * c);
                a.lineTo(3 * b, 13 * c);
                a.lineTo(4 * b, 14 * c)
            },
            drawWhite9: function(a, b, c) {
                a.moveTo(4 * b, 12 * c);
                a.lineTo(5 * b, 13 * c);
                a.lineTo(5 * b, 11 * c);
                a.lineTo(4 * b, 12 * c)
            },
            drawWhite10: function(a, b, c) {
                a.moveTo(4 * b, 4 * c);
                a.lineTo(5 * b, 5 * c);
                a.lineTo(5 * b, 7 * c);
                a.lineTo(4 * b, 6 * c);
                a.lineTo(4 * b, 4 * c)
            },
            drawWhite11: function(a, b, c) {
                a.moveTo(4 * b, 4 * c);
                a.lineTo(5 * b, 3 * c);
                a.lineTo(6 * b, 4 * c);
                a.lineTo(5 * b, 5 * c);
                a.lineTo(4 * b, 4 * c)
            },
            drawWhite12: function(a, b, c) {
                a.moveTo(5 * b, 5 * c);
                a.lineTo(6 * b, 4 * c);
                a.lineTo(6 * b, 6 * c);
                a.lineTo(7 * b, 5 * c);
                a.lineTo(7 * b, 7 * c);
                a.lineTo(8 * b, 6 * c);
                a.lineTo(8 * b, 10 * c);
                a.lineTo(7 * b, 11 * c);
                a.lineTo(7 * b, 9 * c);
                a.lineTo(6 * b, 10 * c);
                a.lineTo(6 * b, 12 * c);
                a.lineTo(5 * b, 13 * c);
                a.lineTo(5 * b, 5 * c)
            },
            drawWhite13: function(a, b, c) {
                a.moveTo(6 * b, 2 * c);
                a.lineTo(7 * b, 1 * c);
                a.lineTo(8 * b, 2 * c);
                a.lineTo(7 * b, 3 * c);
                a.lineTo(6 * b, 2 * c)
            },
            drawWhite14: function(a, b, c) {
                a.moveTo(7 * b, 3 * c);
                a.lineTo(8 * b, 2 * c);
                a.lineTo(8 * b, 4 * c);
                a.lineTo(7 * b, 5 * c);
                a.lineTo(7 * b, 3 * c)
            },
            drawWhite15: function(a, b, c) {
                a.moveTo(8 * b, 2 * c);
                a.lineTo(9 * b, 1 * c);
                a.lineTo(12 * b, 4 * c);
                a.lineTo(11 * b, 5 * c);
                a.lineTo(8 * b, 2 * c)
            },
            drawWhite16: function(a, b, c) {
                a.moveTo(12 * b, 4 * c);
                a.lineTo(12 * b, 8 * c);
                a.lineTo(11 * b, 7 * c);
                a.lineTo(11 * b, 5 * c);
                a.lineTo(12 * b, 4 * c)
            },
            drawWhite17: function(a, b, c) {
                a.moveTo(12 * b, 8 * c);
                a.lineTo(11 * b, 9 * c);
                a.lineTo(11 * b, 7 * c);
                a.lineTo(12 * b, 8 * c)
            },
            drawWhite18: function(a, b, c) {
                a.moveTo(11 * b, 9 * c);
                a.lineTo(10 * b, 8 * c);
                a.lineTo(11 * b, 7 * c);
                a.lineTo(11 * b, 9 * c)
            },
            drawWhite19: function(a, b, c) {
                a.moveTo(10 * b, 8 * c);
                a.lineTo(11 * b, 7 * c);
                a.lineTo(11 * b, 5 * c);
                a.lineTo(8 * b, 2 * c);
                a.lineTo(8 * b, 4 * c);
                a.lineTo(10 * b, 6 * c);
                a.lineTo(10 * b, 8 * c)
            },
            drawWhite20: function(a, b, c) {
                a.moveTo(8 * b, 6 * c);
                a.lineTo(8 * b, 10 * c);
                a.lineTo(11 * b, 13 * c);
                a.lineTo(11 * b, 11 * c);
                a.lineTo(10 * b, 10 * c);
                a.lineTo(10 * b, 8 * c);
                a.lineTo(8 * b, 6 * c)
            },
            drawWhite21: function(a, b, c) {
                a.moveTo(11 * b, 13 * c);
                a.lineTo(12 * b, 12 * c);
                a.lineTo(12 * b, 10 * c);
                a.lineTo(11 * b, 11 * c);
                a.lineTo(11 * b, 13 * c)
            },
            drawBlack5: function(a, b, c) {
                a.moveTo(12 * b, 10 * c);
                a.lineTo(11 * b, 11 * c);
                a.lineTo(10 * b, 10 * c);
                a.lineTo(11 * b, 9 * c);
                a.lineTo(12 * b, 10 * c)
            },
            drawBlack4: function(a, b, c) {
                a.moveTo(9 * b, 5 * c);
                a.lineTo(8 * b, 6 * c);
                a.lineTo(10 * b, 8 * c);
                a.lineTo(10 * b, 6 * c);
                a.lineTo(9 * b, 5 * c)
            },
            drawBlack1: function(a, b, c) {
                a.moveTo(3 * b, 11 * c);
                a.lineTo(4 * b, 12 * c);
                a.lineTo(3 * b, 13 * c);
                a.lineTo(3 * b, 11 * c)
            },
            drawBlack2: function(a, b, c) {
                a.moveTo(6 * b, 4 * c);
                a.lineTo(7 * b, 5 * c);
                a.lineTo(6 * b, 6 * c);
                a.lineTo(6 * b, 4 * c)
            },
            drawBlack3: function(a, b, c) {
                a.moveTo(7 * b, 5 * c);
                a.lineTo(8 * b, 6 * c);
                a.lineTo(7 * b, 7 * c);
                a.lineTo(7 * b, 5 * c)
            },
            drawGrey1: function(a, b, c) {
                a.moveTo(4 * b, 8 * c);
                a.lineTo(4 * b, 12 * c);
                a.lineTo(3 * b, 11 * c);
                a.lineTo(3 * b, 9 * c);
                a.lineTo(4 * b, 8 * c)
            },
            drawGrey2: function(a, b, c) {
                a.moveTo(6 * b, 10 * c);
                a.lineTo(7 * b, 9 * c);
                a.lineTo(7 * b, 11 * c);
                a.lineTo(6 * b, 10 * c)
            },
            drawGrey3: function(a, b, c) {
                a.moveTo(6 * b, 2 * c);
                a.lineTo(6 * b, 4 * c);
                a.lineTo(7 * b, 5 * c);
                a.lineTo(7 * b, 3 * c);
                a.lineTo(6 * b, 2 * c)
            },
            drawGrey4: function(a, b, c) {
                a.moveTo(11 * b, 9 * c);
                a.lineTo(10 * b, 10 * c);
                a.lineTo(10 * b, 8 * c);
                a.lineTo(11 * b, 9 * c)
            }
        };
        this.logo = new egret.Shape;
        this.logo.x = tool.stageW / 2;
        this.logo.y = tool.stageH / 2;
        this.logo.anchorX = 0.6;
        this.logo.anchorY = 0.6;
        this.logo.graphics.clear();
        var e = 20 * Math.sqrt(3);
        c(this.logo.graphics, e, 20);
        this.addChild(this.logo); (function(e, f, g, p) {
            c(e, f, g, 1);
            var k = 1; (function() {
                e.beginFill(13421772);
                a["drawWhite" + k](e, f, g);
                e.endFill();
                k++;
                21 >= k && egret.setTimeout(arguments.callee, p, 100)
            })();
            var l = 1; (function() {
                e.beginFill(7829367);
                a["drawGrey" + l](e, f, g);
                e.endFill();
                l++;
                4 >= l && egret.setTimeout(arguments.callee, p, 700)
            })();
            var m = 1; (function() {
                e.beginFill(3355443);
                a["drawBlack" + m](e, f, g);
                e.endFill();
                m++;
                5 >= m && egret.setTimeout(arguments.callee, p, 550)
            })();
            "stinger" !== p.mood ? egret.setTimeout(p.finish, p, 3500) : (p.logo.touchEnabled = !0, p.logo.addEventListener(egret.TouchEvent.TOUCH_TAP,
            function() {
                b(p.logo.graphics, f, g, p)
            },
            p))
        })(this.logo.graphics, e, 20, this)
    };
    f.finish = function() {
        function c() {
            this.dispatchEventWith("finish")
        }
        this.isfinish = !0;
        this.total === this.current ? (egret.Tween.get(this.textField).to({
            alpha: 0
        },
        400), egret.Tween.get(this.logo).to({
            alpha: 0
        },
        500).call(c, this)) : egret.setTimeout(this.finish, this, 1E3)
    };
    f.setProgress = function(c, b) {
        this.current = c;
        this.total = b;
        this.textField.text = "Loading..." + c + "/" + b
    };
    return g
} (egret.DisplayObjectContainer);
Loading.prototype.__class__ = "Loading";
var Render = function() {
    function c() {
        this.acc = 0;
        this.dt = Number((1E3 / c.FPS).toFixed(1))
    }
    var g = c.prototype;
    g.register = function(c, d) {
        this.callback = c;
        this.context = d;
        this.acc = 0
    };
    g.unregister = function() {
        this.context = this.callback = null;
        this.stop()
    };
    g.handle = function(c) {
        for (this.acc += c; this.acc >= this.dt;) this.callback.call(this.context, this.dt),
        this.acc -= this.dt
    };
    g.start = function() {
        egret.Ticker.getInstance().register(this.handle, this)
    };
    g.stop = function() {
        egret.Ticker.getInstance().unregister(this.handle, this);
        this.acc = 0;
        this.framerate = 60
    };
    g.pause = function() {
        egret.Ticker.getInstance().unregister(this.handle, this)
    };
    g.resume = function() {
        egret.Ticker.getInstance().register(this.handle, this)
    };
    Object.defineProperty(g, "framerate", {
        set: function(f) {
            c.FPS = f;
            this.dt = Number((1E3 / f).toFixed(1))
        },
        enumerable: !0,
        configurable: !0
    });
    c.FPS = 60;
    return c
} ();
Render.prototype.__class__ = "Render";
var tool = function() {
    function c() {}
    c.setWH = function(g) {
        c.stageW = g.stage.stageWidth;
        c.stageH = g.stage.stageHeight;
        c.stinger(g)
    };
    c.stinger = function(g) {
        function f(d) {
            var f = c.getXY(d).x;
            d = c.getXY(d).y;
            100 > f && d > c.stageH - 100 && (a = !0);
            f > c.stageW - 100 && d > c.stageH - 100 && a && (e = !0);
            f > c.stageW / 2 - 50 && f < c.stageW / 2 + 50 && 100 > d && a && e && (b = !0)
        }
        function d(c) {
            if (b && a && e) {
                c = g.numChildren;
                for (var d = 0; d < c; d++) {
                    var f = g.getChildAt(0);
                    g.removeChild(f)
                }
                c = new Loading("stinger");
                g.addChild(c)
            }
        }
        var b = !1,
        a = !1,
        e = !1;
        g.touchEnabled = !0;
        g.addEventListener(egret.TouchEvent.TOUCH_BEGIN,
        function(h) {
            e = a = b = !1;
            var t = c.getXY(h).x;
            h = c.getXY(h).y;
            t > c.stageW / 2 - 50 && t < c.stageW / 2 + 50 && 100 > h && (g.addEventListener(egret.TouchEvent.TOUCH_MOVE, f, g), g.addEventListener(egret.TouchEvent.TOUCH_END, d, g))
        },
        g)
    };
    c.initBitmap = function(c, f, d, b, a) {
        var e = new egret.Bitmap;
        e.texture = RES.getRes(c);
        e.x = f ? f: 0;
        e.y = d ? d: 0;
        e.anchorX = b ? b: 0;
        e.anchorY = a ? a: 0;
        return e
    };
    c.initMovieClip = function(c, f, d, b, a) {
        var e = RES.getRes(c + "MC"),
        h = RES.getRes(c),
        e = new egret.MovieClipDataFactory(e, h);
        c = new egret.MovieClip(e.generateMovieClipData(c));
        c.x = f ? f: 0;
        c.y = d ? d: 0;
        c.anchorX = b ? b: 0;
        c.anchorY = a ? a: 0;
        return c
    };
    c.changeMovieClipData = function(c, f) {
        c.stop();
        var d = RES.getRes(f + "MC"),
        b = RES.getRes(f),
        d = new egret.MovieClipDataFactory(d, b);
        c.movieClipData = d.generateMovieClipData(f)
    };
    c.initTextField = function(c, f, d, b, a, e, h, t, u, p) {
        var k = new egret.TextField;
        k.text = c + "";
        k.x = f ? f: 0;
        k.y = d ? d: 0;
        k.textColor = b ? b: 16777215;
        k.size = a ? a: 30;
        k.fontFamily = e ? e: "SimHei";
        k.textAlign = h || egret.HorizontalAlign.LEFT;
        k.anchorX = t || 0;
        k.anchorY = u || 0;
        k.lineSpacing = p || 0;
        return k
    };
    c.initBitmapText = function(c, f, d, b, a, e) {
        var h = new egret.BitmapText;
        h.font = RES.getRes(c + "Font");
        h.text = "" + f;
        h.x = d ? d: 0;
        h.y = b ? b: 0;
        h.anchorX = a ? a: 0;
        h.anchorY = e ? e: 0;
        return h
    };
    c.initScale9GridBitmap = function(c, f, d, b, a, e, h, t, u, p, k) {
        var l = new egret.Bitmap;
        l.texture = RES.getRes(c);
        c = new egret.Rectangle(f, d, b, a);
        l.scale9Grid = c;
        l.width = e ? e: 0;
        l.height = h ? h: 0;
        l.x = t ? t: 0;
        l.y = u ? u: 0;
        l.anchorX = p ? p: 0;
        l.anchorY = k ? k: 0;
        return l
    };
    c.initSound = function(c) {
        return RES.getRes(c)
    };
    c.initRect = function(c, f, d, b, a) {
        void 0 === f && (f = 0);
        void 0 === d && (d = 0);
        void 0 === b && (b = 0);
        void 0 === a && (a = 0);
        var e = new egret.Shape;
        e.graphics.beginFill(c);
        e.graphics.drawRect(f, d, b, a);
        e.graphics.endFill();
        return e
    };
    c.initParticle = function(c, f, d, b, a) {
        var e = RES.getRes(c);
        c = RES.getRes(c + "MC");
        e = new particle.GravityParticleSystem(e, c);
        e.x = f ? f: 0;
        e.y = d ? d: 0;
        e.anchorX = b ? b: 0;
        e.anchorY = a ? a: 0;
        return e
    };
    c.getXY = function(c) {
        return {
            x: c.stageX,
            y: c.stageY
        }
    };
    c.addChildren = function(c, f) {
        for (var d = 0; d < c.length; d++) f.addChild(c[d])
    };
    c.removeChildren = function(c, f) {
        for (var d = 0; d < c.length; d++) f.contains(c[d]) && f.removeChild(c[d])
    };
    c.test2RectHit = function(c, f) {
        return Math.max(c.x, f.x) <= Math.min(c.x + c.width, f.x + f.width) && Math.max(c.y, f.y) <= Math.min(c.y + c.height, f.y + f.height)
    };
    c.getData = function(c, f, d) {
        var b = new egret.URLLoader;
        b.addEventListener(egret.Event.COMPLETE,
        function(a) {
            d(b.data)
        },
        this);
        var a = new egret.URLRequest;
        a.url = c;
        a.requestHeaders = [new egret.URLRequestHeader("Access-Control-Allow-Origin", "*")];
        f && (a.method = egret.URLRequestMethod.POST, a.data = new egret.URLVariables(f));
        b.load(a)
    };
    c.randomInt = function(c) {
        return Math.floor(Math.random() * c)
    };
    c.btnPress = function(c, f, d, b, a, e) {
        c.touchEnabled = !0;
        c.addEventListener(egret.TouchEvent.TOUCH_BEGIN,
        function() {
            b && (c.texture = RES.getRes(b));
            e && e.call(d)
        },
        d);
        c.addEventListener(egret.TouchEvent.TOUCH_END,
        function() {
            a && (c.texture = RES.getRes(a));
            f.call(d)
        },
        d);
        c.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,
        function() {
            a && (c.texture = RES.getRes(a))
        },
        d)
    };
    c.setBestScore = function(c) {
        var f;
        egret.localStorage.getItem("bestScore") ? (f = Number(egret.localStorage.getItem("bestScore")), c > f && (f = c, egret.localStorage.setItem("bestScore", f + ""))) : (f = c, egret.localStorage.setItem("bestScore", f + ""));
        return f
    };
    c.setFullWidthObj = function(g, f, d) {
        g && (f = f || g.texture.textureWidth, d = d || g.texture.textureHeight, g.width = c.stageW, g.height = c.stageW * d / f)
    };
    c.setBgWH = function(g) {
        g && (g.width = c.stageW, g.height = c.stageH)
    };
    c.forMatrix = function(c, f, d, b, a) {
        void 0 === d && (d = []);
        void 0 === b && (b = 6);
        void 0 === a && (a = 6);
        for (var e = 0; e < b; e++) for (var h = 0; h < a; h++) {
            var t = [e, h];
            t.push(d);
            c.apply(f, t)
        }
    };
    return c
} ();
tool.prototype.__class__ = "tool";
var gamePane = function(c) {
    function g(d) {
        c.call(this);
        this.score = 0;
        this.cigroupArr = [];
        this.ciV = 1.5;
        this.ballfallV = 8;
        this.balljumpstate = 0;
        this.animateArr = [];
        this.bg = tool.initBitmap("bg");
        this.bg.width = tool.stageW;
        this.bg.height = tool.stageH;
        this.scoreText = tool.initTextField(this.score + "", tool.stageW / 2, 100, 12155458, 100, "SimHei", egret.HorizontalAlign.CENTER, 0.5);
        this.road = tool.initBitmap("road" + tool.randomInt(4), 0, tool.stageH / 2 - 100);
        this.road.width = tool.stageW;
        this.road.height = 0.7921875 * tool.stageW;
        this.road.anchorOffsetX = 0.15625 * this.road.width;
        this.road.anchorOffsetY = 200 / 507 * this.road.height;
        this.road.x = this.road.anchorOffsetX;
        this.road.y = tool.stageH / 2 - 100 + this.road.anchorOffsetY;
        this.shadow = tool.initBitmap("shadow", this.road.x, this.road.y, 0.5, 0.5);
        this.shadow.scaleX = 0.7;
        this.shadow.scaleY = 0.7;
        this.ball = tool.initBitmap("ball" + d, this.road.x, this.road.y - 30, 0.5, 0.5);
        this.balloriginY = this.road.y - 30;
        this.coinlogo = tool.initBitmap("coin", tool.stageW - 150, tool.stageH - 100, 1);
        d = Number(egret.localStorage.getItem("money"));
        this.moneytf = tool.initTextField(d + "", tool.stageW - 135, tool.stageH - 100, 9453568, 70);
        tool.addChildren([this.bg, this.scoreText, this.road, this.shadow, this.ball, this.coinlogo, this.moneytf], this);
        this.bg.touchEnabled = !0;
        this.bg.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.ballJump, this);
        this.run();
        d = [tool.initBitmap("ci0", 800, this.shadow.y - 200, 0.5, 0.9)];
        d[0].testH = 45;
        d[0].name = "ci0";
        var b = [tool.initBitmap("ci1", 1360, this.shadow.y - 360, 0.5, 0.9)];
        b[0].testH = 111;
        b[0].name = "ci1";
        tool.addChildren(d, this);
        tool.addChildren(b, this);
        this.setChildIndex(d[0], 3);
        this.setChildIndex(b[0], 3);
        this.cigroupArr.push(d);
        this.cigroupArr.push(b)
    }
    __extends(g, c);
    var f = g.prototype;
    f.initCiGroup = function() {
        function c(d) {
            var e = tool.initBitmap(d.name, a, b, 0.5, 0.9);
            e.testH = d.testH;
            e.name = d.name;
            return e
        }
        var b = this.shadow.y - 200,
        a = 800,
        e = tool.initBitmap("ci0", a, b, 0.5, 0.9);
        e.testH = 43;
        e.name = "ci0";
        var f = tool.initBitmap("ci1", a, b, 0.5, 0.9);
        f.testH = 105;
        f.name = "ci1";
        var g = tool.initBitmap("ci2", a, b, 0.5, 0.9);
        g.testH = 155;
        g.name = "ci2";
        var u = tool.initBitmap("ci3", a, b, 0.5, 0.9);
        u.testH = 225;
        u.name = "ci3";
        var p = tool.initBitmap("quana", a, b - 40, 0, 1),
        k = tool.initBitmap("quanb", a, b - 40, 1, 1);
        p.testH = 55;
        p.name = "quana";
        k.testH = 55;
        k.name = "quanb";
        var l = tool.initBitmap("shadow", a, b, 0.5, 0.5);
        l.scaleX = 0.5;
        l.scaleY = 0.5;
        l.testH = 0;
        l.name = "shadow";
        var m = tool.initBitmap("coin", a, b - 30, 0.5, 0.9);
        m.testH = 100;
        m.name = "coin";
        m.isget = !1;
        m.shadow = l;
        e = [[k, p, l], [g, e], [e, c(e), c(e)], [f, c(f)], [f], [e], [m, l], [m, l], [e, f, c(e)], [e, c(e), c(e), c(e)], [e], [f], [g], [u]];
        return function(a) {
            for (var b = 0; b < a.length; b++)"ci" === a[b].name.substr(0, 2) && (a[b].x = 800 + 100 * b, a[b].y -= 28.5 * b);
            return a
        } (e[tool.randomInt(e.length)])
    };
    f.cigroupAnimate = function() {
        for (var c = 0; c < this.cigroupArr.length; c++) for (var b = 0; b < this.cigroupArr[c].length; b++) this.cigroupArr[c][b].x -= 3.5 * this.ciV,
        this.cigroupArr[c][b].y += this.ciV,
        60 < this.cigroupArr[c][b].x && 140 > this.cigroupArr[c][b].x && this.test(this.cigroupArr[c][b]); - 350 > this.cigroupArr[0][0].x && (c = this.cigroupArr.shift(), tool.removeChildren(c, this), c = this.initCiGroup(), tool.addChildren(c, this), this.setChildIndex(this.ball, -1), this.cigroupArr.push(c))
    };
    f.test = function(c) {
        "ci" === c.name.substr(0, 2) && this.ball.y > this.balloriginY + 30 - c.testH && this.gameover();
        "quana" === c.name && 90 < c.x && 110 > c.x && (this.setChildIndex(c, -1), (this.ball.y > this.balloriginY + 30 - c.testH - 48 - 20 || this.ball.y < this.balloriginY + 30 - c.testH - 210 + 50 && this.ball.y > this.balloriginY + 30 - c.testH - 258 - 30) && this.gameover());
        if ("coin" === c.name && !c.isget && this.ball.y > this.balloriginY + 30 - c.testH) {
            var b = Number(egret.localStorage.getItem("money")) + 1;
            egret.localStorage.setItem("money", b + "");
            this.moneytf.text = b + "";
            c.isget = !0;
            c.alpha = 0;
            c.shadow.alpha = 0;
            var a = tool.initTextField("+1", this.ball.x, this.ball.y - 100, 9453568, 40);
            this.addChild(a);
            egret.Tween.get(a).to({
                y: this.ball.y - 150,
                alpha: 0
            },
            500).call(function() {
                this.removeChild(a)
            },
            this)
        }
    };
    f.ballAnimate = function() {
        this.ball.rotation += 5 * this.ciV;
        this.ball.y < this.balloriginY ? this.ball.y += this.ballfallV: this.balljumpstate = 0;
        this.shadow.scaleX = (360 - (this.balloriginY - this.ball.y)) / 360 * 0.7;
        this.shadow.scaleY = (360 - (this.balloriginY - this.ball.y)) / 360 * 0.7
    };
    f.ballJump = function() {
        2 >= this.balljumpstate && (this.score++, this.scoreText.text = this.score + "", egret.Tween.removeTweens(this.ball), this.balljumpstate++, egret.Tween.get(this.ball).to({
            y: this.ball.y - 148
        },
        250))
    };
    f.gameover = function() {
        this.render.stop();
        this.bg.touchEnabled = !1;
        egret.Tween.removeAllTweens();
        this.ball.alpha = 0;
        this.shadow.alpha = 0;
        var c = tool.initParticle("particle", this.ball.x - 200, this.ball.y - 150, 0.5, 0.5);
        this.addChild(c);
        c.start();
        egret.setTimeout(function() {
            c.stop();
            this.removeChild(c);
            this.dispatchEventWith("gameover", !1, this.score)
        },
        this, 1E3)
    };
    f.run = function() {
        this.render = new Render;
        this.render.register(this.loop, this);
        this.render.start();
        this.animateRegister(this.ballAnimate);
        this.animateRegister(this.cigroupAnimate)
    };
    f.loop = function() {
        for (var c = 0; c < this.animateArr.length; c++) this.animateArr[c].call(this)
    };
    f.animateRegister = function(c) { - 1 === this.animateArr.indexOf(c) && this.animateArr.push(c)
    };
    f.animateUnregister = function(c) {
        c = this.animateArr.indexOf(c); - 1 !== c && this.animateArr.splice(c, 1)
    };
    return g
} (egret.DisplayObjectContainer);
gamePane.prototype.__class__ = "gamePane";
var GameContainer = function(c) {
    function g() {
        c.call(this);
        this.startgroup = [];
        this.ballNum = 0;
        this.isTeach = !0;
        this.lockarr = ["1", "0", "0", "0", "0"];
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)
    }
    __extends(g, c);
    var f = g.prototype;
    f.onAddToStage = function(c) {
        this.removeEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this);
        tool.setWH(this);
        this.createGameScene()
    };
    f.createGameScene = function() {
        this.dkz = tool.initBitmap("bg", tool.stageW / 2, 0, 0.5);
        this.dkz.width = tool.stageW;
        this.dkz.height = tool.stageH;
        this.addChild(this.dkz);
        var c = 0;
        egret.localStorage.getItem("money") ? (c = Number(egret.localStorage.getItem("money")), this.lockarr = egret.localStorage.getItem("lockarr").split(",")) : (egret.localStorage.setItem("money", "0"), egret.localStorage.setItem("lockarr", this.lockarr.toString()));
        var b = tool.initBitmap("bg");
        b.width = tool.stageW;
        b.height = tool.stageH;
        var a = tool.initBitmap("road" + tool.randomInt(4), 0, tool.stageH / 2 - 100);
        a.width = tool.stageW;
        a.height = 0.7921875 * tool.stageW;
        var e = tool.initBitmap("title", tool.stageW / 2, 62, 0.5),
        f = tool.initBitmap("coin-number-bg", tool.stageW / 2, 405, 0.5),
        g = tool.initBitmap("choose-bg", 0, 528);
        g.width = tool.stageW;
        var u = tool.initBitmap("begin", tool.stageW / 2, 907, 0.5);
        this.moneytf = c = tool.initTextField(c + "", tool.stageW / 2 - 20, f.y + 20, 9453568, 37, "SimHei", null, 1, 0);
        var p = tool.initBitmap("ball" + this.ballNum, tool.stageW / 2, g.y + 57, 0.5);
        this.ball = p;
        var k = tool.initBitmap("left", 105, g.y + 53),
        l = tool.initBitmap("right", tool.stageW - 105, g.y + 53, 1);
        this.lockdiv = tool.initBitmap("unlock", tool.stageW / 2, 731, 0.5);
        this.lockdiv.alpha = 0;
        this.lockmoney = tool.initTextField(10 * this.ballNum, tool.stageW / 2 + 50, this.lockdiv.y + 20, 16318278, 50, "SimHei");
        this.lockmoney.alpha = 0;
        this.notenoughalert = tool.initTextField("\u91d1\u5e01\u4e0d\u8db3", tool.stageW / 2, 498, 9453568, 30, null, null, 0.5);
        this.notenoughalert.alpha = 0;
        this.startgroup = [b, a, e, f, g, c, p, k, l, u, this.lockdiv, this.lockmoney, this.notenoughalert];
        tool.addChildren(this.startgroup, this);
        this.lockdiv.addEventListener(egret.TouchEvent.TOUCH_TAP, this.dounlock, this);
        u.touchEnabled = !0;
        u.addEventListener(egret.TouchEvent.TOUCH_TAP, this.dobegin, this);
        k.touchEnabled = !0;
        k.addEventListener(egret.TouchEvent.TOUCH_TAP, this.doleft, this);
        l.touchEnabled = !0;
        l.addEventListener(egret.TouchEvent.TOUCH_TAP, this.doright, this)
    };
    f.dounlock = function() {
        var c = Number(egret.localStorage.getItem("money"));
        c >= 10 * this.ballNum ? (egret.localStorage.setItem("money", c - 10 * this.ballNum + ""), this.moneytf.text = egret.localStorage.getItem("money"), this.lockarr[this.ballNum] = "1", egret.localStorage.setItem("lockarr", this.lockarr.toString()), this.lockdiv.alpha = 0, this.lockmoney.alpha = 0, this.lockdiv.touchEnabled = !1) : (egret.Tween.removeTweens(this.notenoughalert), this.notenoughalert.alpha = 1, egret.Tween.get(this.notenoughalert).to({
            alpha: 0
        },
        2E3))
    };
    f.doleft = function() {
        this.ballNum--; - 1 === this.ballNum && (this.ballNum = 4);
        this.ball.texture = RES.getRes("ball" + this.ballNum);
        "0" === this.lockarr[this.ballNum] ? (this.lockdiv.alpha = 1, this.lockmoney.text = 10 * this.ballNum + "", this.lockmoney.alpha = 1, this.lockdiv.touchEnabled = !0) : (this.lockdiv.alpha = 0, this.lockmoney.alpha = 0, this.lockdiv.touchEnabled = !1)
    };
    f.doright = function() {
        this.ballNum++;
        5 === this.ballNum && (this.ballNum = 0);
        this.ball.texture = RES.getRes("ball" + this.ballNum);
        "0" === this.lockarr[this.ballNum] ? (this.lockdiv.alpha = 1, this.lockmoney.text = 10 * this.ballNum + "", this.lockmoney.alpha = 1, this.lockdiv.touchEnabled = !0) : (this.lockdiv.alpha = 0, this.lockmoney.alpha = 0, this.lockdiv.touchEnabled = !1)
    };
    f.dobegin = function() {
        if ("1" === this.lockarr[this.ballNum]) if (tool.removeChildren(this.startgroup, this), this.isTeach) {
            this.isTeach = !1;
            var c = tool.initBitmap("rule1");
            c.width = tool.stageW;
            c.height = tool.stageH;
            this.addChild(c);
            c.touchEnabled = !0;
            c.addEventListener(egret.TouchEvent.TOUCH_TAP,
            function() {
                b.removeChild(c);
                var a = tool.initBitmap("rule2");
                a.width = tool.stageW;
                a.height = tool.stageH;
                b.addChild(a);
                a.touchEnabled = !0;
                a.addEventListener(egret.TouchEvent.TOUCH_TAP,
                function() {
                    b.removeChild(a);
                    b.gamestart()
                },
                b)
            },
            this);
            var b = this
        } else this.gamestart()
    };
    f.gamestart = function() {
        meiriq.CommonComponent.instance.executedHook("start");
        this.removeChild(this.dkz);
        this.gamepane = new gamePane(this.ballNum);
        this.addChild(this.gamepane);
        this.gamepane.addEventListener("gameover", this.gameover, this)
    };
    f.gameover = function(c) {
        25 > c.data ? meiriq.CommonComponent.instance.gameData.overModal(RES.getRes("level1")) : 50 > c.data ? meiriq.CommonComponent.instance.gameData.overModal(RES.getRes("level2")) : meiriq.CommonComponent.instance.gameData.overModal(RES.getRes("level3"));
        meiriq.CommonComponent.instance.executedHook("gameover", c.data, this.home, this)
    };
    f.home = function() {
        this.removeChild(this.gamepane);
        this.createGameScene()
    };
    return g
} (egret.DisplayObjectContainer);
GameContainer.prototype.__class__ = "GameContainer";
var Main = function(c) {
    function g() {
        c.call(this);
        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this)
    }
    __extends(g, c);
    var f = g.prototype;
    f.onAddToStage = function() {
        meiriq.CommonComponent.instance.init("egretqiuqiu", {
            width: 640,
            height: 1136,
            check_orient: !0,
            orient_hoz: !1
        });
        meiriq.CommonComponent.instance.load(this.onResourceLoad, this, null, "preload")
    };
    f.onResourceLoad = function() {
        meiriq.CommonComponent.instance.implementsInterFace("pause",
        function() {
            egret.Ticker.getInstance().pause()
        },
        this);
        meiriq.CommonComponent.instance.implementsInterFace("resume",
        function() {
            egret.Ticker.getInstance().resume()
        },
        this);
        meiriq.CommonComponent.instance.implementsInterFace("home", this.createGameScene, this);
        this.createGameScene()
    };
    f.createGameScene = function() {
        var c = new GameContainer;
        this.addChild(c)
    };
    return g
} (egret.DisplayObjectContainer);
Main.prototype.__class__ = "Main";